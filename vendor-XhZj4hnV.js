
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="37ec0c08-9b64-5efe-ac39-5d279a06b825")}catch(e){}}();
var RO=n=>{throw TypeError(n)};var xC=(n,e,t)=>e.has(n)||RO("Cannot "+t);var U=(n,e,t)=>(xC(n,e,"read from private field"),t?t.call(n):e.get(n)),Ke=(n,e,t)=>e.has(n)?RO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Ie=(n,e,t,r)=>(xC(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),st=(n,e,t)=>(xC(n,e,"access private method"),t);var Wm=(n,e,t,r)=>({set _(i){Ie(n,e,i,t)},get _(){return U(n,e,r)}});function uB(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var jJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function GJ(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var DC={exports:{}},Jh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kO;function dB(){if(kO)return Jh;kO=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var c=null;if(a!==void 0&&(c=""+a),i.key!==void 0&&(c=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:c,ref:i!==void 0?i:null,props:a}}return Jh.Fragment=e,Jh.jsx=t,Jh.jsxs=t,Jh}var IO;function hB(){return IO||(IO=1,DC.exports=dB()),DC.exports}var Fe=hB();function te(n,e,t){function r(u,d){var f;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(f=u._zod).traits??(f.traits=new Set),u._zod.traits.add(n),e(u,d);for(const p in c.prototype)p in u||Object.defineProperty(u,p,{value:c.prototype[p].bind(u)});u._zod.constr=c,u._zod.def=d}const i=(t==null?void 0:t.Parent)??Object;class a extends i{}Object.defineProperty(a,"name",{value:n});function c(u){var d;const f=t!=null&&t.Parent?new a:this;r(f,u),(d=f._zod).deferred??(d.deferred=[]);for(const p of f._zod.deferred)p();return f}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:u=>{var d,f;return t!=null&&t.Parent&&u instanceof t.Parent?!0:(f=(d=u==null?void 0:u._zod)==null?void 0:d.traits)==null?void 0:f.has(n)}}),Object.defineProperty(c,"name",{value:n}),c}class Uu extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Zx extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const AT={};function ks(n){return n&&Object.assign(AT,n),AT}function fB(n){const e=Object.values(n).filter(r=>typeof r=="number");return Object.entries(n).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function wT(n,e){return typeof e=="bigint"?e.toString():e}function M_(n){return{get value(){{const e=n();return Object.defineProperty(this,"value",{value:e}),e}}}}function uw(n){return n==null}function dw(n){const e=n.startsWith("^")?1:0,t=n.endsWith("$")?n.length-1:n.length;return n.slice(e,t)}function pB(n,e){const t=(n.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d!=null&&d[1]&&(i=Number.parseInt(d[1]))}const a=t>i?t:i,c=Number.parseInt(n.toFixed(a).replace(".","")),u=Number.parseInt(e.toFixed(a).replace(".",""));return c%u/10**a}const OO=Symbol("evaluating");function wt(n,e,t){let r;Object.defineProperty(n,e,{get(){if(r!==OO)return r===void 0&&(r=OO,r=t()),r},set(i){Object.defineProperty(n,e,{value:i})},configurable:!0})}function dl(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}function hl(...n){const e={};for(const t of n){const r=Object.getOwnPropertyDescriptors(t);Object.assign(e,r)}return Object.defineProperties({},e)}function NO(n){return JSON.stringify(n)}const Wx="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function Hf(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const gB=M_(()=>{var n;if(typeof navigator<"u"&&((n=navigator==null?void 0:navigator.userAgent)!=null&&n.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function ld(n){if(Hf(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(Hf(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}function Xx(n){return ld(n)?{...n}:Array.isArray(n)?[...n]:n}const mB=new Set(["string","number","symbol"]);function ud(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function zs(n,e,t){const r=new n._zod.constr(e??n._zod.def);return(!e||t!=null&&t.parent)&&(r._zod.parent=n),r}function xe(n){const e=n;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function vB(n){return Object.keys(n).filter(e=>n[e]._zod.optin==="optional"&&n[e]._zod.optout==="optional")}const yB={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function _B(n,e){const t=n._zod.def,r=hl(n._zod.def,{get shape(){const i={};for(const a in e){if(!(a in t.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(i[a]=t.shape[a])}return dl(this,"shape",i),i},checks:[]});return zs(n,r)}function bB(n,e){const t=n._zod.def,r=hl(n._zod.def,{get shape(){const i={...n._zod.def.shape};for(const a in e){if(!(a in t.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete i[a]}return dl(this,"shape",i),i},checks:[]});return zs(n,r)}function EB(n,e){if(!ld(e))throw new Error("Invalid input to extend: expected a plain object");const t=n._zod.def.checks;if(t&&t.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=hl(n._zod.def,{get shape(){const a={...n._zod.def.shape,...e};return dl(this,"shape",a),a},checks:[]});return zs(n,i)}function CB(n,e){if(!ld(e))throw new Error("Invalid input to safeExtend: expected a plain object");const t={...n._zod.def,get shape(){const r={...n._zod.def.shape,...e};return dl(this,"shape",r),r},checks:n._zod.def.checks};return zs(n,t)}function SB(n,e){const t=hl(n._zod.def,{get shape(){const r={...n._zod.def.shape,...e._zod.def.shape};return dl(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return zs(n,t)}function TB(n,e,t){const r=hl(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};if(t)for(const c in t){if(!(c in i))throw new Error(`Unrecognized key: "${c}"`);t[c]&&(a[c]=n?new n({type:"optional",innerType:i[c]}):i[c])}else for(const c in i)a[c]=n?new n({type:"optional",innerType:i[c]}):i[c];return dl(this,"shape",a),a},checks:[]});return zs(e,r)}function AB(n,e,t){const r=hl(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};if(t)for(const c in t){if(!(c in a))throw new Error(`Unrecognized key: "${c}"`);t[c]&&(a[c]=new n({type:"nonoptional",innerType:i[c]}))}else for(const c in i)a[c]=new n({type:"nonoptional",innerType:i[c]});return dl(this,"shape",a),a},checks:[]});return zs(e,r)}function Ru(n,e=0){var t;if(n.aborted===!0)return!0;for(let r=e;r<n.issues.length;r++)if(((t=n.issues[r])==null?void 0:t.continue)!==!0)return!0;return!1}function ku(n,e){return e.map(t=>{var r;return(r=t).path??(r.path=[]),t.path.unshift(n),t})}function Xm(n){return typeof n=="string"?n:n==null?void 0:n.message}function Is(n,e,t){var i,a,c,u,d,f;const r={...n,path:n.path??[]};if(!n.message){const p=Xm((c=(a=(i=n.inst)==null?void 0:i._zod.def)==null?void 0:a.error)==null?void 0:c.call(a,n))??Xm((u=e==null?void 0:e.error)==null?void 0:u.call(e,n))??Xm((d=t.customError)==null?void 0:d.call(t,n))??Xm((f=t.localeError)==null?void 0:f.call(t,n))??"Invalid input";r.message=p}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}function hw(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function Ff(...n){const[e,t,r]=n;return typeof e=="string"?{message:e,code:"custom",input:t,inst:r}:{...e}}const Jx=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,wT,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},eD=te("$ZodError",Jx),tD=te("$ZodError",Jx,{Parent:Error});function wB(n,e=t=>t.message){const t={},r=[];for(const i of n.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}function RB(n,e=t=>t.message){const t={_errors:[]},r=i=>{for(const a of i.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(c=>r({issues:c}));else if(a.code==="invalid_key")r({issues:a.issues});else if(a.code==="invalid_element")r({issues:a.issues});else if(a.path.length===0)t._errors.push(e(a));else{let c=t,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(e(a))):c[d]=c[d]||{_errors:[]},c=c[d],u++}}};return r(n),t}const fw=n=>(e,t,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},c=e._zod.run({value:t,issues:[]},a);if(c instanceof Promise)throw new Uu;if(c.issues.length){const u=new((i==null?void 0:i.Err)??n)(c.issues.map(d=>Is(d,a,ks())));throw Wx(u,i==null?void 0:i.callee),u}return c.value},pw=n=>async(e,t,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let c=e._zod.run({value:t,issues:[]},a);if(c instanceof Promise&&(c=await c),c.issues.length){const u=new((i==null?void 0:i.Err)??n)(c.issues.map(d=>Is(d,a,ks())));throw Wx(u,i==null?void 0:i.callee),u}return c.value},P_=n=>(e,t,r)=>{const i=r?{...r,async:!1}:{async:!1},a=e._zod.run({value:t,issues:[]},i);if(a instanceof Promise)throw new Uu;return a.issues.length?{success:!1,error:new(n??eD)(a.issues.map(c=>Is(c,i,ks())))}:{success:!0,data:a.value}},kB=P_(tD),x_=n=>async(e,t,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:t,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new n(a.issues.map(c=>Is(c,i,ks())))}:{success:!0,data:a.value}},IB=x_(tD),OB=n=>(e,t,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return fw(n)(e,t,i)},NB=n=>(e,t,r)=>fw(n)(e,t,r),MB=n=>async(e,t,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return pw(n)(e,t,i)},PB=n=>async(e,t,r)=>pw(n)(e,t,r),xB=n=>(e,t,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return P_(n)(e,t,i)},DB=n=>(e,t,r)=>P_(n)(e,t,r),LB=n=>async(e,t,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return x_(n)(e,t,i)},UB=n=>async(e,t,r)=>x_(n)(e,t,r),zB=/^[cC][^\s-]{8,}$/,HB=/^[0-9a-z]+$/,FB=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,BB=/^[0-9a-vA-V]{20}$/,KB=/^[A-Za-z0-9]{27}$/,qB=/^[a-zA-Z0-9_-]{21}$/,$B=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,jB=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,MO=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,GB=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,VB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function YB(){return new RegExp(VB,"u")}const QB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ZB=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,WB=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,XB=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,JB=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,nD=/^[A-Za-z0-9_-]*$/,e2=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,t2=/^\+(?:[0-9]){6,14}[0-9]$/,rD="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",n2=new RegExp(`^${rD}$`);function iD(n){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${e}`:n.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${n.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function r2(n){return new RegExp(`^${iD(n)}$`)}function i2(n){const e=iD({precision:n.precision}),t=["Z"];n.local&&t.push(""),n.offset&&t.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${t.join("|")})`;return new RegExp(`^${rD}T(?:${r})$`)}const o2=n=>{const e=n?`[\\s\\S]{${(n==null?void 0:n.minimum)??0},${(n==null?void 0:n.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},a2=/^-?\d+$/,s2=/^-?\d+(?:\.\d+)?/,c2=/^(?:true|false)$/i,l2=/^null$/i,u2=/^undefined$/i,d2=/^[^A-Z]*$/,h2=/^[^a-z]*$/,qr=te("$ZodCheck",(n,e)=>{var t;n._zod??(n._zod={}),n._zod.def=e,(t=n._zod).onattach??(t.onattach=[])}),oD={number:"number",bigint:"bigint",object:"date"},aD=te("$ZodCheckLessThan",(n,e)=>{qr.init(n,e);const t=oD[typeof e.value];n._zod.onattach.push(r=>{const i=r._zod.bag,a=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:t,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),sD=te("$ZodCheckGreaterThan",(n,e)=>{qr.init(n,e);const t=oD[typeof e.value];n._zod.onattach.push(r=>{const i=r._zod.bag,a=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),n._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:t,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),f2=te("$ZodCheckMultipleOf",(n,e)=>{qr.init(n,e),n._zod.onattach.push(t=>{var r;(r=t._zod.bag).multipleOf??(r.multipleOf=e.value)}),n._zod.check=t=>{if(typeof t.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof t.value=="bigint"?t.value%e.value===BigInt(0):pB(t.value,e.value)===0)||t.issues.push({origin:typeof t.value,code:"not_multiple_of",divisor:e.value,input:t.value,inst:n,continue:!e.abort})}}),p2=te("$ZodCheckNumberFormat",(n,e)=>{var c;qr.init(n,e),e.format=e.format||"float64";const t=(c=e.format)==null?void 0:c.includes("int"),r=t?"int":"number",[i,a]=yB[e.format];n._zod.onattach.push(u=>{const d=u._zod.bag;d.format=e.format,d.minimum=i,d.maximum=a,t&&(d.pattern=a2)}),n._zod.check=u=>{const d=u.value;if(t){if(!Number.isInteger(d)){u.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:d,inst:n});return}if(!Number.isSafeInteger(d)){d>0?u.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort}):u.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:r,continue:!e.abort});return}}d<i&&u.issues.push({origin:"number",input:d,code:"too_small",minimum:i,inclusive:!0,inst:n,continue:!e.abort}),d>a&&u.issues.push({origin:"number",input:d,code:"too_big",maximum:a,inst:n})}}),g2=te("$ZodCheckMaxLength",(n,e)=>{var t;qr.init(n,e),(t=n._zod.def).when??(t.when=r=>{const i=r.value;return!uw(i)&&i.length!==void 0}),n._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),n._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const c=hw(i);r.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:n,continue:!e.abort})}}),m2=te("$ZodCheckMinLength",(n,e)=>{var t;qr.init(n,e),(t=n._zod.def).when??(t.when=r=>{const i=r.value;return!uw(i)&&i.length!==void 0}),n._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),n._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const c=hw(i);r.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:n,continue:!e.abort})}}),v2=te("$ZodCheckLengthEquals",(n,e)=>{var t;qr.init(n,e),(t=n._zod.def).when??(t.when=r=>{const i=r.value;return!uw(i)&&i.length!==void 0}),n._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),n._zod.check=r=>{const i=r.value,a=i.length;if(a===e.length)return;const c=hw(i),u=a>e.length;r.issues.push({origin:c,...u?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:n,continue:!e.abort})}}),D_=te("$ZodCheckStringFormat",(n,e)=>{var t,r;qr.init(n,e),n._zod.onattach.push(i=>{const a=i._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(t=n._zod).check??(t.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:n,continue:!e.abort})}):(r=n._zod).check??(r.check=()=>{})}),y2=te("$ZodCheckRegex",(n,e)=>{D_.init(n,e),n._zod.check=t=>{e.pattern.lastIndex=0,!e.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),_2=te("$ZodCheckLowerCase",(n,e)=>{e.pattern??(e.pattern=d2),D_.init(n,e)}),b2=te("$ZodCheckUpperCase",(n,e)=>{e.pattern??(e.pattern=h2),D_.init(n,e)}),E2=te("$ZodCheckIncludes",(n,e)=>{qr.init(n,e);const t=ud(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${t}`:t);e.pattern=r,n._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),n._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:n,continue:!e.abort})}}),C2=te("$ZodCheckStartsWith",(n,e)=>{qr.init(n,e);const t=new RegExp(`^${ud(e.prefix)}.*`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(t)}),n._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:n,continue:!e.abort})}}),S2=te("$ZodCheckEndsWith",(n,e)=>{qr.init(n,e);const t=new RegExp(`.*${ud(e.suffix)}$`);e.pattern??(e.pattern=t),n._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(t)}),n._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:n,continue:!e.abort})}}),T2=te("$ZodCheckOverwrite",(n,e)=>{qr.init(n,e),n._zod.check=t=>{t.value=e.tx(t.value)}});class A2{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(c=>c),i=Math.min(...r.map(c=>c.length-c.trimStart().length)),a=r.map(c=>c.slice(i)).map(c=>" ".repeat(this.indent*2)+c);for(const c of a)this.content.push(c)}compile(){const e=Function,t=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new e(...t,i.join(`
`))}}const w2={major:4,minor:1,patch:12},Ft=te("$ZodType",(n,e)=>{var i;var t;n??(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=w2;const r=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&r.unshift(n);for(const a of r)for(const c of a._zod.onattach)c(n);if(r.length===0)(t=n._zod).deferred??(t.deferred=[]),(i=n._zod.deferred)==null||i.push(()=>{n._zod.run=n._zod.parse});else{const a=(u,d,f)=>{let p=Ru(u),g;for(const v of d){if(v._zod.def.when){if(!v._zod.def.when(u))continue}else if(p)continue;const y=u.issues.length,b=v._zod.check(u);if(b instanceof Promise&&(f==null?void 0:f.async)===!1)throw new Uu;if(g||b instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await b,u.issues.length!==y&&(p||(p=Ru(u,y)))});else{if(u.issues.length===y)continue;p||(p=Ru(u,y))}}return g?g.then(()=>u):u},c=(u,d,f)=>{if(Ru(u))return u.aborted=!0,u;const p=a(d,r,f);if(p instanceof Promise){if(f.async===!1)throw new Uu;return p.then(g=>n._zod.parse(g,f))}return n._zod.parse(p,f)};n._zod.run=(u,d)=>{if(d.skipChecks)return n._zod.parse(u,d);if(d.direction==="backward"){const p=n._zod.parse({value:u.value,issues:[]},{...d,skipChecks:!0});return p instanceof Promise?p.then(g=>c(g,u,d)):c(p,u,d)}const f=n._zod.parse(u,d);if(f instanceof Promise){if(d.async===!1)throw new Uu;return f.then(p=>a(p,r,d))}return a(f,r,d)}}n["~standard"]={validate:a=>{var c;try{const u=kB(n,a);return u.success?{value:u.data}:{issues:(c=u.error)==null?void 0:c.issues}}catch{return IB(n,a).then(d=>{var f;return d.success?{value:d.data}:{issues:(f=d.error)==null?void 0:f.issues}})}},vendor:"zod",version:1}}),gw=te("$ZodString",(n,e)=>{var t;Ft.init(n,e),n._zod.pattern=[...((t=n==null?void 0:n._zod.bag)==null?void 0:t.patterns)??[]].pop()??o2(n._zod.bag),n._zod.parse=(r,i)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:n}),r}}),un=te("$ZodStringFormat",(n,e)=>{D_.init(n,e),gw.init(n,e)}),R2=te("$ZodGUID",(n,e)=>{e.pattern??(e.pattern=jB),un.init(n,e)}),k2=te("$ZodUUID",(n,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=MO(r))}else e.pattern??(e.pattern=MO());un.init(n,e)}),I2=te("$ZodEmail",(n,e)=>{e.pattern??(e.pattern=GB),un.init(n,e)}),O2=te("$ZodURL",(n,e)=>{un.init(n,e),n._zod.check=t=>{try{const r=t.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e2.source,input:t.value,inst:n,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:t.value,inst:n,continue:!e.abort})),e.normalize?t.value=i.href:t.value=r;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:n,continue:!e.abort})}}}),N2=te("$ZodEmoji",(n,e)=>{e.pattern??(e.pattern=YB()),un.init(n,e)}),M2=te("$ZodNanoID",(n,e)=>{e.pattern??(e.pattern=qB),un.init(n,e)}),P2=te("$ZodCUID",(n,e)=>{e.pattern??(e.pattern=zB),un.init(n,e)}),x2=te("$ZodCUID2",(n,e)=>{e.pattern??(e.pattern=HB),un.init(n,e)}),D2=te("$ZodULID",(n,e)=>{e.pattern??(e.pattern=FB),un.init(n,e)}),L2=te("$ZodXID",(n,e)=>{e.pattern??(e.pattern=BB),un.init(n,e)}),U2=te("$ZodKSUID",(n,e)=>{e.pattern??(e.pattern=KB),un.init(n,e)}),z2=te("$ZodISODateTime",(n,e)=>{e.pattern??(e.pattern=i2(e)),un.init(n,e)}),H2=te("$ZodISODate",(n,e)=>{e.pattern??(e.pattern=n2),un.init(n,e)}),F2=te("$ZodISOTime",(n,e)=>{e.pattern??(e.pattern=r2(e)),un.init(n,e)}),B2=te("$ZodISODuration",(n,e)=>{e.pattern??(e.pattern=$B),un.init(n,e)}),K2=te("$ZodIPv4",(n,e)=>{e.pattern??(e.pattern=QB),un.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv4"})}),q2=te("$ZodIPv6",(n,e)=>{e.pattern??(e.pattern=ZB),un.init(n,e),n._zod.onattach.push(t=>{const r=t._zod.bag;r.format="ipv6"}),n._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:n,continue:!e.abort})}}}),$2=te("$ZodCIDRv4",(n,e)=>{e.pattern??(e.pattern=WB),un.init(n,e)}),j2=te("$ZodCIDRv6",(n,e)=>{e.pattern??(e.pattern=XB),un.init(n,e),n._zod.check=t=>{const r=t.value.split("/");try{if(r.length!==2)throw new Error;const[i,a]=r;if(!a)throw new Error;const c=Number(a);if(`${c}`!==a)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${i}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:n,continue:!e.abort})}}});function cD(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const G2=te("$ZodBase64",(n,e)=>{e.pattern??(e.pattern=JB),un.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64"}),n._zod.check=t=>{cD(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:n,continue:!e.abort})}});function V2(n){if(!nD.test(n))return!1;const e=n.replace(/[-_]/g,r=>r==="-"?"+":"/"),t=e.padEnd(Math.ceil(e.length/4)*4,"=");return cD(t)}const Y2=te("$ZodBase64URL",(n,e)=>{e.pattern??(e.pattern=nD),un.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64url"}),n._zod.check=t=>{V2(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:n,continue:!e.abort})}}),Q2=te("$ZodE164",(n,e)=>{e.pattern??(e.pattern=t2),un.init(n,e)});function Z2(n,e=null){try{const t=n.split(".");if(t.length!==3)return!1;const[r]=t;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const W2=te("$ZodJWT",(n,e)=>{un.init(n,e),n._zod.check=t=>{Z2(t.value,e.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:n,continue:!e.abort})}}),lD=te("$ZodNumber",(n,e)=>{Ft.init(n,e),n._zod.pattern=n._zod.bag.pattern??s2,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=Number(t.value)}catch{}const i=t.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return t;const a=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return t.issues.push({expected:"number",code:"invalid_type",input:i,inst:n,...a?{received:a}:{}}),t}}),X2=te("$ZodNumber",(n,e)=>{p2.init(n,e),lD.init(n,e)}),J2=te("$ZodBoolean",(n,e)=>{Ft.init(n,e),n._zod.pattern=c2,n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=!!t.value}catch{}const i=t.value;return typeof i=="boolean"||t.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:n}),t}}),eK=te("$ZodUndefined",(n,e)=>{Ft.init(n,e),n._zod.pattern=u2,n._zod.values=new Set([void 0]),n._zod.optin="optional",n._zod.optout="optional",n._zod.parse=(t,r)=>{const i=t.value;return typeof i>"u"||t.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:n}),t}}),tK=te("$ZodNull",(n,e)=>{Ft.init(n,e),n._zod.pattern=l2,n._zod.values=new Set([null]),n._zod.parse=(t,r)=>{const i=t.value;return i===null||t.issues.push({expected:"null",code:"invalid_type",input:i,inst:n}),t}}),nK=te("$ZodAny",(n,e)=>{Ft.init(n,e),n._zod.parse=t=>t}),rK=te("$ZodUnknown",(n,e)=>{Ft.init(n,e),n._zod.parse=t=>t}),iK=te("$ZodNever",(n,e)=>{Ft.init(n,e),n._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:n}),t)}),oK=te("$ZodDate",(n,e)=>{Ft.init(n,e),n._zod.parse=(t,r)=>{if(e.coerce)try{t.value=new Date(t.value)}catch{}const i=t.value,a=i instanceof Date;return a&&!Number.isNaN(i.getTime())||t.issues.push({expected:"date",code:"invalid_type",input:i,...a?{received:"Invalid Date"}:{},inst:n}),t}});function PO(n,e,t){n.issues.length&&e.issues.push(...ku(t,n.issues)),e.value[t]=n.value}const aK=te("$ZodArray",(n,e)=>{Ft.init(n,e),n._zod.parse=(t,r)=>{const i=t.value;if(!Array.isArray(i))return t.issues.push({expected:"array",code:"invalid_type",input:i,inst:n}),t;t.value=Array(i.length);const a=[];for(let c=0;c<i.length;c++){const u=i[c],d=e.element._zod.run({value:u,issues:[]},r);d instanceof Promise?a.push(d.then(f=>PO(f,t,c))):PO(d,t,c)}return a.length?Promise.all(a).then(()=>t):t}});function ly(n,e,t,r){n.issues.length&&e.issues.push(...ku(t,n.issues)),n.value===void 0?t in r&&(e.value[t]=void 0):e.value[t]=n.value}function uD(n){var r,i,a,c;const e=Object.keys(n.shape);for(const u of e)if(!((c=(a=(i=(r=n.shape)==null?void 0:r[u])==null?void 0:i._zod)==null?void 0:a.traits)!=null&&c.has("$ZodType")))throw new Error(`Invalid element at key "${u}": expected a Zod schema`);const t=vB(n.shape);return{...n,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(t)}}function dD(n,e,t,r,i,a){const c=[],u=i.keySet,d=i.catchall._zod,f=d.def.type;for(const p of Object.keys(e)){if(u.has(p))continue;if(f==="never"){c.push(p);continue}const g=d.run({value:e[p],issues:[]},r);g instanceof Promise?n.push(g.then(v=>ly(v,t,p,e))):ly(g,t,p,e)}return c.length&&t.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:a}),n.length?Promise.all(n).then(()=>t):t}const sK=te("$ZodObject",(n,e)=>{Ft.init(n,e);const t=Object.getOwnPropertyDescriptor(e,"shape");if(!(t!=null&&t.get)){const u=e.shape;Object.defineProperty(e,"shape",{get:()=>{const d={...u};return Object.defineProperty(e,"shape",{value:d}),d}})}const r=M_(()=>uD(e));wt(n._zod,"propValues",()=>{const u=e.shape,d={};for(const f in u){const p=u[f]._zod;if(p.values){d[f]??(d[f]=new Set);for(const g of p.values)d[f].add(g)}}return d});const i=Hf,a=e.catchall;let c;n._zod.parse=(u,d)=>{c??(c=r.value);const f=u.value;if(!i(f))return u.issues.push({expected:"object",code:"invalid_type",input:f,inst:n}),u;u.value={};const p=[],g=c.shape;for(const v of c.keys){const b=g[v]._zod.run({value:f[v],issues:[]},d);b instanceof Promise?p.push(b.then(C=>ly(C,u,v,f))):ly(b,u,v,f)}return a?dD(p,f,u,d,r.value,n):p.length?Promise.all(p).then(()=>u):u}}),cK=te("$ZodObjectJIT",(n,e)=>{sK.init(n,e);const t=n._zod.parse,r=M_(()=>uD(e)),i=v=>{const y=new A2(["shape","payload","ctx"]),b=r.value,C=A=>{const k=NO(A);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};y.write("const input = payload.value;");const E=Object.create(null);let S=0;for(const A of b.keys)E[A]=`key_${S++}`;y.write("const newResult = {};");for(const A of b.keys){const k=E[A],O=NO(A);y.write(`const ${k} = ${C(A)};`),y.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${k}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const w=y.compile();return(A,k)=>w(v,A,k)};let a;const c=Hf,u=!AT.jitless,f=u&&gB.value,p=e.catchall;let g;n._zod.parse=(v,y)=>{g??(g=r.value);const b=v.value;return c(b)?u&&f&&(y==null?void 0:y.async)===!1&&y.jitless!==!0?(a||(a=i(e.shape)),v=a(v,y),p?dD([],b,v,y,g,n):v):t(v,y):(v.issues.push({expected:"object",code:"invalid_type",input:b,inst:n}),v)}});function xO(n,e,t,r){for(const a of n)if(a.issues.length===0)return e.value=a.value,e;const i=n.filter(a=>!Ru(a));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:n.map(a=>a.issues.map(c=>Is(c,r,ks())))}),e)}const hD=te("$ZodUnion",(n,e)=>{Ft.init(n,e),wt(n._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),wt(n._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),wt(n._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),wt(n._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(a=>a._zod.pattern);return new RegExp(`^(${i.map(a=>dw(a.source)).join("|")})$`)}});const t=e.options.length===1,r=e.options[0]._zod.run;n._zod.parse=(i,a)=>{if(t)return r(i,a);let c=!1;const u=[];for(const d of e.options){const f=d._zod.run({value:i.value,issues:[]},a);if(f instanceof Promise)u.push(f),c=!0;else{if(f.issues.length===0)return f;u.push(f)}}return c?Promise.all(u).then(d=>xO(d,i,n,a)):xO(u,i,n,a)}}),lK=te("$ZodDiscriminatedUnion",(n,e)=>{hD.init(n,e);const t=n._zod.parse;wt(n._zod,"propValues",()=>{const i={};for(const a of e.options){const c=a._zod.propValues;if(!c||Object.keys(c).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(a)}"`);for(const[u,d]of Object.entries(c)){i[u]||(i[u]=new Set);for(const f of d)i[u].add(f)}}return i});const r=M_(()=>{var c;const i=e.options,a=new Map;for(const u of i){const d=(c=u._zod.propValues)==null?void 0:c[e.discriminator];if(!d||d.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(u)}"`);for(const f of d){if(a.has(f))throw new Error(`Duplicate discriminator value "${String(f)}"`);a.set(f,u)}}return a});n._zod.parse=(i,a)=>{const c=i.value;if(!Hf(c))return i.issues.push({code:"invalid_type",expected:"object",input:c,inst:n}),i;const u=r.value.get(c==null?void 0:c[e.discriminator]);return u?u._zod.run(i,a):e.unionFallback?t(i,a):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:c,path:[e.discriminator],inst:n}),i)}}),uK=te("$ZodIntersection",(n,e)=>{Ft.init(n,e),n._zod.parse=(t,r)=>{const i=t.value,a=e.left._zod.run({value:i,issues:[]},r),c=e.right._zod.run({value:i,issues:[]},r);return a instanceof Promise||c instanceof Promise?Promise.all([a,c]).then(([d,f])=>DO(t,d,f)):DO(t,a,c)}});function RT(n,e){if(n===e)return{valid:!0,data:n};if(n instanceof Date&&e instanceof Date&&+n==+e)return{valid:!0,data:n};if(ld(n)&&ld(e)){const t=Object.keys(e),r=Object.keys(n).filter(a=>t.indexOf(a)!==-1),i={...n,...e};for(const a of r){const c=RT(n[a],e[a]);if(!c.valid)return{valid:!1,mergeErrorPath:[a,...c.mergeErrorPath]};i[a]=c.data}return{valid:!0,data:i}}if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let r=0;r<n.length;r++){const i=n[r],a=e[r],c=RT(i,a);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};t.push(c.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function DO(n,e,t){if(e.issues.length&&n.issues.push(...e.issues),t.issues.length&&n.issues.push(...t.issues),Ru(n))return n;const r=RT(e.value,t.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return n.value=r.data,n}const dK=te("$ZodRecord",(n,e)=>{Ft.init(n,e),n._zod.parse=(t,r)=>{const i=t.value;if(!ld(i))return t.issues.push({expected:"record",code:"invalid_type",input:i,inst:n}),t;const a=[];if(e.keyType._zod.values){const c=e.keyType._zod.values;t.value={};for(const d of c)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){const f=e.valueType._zod.run({value:i[d],issues:[]},r);f instanceof Promise?a.push(f.then(p=>{p.issues.length&&t.issues.push(...ku(d,p.issues)),t.value[d]=p.value})):(f.issues.length&&t.issues.push(...ku(d,f.issues)),t.value[d]=f.value)}let u;for(const d in i)c.has(d)||(u=u??[],u.push(d));u&&u.length>0&&t.issues.push({code:"unrecognized_keys",input:i,inst:n,keys:u})}else{t.value={};for(const c of Reflect.ownKeys(i)){if(c==="__proto__")continue;const u=e.keyType._zod.run({value:c,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){t.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(f=>Is(f,r,ks())),input:c,path:[c],inst:n}),t.value[u.value]=u.value;continue}const d=e.valueType._zod.run({value:i[c],issues:[]},r);d instanceof Promise?a.push(d.then(f=>{f.issues.length&&t.issues.push(...ku(c,f.issues)),t.value[u.value]=f.value})):(d.issues.length&&t.issues.push(...ku(c,d.issues)),t.value[u.value]=d.value)}}return a.length?Promise.all(a).then(()=>t):t}}),hK=te("$ZodEnum",(n,e)=>{Ft.init(n,e);const t=fB(e.entries),r=new Set(t);n._zod.values=r,n._zod.pattern=new RegExp(`^(${t.filter(i=>mB.has(typeof i)).map(i=>typeof i=="string"?ud(i):i.toString()).join("|")})$`),n._zod.parse=(i,a)=>{const c=i.value;return r.has(c)||i.issues.push({code:"invalid_value",values:t,input:c,inst:n}),i}}),fK=te("$ZodLiteral",(n,e)=>{if(Ft.init(n,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");n._zod.values=new Set(e.values),n._zod.pattern=new RegExp(`^(${e.values.map(t=>typeof t=="string"?ud(t):t?ud(t.toString()):String(t)).join("|")})$`),n._zod.parse=(t,r)=>{const i=t.value;return n._zod.values.has(i)||t.issues.push({code:"invalid_value",values:e.values,input:i,inst:n}),t}}),pK=te("$ZodTransform",(n,e)=>{Ft.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new Zx(n.constructor.name);const i=e.transform(t.value,t);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(c=>(t.value=c,t));if(i instanceof Promise)throw new Uu;return t.value=i,t}});function LO(n,e){return n.issues.length&&e===void 0?{issues:[],value:void 0}:n}const gK=te("$ZodOptional",(n,e)=>{Ft.init(n,e),n._zod.optin="optional",n._zod.optout="optional",wt(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),wt(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${dw(t.source)})?$`):void 0}),n._zod.parse=(t,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(t,r);return i instanceof Promise?i.then(a=>LO(a,t.value)):LO(i,t.value)}return t.value===void 0?t:e.innerType._zod.run(t,r)}}),mK=te("$ZodNullable",(n,e)=>{Ft.init(n,e),wt(n._zod,"optin",()=>e.innerType._zod.optin),wt(n._zod,"optout",()=>e.innerType._zod.optout),wt(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${dw(t.source)}|null)$`):void 0}),wt(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),n._zod.parse=(t,r)=>t.value===null?t:e.innerType._zod.run(t,r)}),vK=te("$ZodDefault",(n,e)=>{Ft.init(n,e),n._zod.optin="optional",wt(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);if(t.value===void 0)return t.value=e.defaultValue,t;const i=e.innerType._zod.run(t,r);return i instanceof Promise?i.then(a=>UO(a,e)):UO(i,e)}});function UO(n,e){return n.value===void 0&&(n.value=e.defaultValue),n}const yK=te("$ZodPrefault",(n,e)=>{Ft.init(n,e),n._zod.optin="optional",wt(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>(r.direction==="backward"||t.value===void 0&&(t.value=e.defaultValue),e.innerType._zod.run(t,r))}),_K=te("$ZodNonOptional",(n,e)=>{Ft.init(n,e),wt(n._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(r=>r!==void 0)):void 0}),n._zod.parse=(t,r)=>{const i=e.innerType._zod.run(t,r);return i instanceof Promise?i.then(a=>zO(a,n)):zO(i,n)}});function zO(n,e){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:e}),n}const bK=te("$ZodCatch",(n,e)=>{Ft.init(n,e),wt(n._zod,"optin",()=>e.innerType._zod.optin),wt(n._zod,"optout",()=>e.innerType._zod.optout),wt(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const i=e.innerType._zod.run(t,r);return i instanceof Promise?i.then(a=>(t.value=a.value,a.issues.length&&(t.value=e.catchValue({...t,error:{issues:a.issues.map(c=>Is(c,r,ks()))},input:t.value}),t.issues=[]),t)):(t.value=i.value,i.issues.length&&(t.value=e.catchValue({...t,error:{issues:i.issues.map(a=>Is(a,r,ks()))},input:t.value}),t.issues=[]),t)}}),EK=te("$ZodNaN",(n,e)=>{Ft.init(n,e),n._zod.parse=(t,r)=>((typeof t.value!="number"||!Number.isNaN(t.value))&&t.issues.push({input:t.value,inst:n,expected:"nan",code:"invalid_type"}),t)}),CK=te("$ZodPipe",(n,e)=>{Ft.init(n,e),wt(n._zod,"values",()=>e.in._zod.values),wt(n._zod,"optin",()=>e.in._zod.optin),wt(n._zod,"optout",()=>e.out._zod.optout),wt(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(t,r)=>{if(r.direction==="backward"){const a=e.out._zod.run(t,r);return a instanceof Promise?a.then(c=>Jm(c,e.in,r)):Jm(a,e.in,r)}const i=e.in._zod.run(t,r);return i instanceof Promise?i.then(a=>Jm(a,e.out,r)):Jm(i,e.out,r)}});function Jm(n,e,t){return n.issues.length?(n.aborted=!0,n):e._zod.run({value:n.value,issues:n.issues},t)}const SK=te("$ZodReadonly",(n,e)=>{Ft.init(n,e),wt(n._zod,"propValues",()=>e.innerType._zod.propValues),wt(n._zod,"values",()=>e.innerType._zod.values),wt(n._zod,"optin",()=>e.innerType._zod.optin),wt(n._zod,"optout",()=>e.innerType._zod.optout),n._zod.parse=(t,r)=>{if(r.direction==="backward")return e.innerType._zod.run(t,r);const i=e.innerType._zod.run(t,r);return i instanceof Promise?i.then(HO):HO(i)}});function HO(n){return n.value=Object.freeze(n.value),n}const TK=te("$ZodLazy",(n,e)=>{Ft.init(n,e),wt(n._zod,"innerType",()=>e.getter()),wt(n._zod,"pattern",()=>n._zod.innerType._zod.pattern),wt(n._zod,"propValues",()=>n._zod.innerType._zod.propValues),wt(n._zod,"optin",()=>n._zod.innerType._zod.optin??void 0),wt(n._zod,"optout",()=>n._zod.innerType._zod.optout??void 0),n._zod.parse=(t,r)=>n._zod.innerType._zod.run(t,r)}),AK=te("$ZodCustom",(n,e)=>{qr.init(n,e),Ft.init(n,e),n._zod.parse=(t,r)=>t,n._zod.check=t=>{const r=t.value,i=e.fn(r);if(i instanceof Promise)return i.then(a=>FO(a,t,r,n));FO(i,t,r,n)}});function FO(n,e,t,r){if(!n){const i={code:"custom",input:t,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(Ff(i))}}class wK{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const r=t[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const r={...this.get(t)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function RK(){return new wK}const ev=RK();function kK(n,e){return new n({type:"string",...xe(e)})}function IK(n,e){return new n({type:"string",format:"email",check:"string_format",abort:!1,...xe(e)})}function BO(n,e){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...xe(e)})}function fD(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...xe(e)})}function OK(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...xe(e)})}function NK(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...xe(e)})}function MK(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...xe(e)})}function pD(n,e){return new n({type:"string",format:"url",check:"string_format",abort:!1,...xe(e)})}function PK(n,e){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...xe(e)})}function xK(n,e){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...xe(e)})}function DK(n,e){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...xe(e)})}function LK(n,e){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...xe(e)})}function UK(n,e){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...xe(e)})}function zK(n,e){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...xe(e)})}function HK(n,e){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...xe(e)})}function FK(n,e){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...xe(e)})}function BK(n,e){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...xe(e)})}function KK(n,e){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...xe(e)})}function qK(n,e){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...xe(e)})}function $K(n,e){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...xe(e)})}function jK(n,e){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...xe(e)})}function GK(n,e){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...xe(e)})}function VK(n,e){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...xe(e)})}function YK(n,e){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...xe(e)})}function QK(n,e){return new n({type:"string",format:"date",check:"string_format",...xe(e)})}function ZK(n,e){return new n({type:"string",format:"time",check:"string_format",precision:null,...xe(e)})}function WK(n,e){return new n({type:"string",format:"duration",check:"string_format",...xe(e)})}function XK(n,e){return new n({type:"number",checks:[],...xe(e)})}function JK(n,e){return new n({type:"number",coerce:!0,checks:[],...xe(e)})}function eq(n,e){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...xe(e)})}function tq(n,e){return new n({type:"boolean",...xe(e)})}function nq(n,e){return new n({type:"undefined",...xe(e)})}function rq(n,e){return new n({type:"null",...xe(e)})}function iq(n){return new n({type:"any"})}function oq(n){return new n({type:"unknown"})}function aq(n,e){return new n({type:"never",...xe(e)})}function sq(n,e){return new n({type:"date",coerce:!0,...xe(e)})}function cq(n,e){return new n({type:"nan",...xe(e)})}function KO(n,e){return new aD({check:"less_than",...xe(e),value:n,inclusive:!1})}function Hv(n,e){return new aD({check:"less_than",...xe(e),value:n,inclusive:!0})}function qO(n,e){return new sD({check:"greater_than",...xe(e),value:n,inclusive:!1})}function Fv(n,e){return new sD({check:"greater_than",...xe(e),value:n,inclusive:!0})}function $O(n,e){return new f2({check:"multiple_of",...xe(e),value:n})}function gD(n,e){return new g2({check:"max_length",...xe(e),maximum:n})}function uy(n,e){return new m2({check:"min_length",...xe(e),minimum:n})}function mD(n,e){return new v2({check:"length_equals",...xe(e),length:n})}function lq(n,e){return new y2({check:"string_format",format:"regex",...xe(e),pattern:n})}function uq(n){return new _2({check:"string_format",format:"lowercase",...xe(n)})}function dq(n){return new b2({check:"string_format",format:"uppercase",...xe(n)})}function hq(n,e){return new E2({check:"string_format",format:"includes",...xe(e),includes:n})}function fq(n,e){return new C2({check:"string_format",format:"starts_with",...xe(e),prefix:n})}function pq(n,e){return new S2({check:"string_format",format:"ends_with",...xe(e),suffix:n})}function wg(n){return new T2({check:"overwrite",tx:n})}function gq(n){return wg(e=>e.normalize(n))}function mq(){return wg(n=>n.trim())}function vq(){return wg(n=>n.toLowerCase())}function yq(){return wg(n=>n.toUpperCase())}function _q(n,e,t){return new n({type:"array",element:e,...xe(t)})}function bq(n,e,t){return new n({type:"custom",check:"custom",fn:e,...xe(t)})}function Eq(n){const e=Cq(t=>(t.addIssue=r=>{if(typeof r=="string")t.issues.push(Ff(r,t.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=t.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),t.issues.push(Ff(i))}},n(t.value,t)));return e}function Cq(n,e){const t=new qr({check:"custom",...xe(e)});return t._zod.check=n,t}const Sq=te("ZodISODateTime",(n,e)=>{z2.init(n,e),mn.init(n,e)});function Tq(n){return YK(Sq,n)}const Aq=te("ZodISODate",(n,e)=>{H2.init(n,e),mn.init(n,e)});function wq(n){return QK(Aq,n)}const Rq=te("ZodISOTime",(n,e)=>{F2.init(n,e),mn.init(n,e)});function kq(n){return ZK(Rq,n)}const Iq=te("ZodISODuration",(n,e)=>{B2.init(n,e),mn.init(n,e)});function Oq(n){return WK(Iq,n)}const vD=(n,e)=>{eD.init(n,e),n.name="ZodError",Object.defineProperties(n,{format:{value:t=>RB(n,t)},flatten:{value:t=>wB(n,t)},addIssue:{value:t=>{n.issues.push(t),n.message=JSON.stringify(n.issues,wT,2)}},addIssues:{value:t=>{n.issues.push(...t),n.message=JSON.stringify(n.issues,wT,2)}},isEmpty:{get(){return n.issues.length===0}}})},VJ=te("ZodError",vD),Ui=te("ZodError",vD,{Parent:Error}),Nq=fw(Ui),Mq=pw(Ui),Pq=P_(Ui),xq=x_(Ui),Dq=OB(Ui),Lq=NB(Ui),Uq=MB(Ui),zq=PB(Ui),Hq=xB(Ui),Fq=DB(Ui),Bq=LB(Ui),Kq=UB(Ui),Qt=te("ZodType",(n,e)=>(Ft.init(n,e),n.def=e,n.type=e.type,Object.defineProperty(n,"_def",{value:e}),n.check=(...t)=>n.clone(hl(e,{checks:[...e.checks??[],...t.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),n.clone=(t,r)=>zs(n,t,r),n.brand=()=>n,n.register=(t,r)=>(t.add(n,r),n),n.parse=(t,r)=>Nq(n,t,r,{callee:n.parse}),n.safeParse=(t,r)=>Pq(n,t,r),n.parseAsync=async(t,r)=>Mq(n,t,r,{callee:n.parseAsync}),n.safeParseAsync=async(t,r)=>xq(n,t,r),n.spa=n.safeParseAsync,n.encode=(t,r)=>Dq(n,t,r),n.decode=(t,r)=>Lq(n,t,r),n.encodeAsync=async(t,r)=>Uq(n,t,r),n.decodeAsync=async(t,r)=>zq(n,t,r),n.safeEncode=(t,r)=>Hq(n,t,r),n.safeDecode=(t,r)=>Fq(n,t,r),n.safeEncodeAsync=async(t,r)=>Bq(n,t,r),n.safeDecodeAsync=async(t,r)=>Kq(n,t,r),n.refine=(t,r)=>n.check(H3(t,r)),n.superRefine=t=>n.check(F3(t)),n.overwrite=t=>n.check(wg(t)),n.optional=()=>YO(n),n.nullable=()=>QO(n),n.nullish=()=>YO(QO(n)),n.nonoptional=t=>O3(n,t),n.array=()=>g3(n),n.or=t=>m3([n,t]),n.and=t=>_3(n,t),n.transform=t=>ZO(n,T3(t)),n.default=t=>R3(n,t),n.prefault=t=>I3(n,t),n.catch=t=>M3(n,t),n.pipe=t=>ZO(n,t),n.readonly=()=>L3(n),n.describe=t=>{const r=n.clone();return ev.add(r,{description:t}),r},Object.defineProperty(n,"description",{get(){var t;return(t=ev.get(n))==null?void 0:t.description},configurable:!0}),n.meta=(...t)=>{if(t.length===0)return ev.get(n);const r=n.clone();return ev.add(r,t[0]),r},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),yD=te("_ZodString",(n,e)=>{gw.init(n,e),Qt.init(n,e);const t=n._zod.bag;n.format=t.format??null,n.minLength=t.minimum??null,n.maxLength=t.maximum??null,n.regex=(...r)=>n.check(lq(...r)),n.includes=(...r)=>n.check(hq(...r)),n.startsWith=(...r)=>n.check(fq(...r)),n.endsWith=(...r)=>n.check(pq(...r)),n.min=(...r)=>n.check(uy(...r)),n.max=(...r)=>n.check(gD(...r)),n.length=(...r)=>n.check(mD(...r)),n.nonempty=(...r)=>n.check(uy(1,...r)),n.lowercase=r=>n.check(uq(r)),n.uppercase=r=>n.check(dq(r)),n.trim=()=>n.check(mq()),n.normalize=(...r)=>n.check(gq(...r)),n.toLowerCase=()=>n.check(vq()),n.toUpperCase=()=>n.check(yq())}),qq=te("ZodString",(n,e)=>{gw.init(n,e),yD.init(n,e),n.email=t=>n.check(IK($q,t)),n.url=t=>n.check(pD(_D,t)),n.jwt=t=>n.check(VK(o3,t)),n.emoji=t=>n.check(PK(jq,t)),n.guid=t=>n.check(BO(jO,t)),n.uuid=t=>n.check(fD(gf,t)),n.uuidv4=t=>n.check(OK(gf,t)),n.uuidv6=t=>n.check(NK(gf,t)),n.uuidv7=t=>n.check(MK(gf,t)),n.nanoid=t=>n.check(xK(Gq,t)),n.guid=t=>n.check(BO(jO,t)),n.cuid=t=>n.check(DK(Vq,t)),n.cuid2=t=>n.check(LK(Yq,t)),n.ulid=t=>n.check(UK(Qq,t)),n.base64=t=>n.check($K(n3,t)),n.base64url=t=>n.check(jK(r3,t)),n.xid=t=>n.check(zK(Zq,t)),n.ksuid=t=>n.check(HK(Wq,t)),n.ipv4=t=>n.check(FK(Xq,t)),n.ipv6=t=>n.check(BK(Jq,t)),n.cidrv4=t=>n.check(KK(e3,t)),n.cidrv6=t=>n.check(qK(t3,t)),n.e164=t=>n.check(GK(i3,t)),n.datetime=t=>n.check(Tq(t)),n.date=t=>n.check(wq(t)),n.time=t=>n.check(kq(t)),n.duration=t=>n.check(Oq(t))});function YJ(n){return kK(qq,n)}const mn=te("ZodStringFormat",(n,e)=>{un.init(n,e),yD.init(n,e)}),$q=te("ZodEmail",(n,e)=>{I2.init(n,e),mn.init(n,e)}),jO=te("ZodGUID",(n,e)=>{R2.init(n,e),mn.init(n,e)}),gf=te("ZodUUID",(n,e)=>{k2.init(n,e),mn.init(n,e)});function QJ(n){return fD(gf,n)}const _D=te("ZodURL",(n,e)=>{O2.init(n,e),mn.init(n,e)});function ZJ(n){return pD(_D,n)}const jq=te("ZodEmoji",(n,e)=>{N2.init(n,e),mn.init(n,e)}),Gq=te("ZodNanoID",(n,e)=>{M2.init(n,e),mn.init(n,e)}),Vq=te("ZodCUID",(n,e)=>{P2.init(n,e),mn.init(n,e)}),Yq=te("ZodCUID2",(n,e)=>{x2.init(n,e),mn.init(n,e)}),Qq=te("ZodULID",(n,e)=>{D2.init(n,e),mn.init(n,e)}),Zq=te("ZodXID",(n,e)=>{L2.init(n,e),mn.init(n,e)}),Wq=te("ZodKSUID",(n,e)=>{U2.init(n,e),mn.init(n,e)}),Xq=te("ZodIPv4",(n,e)=>{K2.init(n,e),mn.init(n,e)}),Jq=te("ZodIPv6",(n,e)=>{q2.init(n,e),mn.init(n,e)}),e3=te("ZodCIDRv4",(n,e)=>{$2.init(n,e),mn.init(n,e)}),t3=te("ZodCIDRv6",(n,e)=>{j2.init(n,e),mn.init(n,e)}),n3=te("ZodBase64",(n,e)=>{G2.init(n,e),mn.init(n,e)}),r3=te("ZodBase64URL",(n,e)=>{Y2.init(n,e),mn.init(n,e)}),i3=te("ZodE164",(n,e)=>{Q2.init(n,e),mn.init(n,e)}),o3=te("ZodJWT",(n,e)=>{W2.init(n,e),mn.init(n,e)}),mw=te("ZodNumber",(n,e)=>{lD.init(n,e),Qt.init(n,e),n.gt=(r,i)=>n.check(qO(r,i)),n.gte=(r,i)=>n.check(Fv(r,i)),n.min=(r,i)=>n.check(Fv(r,i)),n.lt=(r,i)=>n.check(KO(r,i)),n.lte=(r,i)=>n.check(Hv(r,i)),n.max=(r,i)=>n.check(Hv(r,i)),n.int=r=>n.check(GO(r)),n.safe=r=>n.check(GO(r)),n.positive=r=>n.check(qO(0,r)),n.nonnegative=r=>n.check(Fv(0,r)),n.negative=r=>n.check(KO(0,r)),n.nonpositive=r=>n.check(Hv(0,r)),n.multipleOf=(r,i)=>n.check($O(r,i)),n.step=(r,i)=>n.check($O(r,i)),n.finite=()=>n;const t=n._zod.bag;n.minValue=Math.max(t.minimum??Number.NEGATIVE_INFINITY,t.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(t.maximum??Number.POSITIVE_INFINITY,t.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(t.format??"").includes("int")||Number.isSafeInteger(t.multipleOf??.5),n.isFinite=!0,n.format=t.format??null});function WJ(n){return XK(mw,n)}const a3=te("ZodNumberFormat",(n,e)=>{X2.init(n,e),mw.init(n,e)});function GO(n){return eq(a3,n)}const s3=te("ZodBoolean",(n,e)=>{J2.init(n,e),Qt.init(n,e)});function XJ(n){return tq(s3,n)}const c3=te("ZodUndefined",(n,e)=>{eK.init(n,e),Qt.init(n,e)});function JJ(n){return nq(c3,n)}const l3=te("ZodNull",(n,e)=>{tK.init(n,e),Qt.init(n,e)});function eee(n){return rq(l3,n)}const u3=te("ZodAny",(n,e)=>{nK.init(n,e),Qt.init(n,e)});function tee(){return iq(u3)}const d3=te("ZodUnknown",(n,e)=>{rK.init(n,e),Qt.init(n,e)});function VO(){return oq(d3)}const h3=te("ZodNever",(n,e)=>{iK.init(n,e),Qt.init(n,e)});function bD(n){return aq(h3,n)}const f3=te("ZodDate",(n,e)=>{oK.init(n,e),Qt.init(n,e),n.min=(r,i)=>n.check(Fv(r,i)),n.max=(r,i)=>n.check(Hv(r,i));const t=n._zod.bag;n.minDate=t.minimum?new Date(t.minimum):null,n.maxDate=t.maximum?new Date(t.maximum):null}),p3=te("ZodArray",(n,e)=>{aK.init(n,e),Qt.init(n,e),n.element=e.element,n.min=(t,r)=>n.check(uy(t,r)),n.nonempty=t=>n.check(uy(1,t)),n.max=(t,r)=>n.check(gD(t,r)),n.length=(t,r)=>n.check(mD(t,r)),n.unwrap=()=>n.element});function g3(n,e){return _q(p3,n,e)}const ED=te("ZodObject",(n,e)=>{cK.init(n,e),Qt.init(n,e),wt(n,"shape",()=>e.shape),n.keyof=()=>E3(Object.keys(n._zod.def.shape)),n.catchall=t=>n.clone({...n._zod.def,catchall:t}),n.passthrough=()=>n.clone({...n._zod.def,catchall:VO()}),n.loose=()=>n.clone({...n._zod.def,catchall:VO()}),n.strict=()=>n.clone({...n._zod.def,catchall:bD()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=t=>EB(n,t),n.safeExtend=t=>CB(n,t),n.merge=t=>SB(n,t),n.pick=t=>_B(n,t),n.omit=t=>bB(n,t),n.partial=(...t)=>TB(SD,n,t[0]),n.required=(...t)=>AB(TD,n,t[0])});function nee(n,e){const t={type:"object",shape:n??{},...xe(e)};return new ED(t)}function ree(n,e){return new ED({type:"object",shape:n,catchall:bD(),...xe(e)})}const CD=te("ZodUnion",(n,e)=>{hD.init(n,e),Qt.init(n,e),n.options=e.options});function m3(n,e){return new CD({type:"union",options:n,...xe(e)})}const v3=te("ZodDiscriminatedUnion",(n,e)=>{CD.init(n,e),lK.init(n,e)});function iee(n,e,t){return new v3({type:"union",options:e,discriminator:n,...xe(t)})}const y3=te("ZodIntersection",(n,e)=>{uK.init(n,e),Qt.init(n,e)});function _3(n,e){return new y3({type:"intersection",left:n,right:e})}const b3=te("ZodRecord",(n,e)=>{dK.init(n,e),Qt.init(n,e),n.keyType=e.keyType,n.valueType=e.valueType});function oee(n,e,t){return new b3({type:"record",keyType:n,valueType:e,...xe(t)})}const kT=te("ZodEnum",(n,e)=>{hK.init(n,e),Qt.init(n,e),n.enum=e.entries,n.options=Object.values(e.entries);const t=new Set(Object.keys(e.entries));n.extract=(r,i)=>{const a={};for(const c of r)if(t.has(c))a[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new kT({...e,checks:[],...xe(i),entries:a})},n.exclude=(r,i)=>{const a={...e.entries};for(const c of r)if(t.has(c))delete a[c];else throw new Error(`Key ${c} not found in enum`);return new kT({...e,checks:[],...xe(i),entries:a})}});function E3(n,e){const t=Array.isArray(n)?Object.fromEntries(n.map(r=>[r,r])):n;return new kT({type:"enum",entries:t,...xe(e)})}const C3=te("ZodLiteral",(n,e)=>{fK.init(n,e),Qt.init(n,e),n.values=new Set(e.values),Object.defineProperty(n,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function aee(n,e){return new C3({type:"literal",values:Array.isArray(n)?n:[n],...xe(e)})}const S3=te("ZodTransform",(n,e)=>{pK.init(n,e),Qt.init(n,e),n._zod.parse=(t,r)=>{if(r.direction==="backward")throw new Zx(n.constructor.name);t.addIssue=a=>{if(typeof a=="string")t.issues.push(Ff(a,t.value,e));else{const c=a;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=t.value),c.inst??(c.inst=n),t.issues.push(Ff(c))}};const i=e.transform(t.value,t);return i instanceof Promise?i.then(a=>(t.value=a,t)):(t.value=i,t)}});function T3(n){return new S3({type:"transform",transform:n})}const SD=te("ZodOptional",(n,e)=>{gK.init(n,e),Qt.init(n,e),n.unwrap=()=>n._zod.def.innerType});function YO(n){return new SD({type:"optional",innerType:n})}const A3=te("ZodNullable",(n,e)=>{mK.init(n,e),Qt.init(n,e),n.unwrap=()=>n._zod.def.innerType});function QO(n){return new A3({type:"nullable",innerType:n})}const w3=te("ZodDefault",(n,e)=>{vK.init(n,e),Qt.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function R3(n,e){return new w3({type:"default",innerType:n,get defaultValue(){return typeof e=="function"?e():Xx(e)}})}const k3=te("ZodPrefault",(n,e)=>{yK.init(n,e),Qt.init(n,e),n.unwrap=()=>n._zod.def.innerType});function I3(n,e){return new k3({type:"prefault",innerType:n,get defaultValue(){return typeof e=="function"?e():Xx(e)}})}const TD=te("ZodNonOptional",(n,e)=>{_K.init(n,e),Qt.init(n,e),n.unwrap=()=>n._zod.def.innerType});function O3(n,e){return new TD({type:"nonoptional",innerType:n,...xe(e)})}const N3=te("ZodCatch",(n,e)=>{bK.init(n,e),Qt.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function M3(n,e){return new N3({type:"catch",innerType:n,catchValue:typeof e=="function"?e:()=>e})}const P3=te("ZodNaN",(n,e)=>{EK.init(n,e),Qt.init(n,e)});function see(n){return cq(P3,n)}const x3=te("ZodPipe",(n,e)=>{CK.init(n,e),Qt.init(n,e),n.in=e.in,n.out=e.out});function ZO(n,e){return new x3({type:"pipe",in:n,out:e})}const D3=te("ZodReadonly",(n,e)=>{SK.init(n,e),Qt.init(n,e),n.unwrap=()=>n._zod.def.innerType});function L3(n){return new D3({type:"readonly",innerType:n})}const U3=te("ZodLazy",(n,e)=>{TK.init(n,e),Qt.init(n,e),n.unwrap=()=>n._zod.def.getter()});function cee(n){return new U3({type:"lazy",getter:n})}const z3=te("ZodCustom",(n,e)=>{AK.init(n,e),Qt.init(n,e)});function H3(n,e={}){return bq(z3,n,e)}function F3(n){return Eq(n)}function lee(n){return JK(mw,n)}function uee(n){return sq(f3,n)}var LC={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WO;function B3(){if(WO)return rt;WO=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=g&&I[g]||I["@@iterator"],typeof I=="function"?I:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function E(I,W,Q){this.props=I,this.context=W,this.refs=C,this.updater=Q||y}E.prototype.isReactComponent={},E.prototype.setState=function(I,W){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,W,"setState")},E.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function S(){}S.prototype=E.prototype;function w(I,W,Q){this.props=I,this.context=W,this.refs=C,this.updater=Q||y}var A=w.prototype=new S;A.constructor=w,b(A,E.prototype),A.isPureReactComponent=!0;var k=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function M(I,W,Q,ce,ve,Pe){return Q=Pe.ref,{$$typeof:n,type:I,key:W,ref:Q!==void 0?Q:null,props:Pe}}function N(I,W){return M(I.type,W,void 0,void 0,void 0,I.props)}function K(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function F(I){var W={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Q){return W[Q]})}var oe=/\/+/g;function ue(I,W){return typeof I=="object"&&I!==null&&I.key!=null?F(""+I.key):W.toString(36)}function me(){}function X(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(me,me):(I.status="pending",I.then(function(W){I.status==="pending"&&(I.status="fulfilled",I.value=W)},function(W){I.status==="pending"&&(I.status="rejected",I.reason=W)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function he(I,W,Q,ce,ve){var Pe=typeof I;(Pe==="undefined"||Pe==="boolean")&&(I=null);var Re=!1;if(I===null)Re=!0;else switch(Pe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(I.$$typeof){case n:case e:Re=!0;break;case p:return Re=I._init,he(Re(I._payload),W,Q,ce,ve)}}if(Re)return ve=ve(I),Re=ce===""?"."+ue(I,0):ce,k(ve)?(Q="",Re!=null&&(Q=Re.replace(oe,"$&/")+"/"),he(ve,W,Q,"",function(Ot){return Ot})):ve!=null&&(K(ve)&&(ve=N(ve,Q+(ve.key==null||I&&I.key===ve.key?"":(""+ve.key).replace(oe,"$&/")+"/")+Re)),W.push(ve)),1;Re=0;var ot=ce===""?".":ce+":";if(k(I))for(var nt=0;nt<I.length;nt++)ce=I[nt],Pe=ot+ue(ce,nt),Re+=he(ce,W,Q,Pe,ve);else if(nt=v(I),typeof nt=="function")for(I=nt.call(I),nt=0;!(ce=I.next()).done;)ce=ce.value,Pe=ot+ue(ce,nt++),Re+=he(ce,W,Q,Pe,ve);else if(Pe==="object"){if(typeof I.then=="function")return he(X(I),W,Q,ce,ve);throw W=String(I),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Re}function z(I,W,Q){if(I==null)return I;var ce=[],ve=0;return he(I,ce,"","",function(Pe){return W.call(Q,Pe,ve++)}),ce}function L(I){if(I._status===-1){var W=I._result;W=W(),W.then(function(Q){(I._status===0||I._status===-1)&&(I._status=1,I._result=Q)},function(Q){(I._status===0||I._status===-1)&&(I._status=2,I._result=Q)}),I._status===-1&&(I._status=0,I._result=W)}if(I._status===1)return I._result.default;throw I._result}var V=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function _e(){}return rt.Children={map:z,forEach:function(I,W,Q){z(I,function(){W.apply(this,arguments)},Q)},count:function(I){var W=0;return z(I,function(){W++}),W},toArray:function(I){return z(I,function(W){return W})||[]},only:function(I){if(!K(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},rt.Component=E,rt.Fragment=t,rt.Profiler=i,rt.PureComponent=w,rt.StrictMode=r,rt.Suspense=d,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,rt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return O.H.useMemoCache(I)}},rt.cache=function(I){return function(){return I.apply(null,arguments)}},rt.cloneElement=function(I,W,Q){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ce=b({},I.props),ve=I.key,Pe=void 0;if(W!=null)for(Re in W.ref!==void 0&&(Pe=void 0),W.key!==void 0&&(ve=""+W.key),W)!D.call(W,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&W.ref===void 0||(ce[Re]=W[Re]);var Re=arguments.length-2;if(Re===1)ce.children=Q;else if(1<Re){for(var ot=Array(Re),nt=0;nt<Re;nt++)ot[nt]=arguments[nt+2];ce.children=ot}return M(I.type,ve,void 0,void 0,Pe,ce)},rt.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:a,_context:I},I},rt.createElement=function(I,W,Q){var ce,ve={},Pe=null;if(W!=null)for(ce in W.key!==void 0&&(Pe=""+W.key),W)D.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ve[ce]=W[ce]);var Re=arguments.length-2;if(Re===1)ve.children=Q;else if(1<Re){for(var ot=Array(Re),nt=0;nt<Re;nt++)ot[nt]=arguments[nt+2];ve.children=ot}if(I&&I.defaultProps)for(ce in Re=I.defaultProps,Re)ve[ce]===void 0&&(ve[ce]=Re[ce]);return M(I,Pe,void 0,void 0,null,ve)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(I){return{$$typeof:u,render:I}},rt.isValidElement=K,rt.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:L}},rt.memo=function(I,W){return{$$typeof:f,type:I,compare:W===void 0?null:W}},rt.startTransition=function(I){var W=O.T,Q={};O.T=Q;try{var ce=I(),ve=O.S;ve!==null&&ve(Q,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(_e,V)}catch(Pe){V(Pe)}finally{O.T=W}},rt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},rt.use=function(I){return O.H.use(I)},rt.useActionState=function(I,W,Q){return O.H.useActionState(I,W,Q)},rt.useCallback=function(I,W){return O.H.useCallback(I,W)},rt.useContext=function(I){return O.H.useContext(I)},rt.useDebugValue=function(){},rt.useDeferredValue=function(I,W){return O.H.useDeferredValue(I,W)},rt.useEffect=function(I,W,Q){var ce=O.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(I,W)},rt.useId=function(){return O.H.useId()},rt.useImperativeHandle=function(I,W,Q){return O.H.useImperativeHandle(I,W,Q)},rt.useInsertionEffect=function(I,W){return O.H.useInsertionEffect(I,W)},rt.useLayoutEffect=function(I,W){return O.H.useLayoutEffect(I,W)},rt.useMemo=function(I,W){return O.H.useMemo(I,W)},rt.useOptimistic=function(I,W){return O.H.useOptimistic(I,W)},rt.useReducer=function(I,W,Q){return O.H.useReducer(I,W,Q)},rt.useRef=function(I){return O.H.useRef(I)},rt.useState=function(I){return O.H.useState(I)},rt.useSyncExternalStore=function(I,W,Q){return O.H.useSyncExternalStore(I,W,Q)},rt.useTransition=function(){return O.H.useTransition()},rt.version="19.1.1",rt}var XO;function Rg(){return XO||(XO=1,LC.exports=B3()),LC.exports}var be=Rg();const Hc=lw(be),dee=uB({__proto__:null,default:Hc},[be]);var UC={exports:{}},ef={},zC={exports:{}},HC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JO;function K3(){return JO||(JO=1,function(n){function e(z,L){var V=z.length;z.push(L);e:for(;0<V;){var _e=V-1>>>1,I=z[_e];if(0<i(I,L))z[_e]=L,z[V]=I,V=_e;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var L=z[0],V=z.pop();if(V!==L){z[0]=V;e:for(var _e=0,I=z.length,W=I>>>1;_e<W;){var Q=2*(_e+1)-1,ce=z[Q],ve=Q+1,Pe=z[ve];if(0>i(ce,V))ve<I&&0>i(Pe,ce)?(z[_e]=Pe,z[ve]=V,_e=ve):(z[_e]=ce,z[Q]=V,_e=Q);else if(ve<I&&0>i(Pe,V))z[_e]=Pe,z[ve]=V,_e=ve;else break e}}return L}function i(z,L){var V=z.sortIndex-L.sortIndex;return V!==0?V:z.id-L.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var d=[],f=[],p=1,g=null,v=3,y=!1,b=!1,C=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function k(z){for(var L=t(f);L!==null;){if(L.callback===null)r(f);else if(L.startTime<=z)r(f),L.sortIndex=L.expirationTime,e(d,L);else break;L=t(f)}}function O(z){if(C=!1,k(z),!b)if(t(d)!==null)b=!0,D||(D=!0,ue());else{var L=t(f);L!==null&&he(O,L.startTime-z)}}var D=!1,M=-1,N=5,K=-1;function F(){return E?!0:!(n.unstable_now()-K<N)}function oe(){if(E=!1,D){var z=n.unstable_now();K=z;var L=!0;try{e:{b=!1,C&&(C=!1,w(M),M=-1),y=!0;var V=v;try{t:{for(k(z),g=t(d);g!==null&&!(g.expirationTime>z&&F());){var _e=g.callback;if(typeof _e=="function"){g.callback=null,v=g.priorityLevel;var I=_e(g.expirationTime<=z);if(z=n.unstable_now(),typeof I=="function"){g.callback=I,k(z),L=!0;break t}g===t(d)&&r(d),k(z)}else r(d);g=t(d)}if(g!==null)L=!0;else{var W=t(f);W!==null&&he(O,W.startTime-z),L=!1}}break e}finally{g=null,v=V,y=!1}L=void 0}}finally{L?ue():D=!1}}}var ue;if(typeof A=="function")ue=function(){A(oe)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,X=me.port2;me.port1.onmessage=oe,ue=function(){X.postMessage(null)}}else ue=function(){S(oe,0)};function he(z,L){M=S(function(){z(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(z){switch(v){case 1:case 2:case 3:var L=3;break;default:L=v}var V=v;v=L;try{return z()}finally{v=V}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(z,L){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var V=v;v=z;try{return L()}finally{v=V}},n.unstable_scheduleCallback=function(z,L,V){var _e=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?_e+V:_e):V=_e,z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=V+I,z={id:p++,callback:L,priorityLevel:z,startTime:V,expirationTime:I,sortIndex:-1},V>_e?(z.sortIndex=V,e(f,z),t(d)===null&&z===t(f)&&(C?(w(M),M=-1):C=!0,he(O,V-_e))):(z.sortIndex=I,e(d,z),b||y||(b=!0,D||(D=!0,ue()))),z},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(z){var L=v;return function(){var V=v;v=L;try{return z.apply(this,arguments)}finally{v=V}}}}(HC)),HC}var eN;function q3(){return eN||(eN=1,zC.exports=K3()),zC.exports}var FC={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN;function $3(){if(tN)return ur;tN=1;var n=Rg();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ur.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,p)},ur.flushSync=function(d){var f=c.T,p=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=f,r.p=p,r.d.f()}},ur.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},ur.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ur.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:y}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ur.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},ur.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ur.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},ur.requestFormReset=function(d){r.d.r(d)},ur.unstable_batchedUpdates=function(d,f){return d(f)},ur.useFormState=function(d,f,p){return c.H.useFormState(d,f,p)},ur.useFormStatus=function(){return c.H.useHostTransitionStatus()},ur.version="19.1.1",ur}var nN;function AD(){if(nN)return FC.exports;nN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),FC.exports=$3(),FC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN;function j3(){if(rN)return ef;rN=1;var n=q3(),e=Rg(),t=AD();function r(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,l=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(l=s.return),o=s.return;while(o)}return s.tag===3?l:null}function c(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(r(188))}function d(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(r(188));return s!==o?null:o}for(var l=o,h=s;;){var m=l.return;if(m===null)break;var _=m.alternate;if(_===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===l)return u(m),o;if(_===h)return u(m),s;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=m,h=_;else{for(var T=!1,R=m.child;R;){if(R===l){T=!0,l=m,h=_;break}if(R===h){T=!0,h=m,l=_;break}R=R.sibling}if(!T){for(R=_.child;R;){if(R===l){T=!0,l=_,h=m;break}if(R===h){T=!0,h=_,l=m;break}R=R.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?o:s}function f(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=f(o),s!==null)return s;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),A=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function ue(o){return o===null||typeof o!="object"?null:(o=oe&&o[oe]||o["@@iterator"],typeof o=="function"?o:null)}var me=Symbol.for("react.client.reference");function X(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===me?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case E:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList";case K:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case A:return(o.displayName||"Context")+".Provider";case w:return(o._context.displayName||"Context")+".Consumer";case k:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case M:return s=o.displayName||null,s!==null?s:X(o.type)||"Memo";case N:s=o._payload,o=o._init;try{return X(o(s))}catch{}}return null}var he=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},_e=[],I=-1;function W(o){return{current:o}}function Q(o){0>I||(o.current=_e[I],_e[I]=null,I--)}function ce(o,s){I++,_e[I]=o.current,o.current=s}var ve=W(null),Pe=W(null),Re=W(null),ot=W(null);function nt(o,s){switch(ce(Re,s),ce(Pe,o),ce(ve,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?tO(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=tO(s),o=nO(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Q(ve),ce(ve,o)}function Ot(){Q(ve),Q(Pe),Q(Re)}function sn(o){o.memoizedState!==null&&ce(ot,o);var s=ve.current,l=nO(s,o.type);s!==l&&(ce(Pe,o),ce(ve,l))}function Cn(o){Pe.current===o&&(Q(ve),Q(Pe)),ot.current===o&&(Q(ot),Yh._currentValue=V)}var gt=Object.prototype.hasOwnProperty,yt=n.unstable_scheduleCallback,Nt=n.unstable_cancelCallback,J=n.unstable_shouldYield,Ce=n.unstable_requestPaint,Ae=n.unstable_now,Oe=n.unstable_getCurrentPriorityLevel,De=n.unstable_ImmediatePriority,Xe=n.unstable_UserBlockingPriority,Je=n.unstable_NormalPriority,kt=n.unstable_LowPriority,Be=n.unstable_IdlePriority,at=n.log,Bt=n.unstable_setDisableYieldValue,Ln=null,dn=null;function sr(o){if(typeof at=="function"&&Bt(o),dn&&typeof dn.setStrictMode=="function")try{dn.setStrictMode(Ln,o)}catch{}}var Kt=Math.clz32?Math.clz32:pe,eo=Math.log,B=Math.LN2;function pe(o){return o>>>=0,o===0?32:31-(eo(o)/B|0)|0}var ye=256,we=4194304;function He(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function We(o,s,l){var h=o.pendingLanes;if(h===0)return 0;var m=0,_=o.suspendedLanes,T=o.pingedLanes;o=o.warmLanes;var R=h&134217727;return R!==0?(h=R&~_,h!==0?m=He(h):(T&=R,T!==0?m=He(T):l||(l=R&~o,l!==0&&(m=He(l))))):(R=h&~_,R!==0?m=He(R):T!==0?m=He(T):l||(l=h&~o,l!==0&&(m=He(l)))),m===0?0:s!==0&&s!==m&&(s&_)===0&&(_=m&-m,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:m}function ke(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function q(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ne(){var o=ye;return ye<<=1,(ye&4194048)===0&&(ye=256),o}function de(){var o=we;return we<<=1,(we&62914560)===0&&(we=4194304),o}function Se(o){for(var s=[],l=0;31>l;l++)s.push(o);return s}function Te(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function qe(o,s,l,h,m,_){var T=o.pendingLanes;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=l,o.entangledLanes&=l,o.errorRecoveryDisabledLanes&=l,o.shellSuspendCounter=0;var R=o.entanglements,x=o.expirationTimes,G=o.hiddenUpdates;for(l=T&~l;0<l;){var ie=31-Kt(l),le=1<<ie;R[ie]=0,x[ie]=-1;var Y=G[ie];if(Y!==null)for(G[ie]=null,ie=0;ie<Y.length;ie++){var Z=Y[ie];Z!==null&&(Z.lane&=-536870913)}l&=~le}h!==0&&et(o,h,0),_!==0&&m===0&&o.tag!==0&&(o.suspendedLanes|=_&~(T&~s))}function et(o,s,l){o.pendingLanes|=s,o.suspendedLanes&=~s;var h=31-Kt(s);o.entangledLanes|=s,o.entanglements[h]=o.entanglements[h]|1073741824|l&4194090}function Zt(o,s){var l=o.entangledLanes|=s;for(o=o.entanglements;l;){var h=31-Kt(l),m=1<<h;m&s|o[h]&s&&(o[h]|=s),l&=~m}}function qt(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ir(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Or(){var o=L.p;return o!==0?o:(o=window.event,o===void 0?32:EO(o.type))}function Ks(o,s){var l=L.p;try{return L.p=o,s()}finally{L.p=l}}var Un=Math.random().toString(36).slice(2),On="__reactFiber$"+Un,cr="__reactProps$"+Un,El="__reactContainer$"+Un,wb="__reactEvents$"+Un,eH="__reactListeners$"+Un,tH="__reactHandles$"+Un,q0="__reactResources$"+Un,oh="__reactMarker$"+Un;function Rb(o){delete o[On],delete o[cr],delete o[wb],delete o[eH],delete o[tH]}function Cl(o){var s=o[On];if(s)return s;for(var l=o.parentNode;l;){if(s=l[El]||l[On]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(o=aO(o);o!==null;){if(l=o[On])return l;o=aO(o)}return s}o=l,l=o.parentNode}return null}function Sl(o){if(o=o[On]||o[El]){var s=o.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return o}return null}function ah(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(r(33))}function Tl(o){var s=o[q0];return s||(s=o[q0]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Vn(o){o[oh]=!0}var $0=new Set,j0={};function qs(o,s){Al(o,s),Al(o+"Capture",s)}function Al(o,s){for(j0[o]=s,o=0;o<s.length;o++)$0.add(s[o])}var nH=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),G0={},V0={};function rH(o){return gt.call(V0,o)?!0:gt.call(G0,o)?!1:nH.test(o)?V0[o]=!0:(G0[o]=!0,!1)}function Bg(o,s,l){if(rH(s))if(l===null)o.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+l)}}function Kg(o,s,l){if(l===null)o.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+l)}}function Uo(o,s,l,h){if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttributeNS(s,l,""+h)}}var kb,Y0;function wl(o){if(kb===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);kb=s&&s[1]||"",Y0=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kb+o+Y0}var Ib=!1;function Ob(o,s){if(!o||Ib)return"";Ib=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(Z){var Y=Z}Reflect.construct(o,[],le)}else{try{le.call()}catch(Z){Y=Z}o.call(le.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(le=o())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),T=_[0],R=_[1];if(T&&R){var x=T.split(`
`),G=R.split(`
`);for(m=h=0;h<x.length&&!x[h].includes("DetermineComponentFrameRoot");)h++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(h===x.length||m===G.length)for(h=x.length-1,m=G.length-1;1<=h&&0<=m&&x[h]!==G[m];)m--;for(;1<=h&&0<=m;h--,m--)if(x[h]!==G[m]){if(h!==1||m!==1)do if(h--,m--,0>m||x[h]!==G[m]){var ie=`
`+x[h].replace(" at new "," at ");return o.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",o.displayName)),ie}while(1<=h&&0<=m);break}}}finally{Ib=!1,Error.prepareStackTrace=l}return(l=o?o.displayName||o.name:"")?wl(l):""}function iH(o){switch(o.tag){case 26:case 27:case 5:return wl(o.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 15:return Ob(o.type,!1);case 11:return Ob(o.type.render,!1);case 1:return Ob(o.type,!0);case 31:return wl("Activity");default:return""}}function Q0(o){try{var s="";do s+=iH(o),o=o.return;while(o);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function hi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Z0(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function oH(o){var s=Z0(o)?"checked":"value",l=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),h=""+o[s];if(!o.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,_=l.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,_.call(this,T)}}),Object.defineProperty(o,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function qg(o){o._valueTracker||(o._valueTracker=oH(o))}function W0(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return o&&(h=Z0(o)?o.checked?"true":"false":o.value),o=h,o!==l?(s.setValue(o),!0):!1}function $g(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var aH=/[\n"\\]/g;function fi(o){return o.replace(aH,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Nb(o,s,l,h,m,_,T,R){o.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?o.type=T:o.removeAttribute("type"),s!=null?T==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+hi(s)):o.value!==""+hi(s)&&(o.value=""+hi(s)):T!=="submit"&&T!=="reset"||o.removeAttribute("value"),s!=null?Mb(o,T,hi(s)):l!=null?Mb(o,T,hi(l)):h!=null&&o.removeAttribute("value"),m==null&&_!=null&&(o.defaultChecked=!!_),m!=null&&(o.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.name=""+hi(R):o.removeAttribute("name")}function X0(o,s,l,h,m,_,T,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;l=l!=null?""+hi(l):"",s=s!=null?""+hi(s):l,R||s===o.value||(o.value=s),o.defaultValue=s}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,o.checked=R?o.checked:!!h,o.defaultChecked=!!h,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.name=T)}function Mb(o,s,l){s==="number"&&$g(o.ownerDocument)===o||o.defaultValue===""+l||(o.defaultValue=""+l)}function Rl(o,s,l,h){if(o=o.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<o.length;l++)m=s.hasOwnProperty("$"+o[l].value),o[l].selected!==m&&(o[l].selected=m),m&&h&&(o[l].defaultSelected=!0)}else{for(l=""+hi(l),s=null,m=0;m<o.length;m++){if(o[m].value===l){o[m].selected=!0,h&&(o[m].defaultSelected=!0);return}s!==null||o[m].disabled||(s=o[m])}s!==null&&(s.selected=!0)}}function J0(o,s,l){if(s!=null&&(s=""+hi(s),s!==o.value&&(o.value=s),l==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=l!=null?""+hi(l):""}function eR(o,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(he(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=hi(s),o.defaultValue=l,h=o.textContent,h===l&&h!==""&&h!==null&&(o.value=h)}function kl(o,s){if(s){var l=o.firstChild;if(l&&l===o.lastChild&&l.nodeType===3){l.nodeValue=s;return}}o.textContent=s}var sH=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tR(o,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":h?o.setProperty(s,l):typeof l!="number"||l===0||sH.has(s)?s==="float"?o.cssFloat=l:o[s]=(""+l).trim():o[s]=l+"px"}function nR(o,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(o=o.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?o.setProperty(h,""):h==="float"?o.cssFloat="":o[h]="");for(var m in s)h=s[m],s.hasOwnProperty(m)&&l[m]!==h&&tR(o,m,h)}else for(var _ in s)s.hasOwnProperty(_)&&tR(o,_,s[_])}function Pb(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cH=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lH=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jg(o){return lH.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var xb=null;function Db(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Il=null,Ol=null;function rR(o){var s=Sl(o);if(s&&(o=s.stateNode)){var l=o[cr]||null;e:switch(o=s.stateNode,s.type){case"input":if(Nb(o,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=o;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+fi(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==o&&h.form===o.form){var m=h[cr]||null;if(!m)throw Error(r(90));Nb(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===o.form&&W0(h)}break e;case"textarea":J0(o,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Rl(o,!!l.multiple,s,!1)}}}var Lb=!1;function iR(o,s,l){if(Lb)return o(s,l);Lb=!0;try{var h=o(s);return h}finally{if(Lb=!1,(Il!==null||Ol!==null)&&(Om(),Il&&(s=Il,o=Ol,Ol=Il=null,rR(s),o)))for(s=0;s<o.length;s++)rR(o[s])}}function sh(o,s){var l=o.stateNode;if(l===null)return null;var h=l[cr]||null;if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(o=o.type,h=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!h;break e;default:o=!1}if(o)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ub=!1;if(zo)try{var ch={};Object.defineProperty(ch,"passive",{get:function(){Ub=!0}}),window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{Ub=!1}var Ra=null,zb=null,Gg=null;function oR(){if(Gg)return Gg;var o,s=zb,l=s.length,h,m="value"in Ra?Ra.value:Ra.textContent,_=m.length;for(o=0;o<l&&s[o]===m[o];o++);var T=l-o;for(h=1;h<=T&&s[l-h]===m[_-h];h++);return Gg=m.slice(o,1<h?1-h:void 0)}function Vg(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Yg(){return!0}function aR(){return!1}function Nr(o){function s(l,h,m,_,T){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var R in o)o.hasOwnProperty(R)&&(l=o[R],this[R]=l?l(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Yg:aR,this.isPropagationStopped=aR,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yg)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yg)},persist:function(){},isPersistent:Yg}),s}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qg=Nr($s),lh=p({},$s,{view:0,detail:0}),uH=Nr(lh),Hb,Fb,uh,Zg=p({},lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kb,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==uh&&(uh&&o.type==="mousemove"?(Hb=o.screenX-uh.screenX,Fb=o.screenY-uh.screenY):Fb=Hb=0,uh=o),Hb)},movementY:function(o){return"movementY"in o?o.movementY:Fb}}),sR=Nr(Zg),dH=p({},Zg,{dataTransfer:0}),hH=Nr(dH),fH=p({},lh,{relatedTarget:0}),Bb=Nr(fH),pH=p({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),gH=Nr(pH),mH=p({},$s,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),vH=Nr(mH),yH=p({},$s,{data:0}),cR=Nr(yH),_H={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CH(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=EH[o])?!!s[o]:!1}function Kb(){return CH}var SH=p({},lh,{key:function(o){if(o.key){var s=_H[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Vg(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?bH[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kb,charCode:function(o){return o.type==="keypress"?Vg(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Vg(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),TH=Nr(SH),AH=p({},Zg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lR=Nr(AH),wH=p({},lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kb}),RH=Nr(wH),kH=p({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),IH=Nr(kH),OH=p({},Zg,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),NH=Nr(OH),MH=p({},$s,{newState:0,oldState:0}),PH=Nr(MH),xH=[9,13,27,32],qb=zo&&"CompositionEvent"in window,dh=null;zo&&"documentMode"in document&&(dh=document.documentMode);var DH=zo&&"TextEvent"in window&&!dh,uR=zo&&(!qb||dh&&8<dh&&11>=dh),dR=" ",hR=!1;function fR(o,s){switch(o){case"keyup":return xH.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pR(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Nl=!1;function LH(o,s){switch(o){case"compositionend":return pR(s);case"keypress":return s.which!==32?null:(hR=!0,dR);case"textInput":return o=s.data,o===dR&&hR?null:o;default:return null}}function UH(o,s){if(Nl)return o==="compositionend"||!qb&&fR(o,s)?(o=oR(),Gg=zb=Ra=null,Nl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return uR&&s.locale!=="ko"?null:s.data;default:return null}}var zH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gR(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!zH[o.type]:s==="textarea"}function mR(o,s,l,h){Il?Ol?Ol.push(h):Ol=[h]:Il=h,s=Lm(s,"onChange"),0<s.length&&(l=new Qg("onChange","change",null,l,h),o.push({event:l,listeners:s}))}var hh=null,fh=null;function HH(o){ZI(o,0)}function Wg(o){var s=ah(o);if(W0(s))return o}function vR(o,s){if(o==="change")return s}var yR=!1;if(zo){var $b;if(zo){var jb="oninput"in document;if(!jb){var _R=document.createElement("div");_R.setAttribute("oninput","return;"),jb=typeof _R.oninput=="function"}$b=jb}else $b=!1;yR=$b&&(!document.documentMode||9<document.documentMode)}function bR(){hh&&(hh.detachEvent("onpropertychange",ER),fh=hh=null)}function ER(o){if(o.propertyName==="value"&&Wg(fh)){var s=[];mR(s,fh,o,Db(o)),iR(HH,s)}}function FH(o,s,l){o==="focusin"?(bR(),hh=s,fh=l,hh.attachEvent("onpropertychange",ER)):o==="focusout"&&bR()}function BH(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Wg(fh)}function KH(o,s){if(o==="click")return Wg(s)}function qH(o,s){if(o==="input"||o==="change")return Wg(s)}function $H(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var jr=typeof Object.is=="function"?Object.is:$H;function ph(o,s){if(jr(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var l=Object.keys(o),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!gt.call(s,m)||!jr(o[m],s[m]))return!1}return!0}function CR(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function SR(o,s){var l=CR(o);o=0;for(var h;l;){if(l.nodeType===3){if(h=o+l.textContent.length,o<=s&&h>=s)return{node:l,offset:s-o};o=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=CR(l)}}function TR(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?TR(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function AR(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=$g(o.document);s instanceof o.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)o=s.contentWindow;else break;s=$g(o.document)}return s}function Gb(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var jH=zo&&"documentMode"in document&&11>=document.documentMode,Ml=null,Vb=null,gh=null,Yb=!1;function wR(o,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yb||Ml==null||Ml!==$g(h)||(h=Ml,"selectionStart"in h&&Gb(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),gh&&ph(gh,h)||(gh=h,h=Lm(Vb,"onSelect"),0<h.length&&(s=new Qg("onSelect","select",null,s,l),o.push({event:s,listeners:h}),s.target=Ml)))}function js(o,s){var l={};return l[o.toLowerCase()]=s.toLowerCase(),l["Webkit"+o]="webkit"+s,l["Moz"+o]="moz"+s,l}var Pl={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},Qb={},RR={};zo&&(RR=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function Gs(o){if(Qb[o])return Qb[o];if(!Pl[o])return o;var s=Pl[o],l;for(l in s)if(s.hasOwnProperty(l)&&l in RR)return Qb[o]=s[l];return o}var kR=Gs("animationend"),IR=Gs("animationiteration"),OR=Gs("animationstart"),GH=Gs("transitionrun"),VH=Gs("transitionstart"),YH=Gs("transitioncancel"),NR=Gs("transitionend"),MR=new Map,Zb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zb.push("scrollEnd");function Bi(o,s){MR.set(o,s),qs(s,[o])}var PR=new WeakMap;function pi(o,s){if(typeof o=="object"&&o!==null){var l=PR.get(o);return l!==void 0?l:(s={value:o,source:s,stack:Q0(s)},PR.set(o,s),s)}return{value:o,source:s,stack:Q0(s)}}var gi=[],xl=0,Wb=0;function Xg(){for(var o=xl,s=Wb=xl=0;s<o;){var l=gi[s];gi[s++]=null;var h=gi[s];gi[s++]=null;var m=gi[s];gi[s++]=null;var _=gi[s];if(gi[s++]=null,h!==null&&m!==null){var T=h.pending;T===null?m.next=m:(m.next=T.next,T.next=m),h.pending=m}_!==0&&xR(l,m,_)}}function Jg(o,s,l,h){gi[xl++]=o,gi[xl++]=s,gi[xl++]=l,gi[xl++]=h,Wb|=h,o.lanes|=h,o=o.alternate,o!==null&&(o.lanes|=h)}function Xb(o,s,l,h){return Jg(o,s,l,h),em(o)}function Dl(o,s){return Jg(o,null,null,s),em(o)}function xR(o,s,l){o.lanes|=l;var h=o.alternate;h!==null&&(h.lanes|=l);for(var m=!1,_=o.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(m=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,m&&s!==null&&(m=31-Kt(l),o=_.hiddenUpdates,h=o[m],h===null?o[m]=[s]:h.push(s),s.lane=l|536870912),_):null}function em(o){if(50<Fh)throw Fh=0,iC=null,Error(r(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var Ll={};function QH(o,s,l,h){this.tag=o,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(o,s,l,h){return new QH(o,s,l,h)}function Jb(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ho(o,s){var l=o.alternate;return l===null?(l=Gr(o.tag,s,o.key,o.mode),l.elementType=o.elementType,l.type=o.type,l.stateNode=o.stateNode,l.alternate=o,o.alternate=l):(l.pendingProps=s,l.type=o.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=o.flags&65011712,l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,s=o.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=o.sibling,l.index=o.index,l.ref=o.ref,l.refCleanup=o.refCleanup,l}function DR(o,s){o.flags&=65011714;var l=o.alternate;return l===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,s=l.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function tm(o,s,l,h,m,_){var T=0;if(h=o,typeof o=="function")Jb(o)&&(T=1);else if(typeof o=="string")T=WF(o,l,ve.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case K:return o=Gr(31,l,s,m),o.elementType=K,o.lanes=_,o;case b:return Vs(l.children,m,_,s);case C:T=8,m|=24;break;case E:return o=Gr(12,l,s,m|2),o.elementType=E,o.lanes=_,o;case O:return o=Gr(13,l,s,m),o.elementType=O,o.lanes=_,o;case D:return o=Gr(19,l,s,m),o.elementType=D,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:case A:T=10;break e;case w:T=9;break e;case k:T=11;break e;case M:T=14;break e;case N:T=16,h=null;break e}T=29,l=Error(r(130,o===null?"null":typeof o,"")),h=null}return s=Gr(T,l,s,m),s.elementType=o,s.type=h,s.lanes=_,s}function Vs(o,s,l,h){return o=Gr(7,o,h,s),o.lanes=l,o}function eE(o,s,l){return o=Gr(6,o,null,s),o.lanes=l,o}function tE(o,s,l){return s=Gr(4,o.children!==null?o.children:[],o.key,s),s.lanes=l,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var Ul=[],zl=0,nm=null,rm=0,mi=[],vi=0,Ys=null,Fo=1,Bo="";function Qs(o,s){Ul[zl++]=rm,Ul[zl++]=nm,nm=o,rm=s}function LR(o,s,l){mi[vi++]=Fo,mi[vi++]=Bo,mi[vi++]=Ys,Ys=o;var h=Fo;o=Bo;var m=32-Kt(h)-1;h&=~(1<<m),l+=1;var _=32-Kt(s)+m;if(30<_){var T=m-m%5;_=(h&(1<<T)-1).toString(32),h>>=T,m-=T,Fo=1<<32-Kt(s)+m|l<<m|h,Bo=_+o}else Fo=1<<_|l<<m|h,Bo=o}function nE(o){o.return!==null&&(Qs(o,1),LR(o,1,0))}function rE(o){for(;o===nm;)nm=Ul[--zl],Ul[zl]=null,rm=Ul[--zl],Ul[zl]=null;for(;o===Ys;)Ys=mi[--vi],mi[vi]=null,Bo=mi[--vi],mi[vi]=null,Fo=mi[--vi],mi[vi]=null}var yr=null,vn=null,It=!1,Zs=null,to=!1,iE=Error(r(519));function Ws(o){var s=Error(r(418,""));throw yh(pi(s,o)),iE}function UR(o){var s=o.stateNode,l=o.type,h=o.memoizedProps;switch(s[On]=o,s[cr]=h,l){case"dialog":pt("cancel",s),pt("close",s);break;case"iframe":case"object":case"embed":pt("load",s);break;case"video":case"audio":for(l=0;l<Kh.length;l++)pt(Kh[l],s);break;case"source":pt("error",s);break;case"img":case"image":case"link":pt("error",s),pt("load",s);break;case"details":pt("toggle",s);break;case"input":pt("invalid",s),X0(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),qg(s);break;case"select":pt("invalid",s);break;case"textarea":pt("invalid",s),eR(s,h.value,h.defaultValue,h.children),qg(s)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||eO(s.textContent,l)?(h.popover!=null&&(pt("beforetoggle",s),pt("toggle",s)),h.onScroll!=null&&pt("scroll",s),h.onScrollEnd!=null&&pt("scrollend",s),h.onClick!=null&&(s.onclick=Um),s=!0):s=!1,s||Ws(o)}function zR(o){for(yr=o.return;yr;)switch(yr.tag){case 5:case 13:to=!1;return;case 27:case 3:to=!0;return;default:yr=yr.return}}function mh(o){if(o!==yr)return!1;if(!It)return zR(o),It=!0,!1;var s=o.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=o.type,l=!(l!=="form"&&l!=="button")||bC(o.type,o.memoizedProps)),l=!l),l&&vn&&Ws(o),zR(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8)if(l=o.data,l==="/$"){if(s===0){vn=qi(o.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;o=o.nextSibling}vn=null}}else s===27?(s=vn,qa(o.type)?(o=TC,TC=null,vn=o):vn=s):vn=yr?qi(o.stateNode.nextSibling):null;return!0}function vh(){vn=yr=null,It=!1}function HR(){var o=Zs;return o!==null&&(xr===null?xr=o:xr.push.apply(xr,o),Zs=null),o}function yh(o){Zs===null?Zs=[o]:Zs.push(o)}var oE=W(null),Xs=null,Ko=null;function ka(o,s,l){ce(oE,s._currentValue),s._currentValue=l}function qo(o){o._currentValue=oE.current,Q(oE)}function aE(o,s,l){for(;o!==null;){var h=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),o===l)break;o=o.return}}function sE(o,s,l,h){var m=o.child;for(m!==null&&(m.return=o);m!==null;){var _=m.dependencies;if(_!==null){var T=m.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=m;for(var x=0;x<s.length;x++)if(R.context===s[x]){_.lanes|=l,R=_.alternate,R!==null&&(R.lanes|=l),aE(_.return,l,o),h||(T=null);break e}_=R.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(r(341));T.lanes|=l,_=T.alternate,_!==null&&(_.lanes|=l),aE(T,l,o),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===o){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function _h(o,s,l,h){o=null;for(var m=s,_=!1;m!==null;){if(!_){if((m.flags&524288)!==0)_=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var R=m.type;jr(m.pendingProps.value,T.value)||(o!==null?o.push(R):o=[R])}}else if(m===ot.current){if(T=m.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(o!==null?o.push(Yh):o=[Yh])}m=m.return}o!==null&&sE(s,o,l,h),s.flags|=262144}function im(o){for(o=o.firstContext;o!==null;){if(!jr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Js(o){Xs=o,Ko=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function lr(o){return FR(Xs,o)}function om(o,s){return Xs===null&&Js(o),FR(o,s)}function FR(o,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ko===null){if(o===null)throw Error(r(308));Ko=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else Ko=Ko.next=s;return l}var ZH=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(l,h){o.push(h)}};this.abort=function(){s.aborted=!0,o.forEach(function(l){return l()})}},WH=n.unstable_scheduleCallback,XH=n.unstable_NormalPriority,zn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cE(){return{controller:new ZH,data:new Map,refCount:0}}function bh(o){o.refCount--,o.refCount===0&&WH(XH,function(){o.controller.abort()})}var Eh=null,lE=0,Hl=0,Fl=null;function JH(o,s){if(Eh===null){var l=Eh=[];lE=0,Hl=dC(),Fl={status:"pending",value:void 0,then:function(h){l.push(h)}}}return lE++,s.then(BR,BR),s}function BR(){if(--lE===0&&Eh!==null){Fl!==null&&(Fl.status="fulfilled");var o=Eh;Eh=null,Hl=0,Fl=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function eF(o,s){var l=[],h={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return o.then(function(){h.status="fulfilled",h.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(h.status="rejected",h.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),h}var KR=z.S;z.S=function(o,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&JH(o,s),KR!==null&&KR(o,s)};var ec=W(null);function uE(){var o=ec.current;return o!==null?o:tn.pooledCache}function am(o,s){s===null?ce(ec,ec.current):ce(ec,s.pool)}function qR(){var o=uE();return o===null?null:{parent:zn._currentValue,pool:o}}var Ch=Error(r(460)),$R=Error(r(474)),sm=Error(r(542)),dE={then:function(){}};function jR(o){return o=o.status,o==="fulfilled"||o==="rejected"}function cm(){}function GR(o,s,l){switch(l=o[l],l===void 0?o.push(s):l!==s&&(s.then(cm,cm),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,YR(o),o;default:if(typeof s.status=="string")s.then(cm,cm);else{if(o=tn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=s,o.status="pending",o.then(function(h){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=h}},function(h){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,YR(o),o}throw Sh=s,Ch}}var Sh=null;function VR(){if(Sh===null)throw Error(r(459));var o=Sh;return Sh=null,o}function YR(o){if(o===Ch||o===sm)throw Error(r(483))}var Ia=!1;function hE(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fE(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Oa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Na(o,s,l){var h=o.updateQueue;if(h===null)return null;if(h=h.shared,(Lt&2)!==0){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,s=em(o),xR(o,null,l),s}return Jg(o,h,s,l),em(o)}function Th(o,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=o.pendingLanes,l|=h,s.lanes=l,Zt(o,l)}}function pE(o,s){var l=o.updateQueue,h=o.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?m=_=T:_=_.next=T,l=l.next}while(l!==null);_===null?m=_=s:_=_.next=s}else m=_=s;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},o.updateQueue=l;return}o=l.lastBaseUpdate,o===null?l.firstBaseUpdate=s:o.next=s,l.lastBaseUpdate=s}var gE=!1;function Ah(){if(gE){var o=Fl;if(o!==null)throw o}}function wh(o,s,l,h){gE=!1;var m=o.updateQueue;Ia=!1;var _=m.firstBaseUpdate,T=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var x=R,G=x.next;x.next=null,T===null?_=G:T.next=G,T=x;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==T&&(R===null?ie.firstBaseUpdate=G:R.next=G,ie.lastBaseUpdate=x))}if(_!==null){var le=m.baseState;T=0,ie=G=x=null,R=_;do{var Y=R.lane&-536870913,Z=Y!==R.lane;if(Z?(bt&Y)===Y:(h&Y)===Y){Y!==0&&Y===Hl&&(gE=!0),ie!==null&&(ie=ie.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ve=o,$e=R;Y=s;var Gt=l;switch($e.tag){case 1:if(Ve=$e.payload,typeof Ve=="function"){le=Ve.call(Gt,le,Y);break e}le=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=$e.payload,Y=typeof Ve=="function"?Ve.call(Gt,le,Y):Ve,Y==null)break e;le=p({},le,Y);break e;case 2:Ia=!0}}Y=R.callback,Y!==null&&(o.flags|=64,Z&&(o.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(G=ie=Z,x=le):ie=ie.next=Z,T|=Y;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);ie===null&&(x=le),m.baseState=x,m.firstBaseUpdate=G,m.lastBaseUpdate=ie,_===null&&(m.shared.lanes=0),Ha|=T,o.lanes=T,o.memoizedState=le}}function QR(o,s){if(typeof o!="function")throw Error(r(191,o));o.call(s)}function ZR(o,s){var l=o.callbacks;if(l!==null)for(o.callbacks=null,o=0;o<l.length;o++)QR(l[o],s)}var Bl=W(null),lm=W(0);function WR(o,s){o=Zo,ce(lm,o),ce(Bl,s),Zo=o|s.baseLanes}function mE(){ce(lm,Zo),ce(Bl,Bl.current)}function vE(){Zo=lm.current,Q(Bl),Q(lm)}var Ma=0,ct=null,$t=null,Nn=null,um=!1,Kl=!1,tc=!1,dm=0,Rh=0,ql=null,tF=0;function Sn(){throw Error(r(321))}function yE(o,s){if(s===null)return!1;for(var l=0;l<s.length&&l<o.length;l++)if(!jr(o[l],s[l]))return!1;return!0}function _E(o,s,l,h,m,_){return Ma=_,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,z.H=o===null||o.memoizedState===null?xk:Dk,tc=!1,_=l(h,m),tc=!1,Kl&&(_=JR(s,l,h,m)),XR(o),_}function XR(o){z.H=vm;var s=$t!==null&&$t.next!==null;if(Ma=0,Nn=$t=ct=null,um=!1,Rh=0,ql=null,s)throw Error(r(300));o===null||Yn||(o=o.dependencies,o!==null&&im(o)&&(Yn=!0))}function JR(o,s,l,h){ct=o;var m=0;do{if(Kl&&(ql=null),Rh=0,Kl=!1,25<=m)throw Error(r(301));if(m+=1,Nn=$t=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}z.H=cF,_=s(l,h)}while(Kl);return _}function nF(){var o=z.H,s=o.useState()[0];return s=typeof s.then=="function"?kh(s):s,o=o.useState()[0],($t!==null?$t.memoizedState:null)!==o&&(ct.flags|=1024),s}function bE(){var o=dm!==0;return dm=0,o}function EE(o,s,l){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~l}function CE(o){if(um){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}um=!1}Ma=0,Nn=$t=ct=null,Kl=!1,Rh=dm=0,ql=null}function Mr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?ct.memoizedState=Nn=o:Nn=Nn.next=o,Nn}function Mn(){if($t===null){var o=ct.alternate;o=o!==null?o.memoizedState:null}else o=$t.next;var s=Nn===null?ct.memoizedState:Nn.next;if(s!==null)Nn=s,$t=o;else{if(o===null)throw ct.alternate===null?Error(r(467)):Error(r(310));$t=o,o={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Nn===null?ct.memoizedState=Nn=o:Nn=Nn.next=o}return Nn}function SE(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kh(o){var s=Rh;return Rh+=1,ql===null&&(ql=[]),o=GR(ql,o,s),s=ct,(Nn===null?s.memoizedState:Nn.next)===null&&(s=s.alternate,z.H=s===null||s.memoizedState===null?xk:Dk),o}function hm(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return kh(o);if(o.$$typeof===A)return lr(o)}throw Error(r(438,String(o)))}function TE(o){var s=null,l=ct.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=ct.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=SE(),ct.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(o),h=0;h<o;h++)l[h]=F;return s.index++,l}function $o(o,s){return typeof s=="function"?s(o):s}function fm(o){var s=Mn();return AE(s,$t,o)}function AE(o,s,l){var h=o.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var m=o.baseQueue,_=h.pending;if(_!==null){if(m!==null){var T=m.next;m.next=_.next,_.next=T}s.baseQueue=m=_,h.pending=null}if(_=o.baseState,m===null)o.memoizedState=_;else{s=m.next;var R=T=null,x=null,G=s,ie=!1;do{var le=G.lane&-536870913;if(le!==G.lane?(bt&le)===le:(Ma&le)===le){var Y=G.revertLane;if(Y===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),le===Hl&&(ie=!0);else if((Ma&Y)===Y){G=G.next,Y===Hl&&(ie=!0);continue}else le={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},x===null?(R=x=le,T=_):x=x.next=le,ct.lanes|=Y,Ha|=Y;le=G.action,tc&&l(_,le),_=G.hasEagerState?G.eagerState:l(_,le)}else Y={lane:le,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},x===null?(R=x=Y,T=_):x=x.next=Y,ct.lanes|=le,Ha|=le;G=G.next}while(G!==null&&G!==s);if(x===null?T=_:x.next=R,!jr(_,o.memoizedState)&&(Yn=!0,ie&&(l=Fl,l!==null)))throw l;o.memoizedState=_,o.baseState=T,o.baseQueue=x,h.lastRenderedState=_}return m===null&&(h.lanes=0),[o.memoizedState,h.dispatch]}function wE(o){var s=Mn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=o;var h=l.dispatch,m=l.pending,_=s.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do _=o(_,T.action),T=T.next;while(T!==m);jr(_,s.memoizedState)||(Yn=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function ek(o,s,l){var h=ct,m=Mn(),_=It;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var T=!jr(($t||m).memoizedState,l);T&&(m.memoizedState=l,Yn=!0),m=m.queue;var R=rk.bind(null,h,m,o);if(Ih(2048,8,R,[o]),m.getSnapshot!==s||T||Nn!==null&&Nn.memoizedState.tag&1){if(h.flags|=2048,$l(9,pm(),nk.bind(null,h,m,l,s),null),tn===null)throw Error(r(349));_||(Ma&124)!==0||tk(h,s,l)}return l}function tk(o,s,l){o.flags|=16384,o={getSnapshot:s,value:l},s=ct.updateQueue,s===null?(s=SE(),ct.updateQueue=s,s.stores=[o]):(l=s.stores,l===null?s.stores=[o]:l.push(o))}function nk(o,s,l,h){s.value=l,s.getSnapshot=h,ik(s)&&ok(o)}function rk(o,s,l){return l(function(){ik(s)&&ok(o)})}function ik(o){var s=o.getSnapshot;o=o.value;try{var l=s();return!jr(o,l)}catch{return!0}}function ok(o){var s=Dl(o,2);s!==null&&Wr(s,o,2)}function RE(o){var s=Mr();if(typeof o=="function"){var l=o;if(o=l(),tc){sr(!0);try{l()}finally{sr(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:o},s}function ak(o,s,l,h){return o.baseState=l,AE(o,$t,typeof h=="function"?h:$o)}function rF(o,s,l,h,m){if(mm(o))throw Error(r(485));if(o=s.action,o!==null){var _={payload:m,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){_.listeners.push(T)}};z.T!==null?l(!0):_.isTransition=!1,h(_),l=s.pending,l===null?(_.next=s.pending=_,sk(s,_)):(_.next=l.next,s.pending=l.next=_)}}function sk(o,s){var l=s.action,h=s.payload,m=o.state;if(s.isTransition){var _=z.T,T={};z.T=T;try{var R=l(m,h),x=z.S;x!==null&&x(T,R),ck(o,s,R)}catch(G){kE(o,s,G)}finally{z.T=_}}else try{_=l(m,h),ck(o,s,_)}catch(G){kE(o,s,G)}}function ck(o,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){lk(o,s,h)},function(h){return kE(o,s,h)}):lk(o,s,l)}function lk(o,s,l){s.status="fulfilled",s.value=l,uk(s),o.state=l,s=o.pending,s!==null&&(l=s.next,l===s?o.pending=null:(l=l.next,s.next=l,sk(o,l)))}function kE(o,s,l){var h=o.pending;if(o.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,uk(s),s=s.next;while(s!==h)}o.action=null}function uk(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function dk(o,s){return s}function hk(o,s){if(It){var l=tn.formState;if(l!==null){e:{var h=ct;if(It){if(vn){t:{for(var m=vn,_=to;m.nodeType!==8;){if(!_){m=null;break t}if(m=qi(m.nextSibling),m===null){m=null;break t}}_=m.data,m=_==="F!"||_==="F"?m:null}if(m){vn=qi(m.nextSibling),h=m.data==="F!";break e}}Ws(h)}h=!1}h&&(s=l[0])}}return l=Mr(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dk,lastRenderedState:s},l.queue=h,l=Nk.bind(null,ct,h),h.dispatch=l,h=RE(!1),_=PE.bind(null,ct,!1,h.queue),h=Mr(),m={state:s,dispatch:null,action:o,pending:null},h.queue=m,l=rF.bind(null,ct,m,_,l),m.dispatch=l,h.memoizedState=o,[s,l,!1]}function fk(o){var s=Mn();return pk(s,$t,o)}function pk(o,s,l){if(s=AE(o,s,dk)[0],o=fm($o)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=kh(s)}catch(T){throw T===Ch?sm:T}else h=s;s=Mn();var m=s.queue,_=m.dispatch;return l!==s.memoizedState&&(ct.flags|=2048,$l(9,pm(),iF.bind(null,m,l),null)),[h,_,o]}function iF(o,s){o.action=s}function gk(o){var s=Mn(),l=$t;if(l!==null)return pk(s,l,o);Mn(),s=s.memoizedState,l=Mn();var h=l.queue.dispatch;return l.memoizedState=o,[s,h,!1]}function $l(o,s,l,h){return o={tag:o,create:l,deps:h,inst:s,next:null},s=ct.updateQueue,s===null&&(s=SE(),ct.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=o.next=o:(h=l.next,l.next=o,o.next=h,s.lastEffect=o),o}function pm(){return{destroy:void 0,resource:void 0}}function mk(){return Mn().memoizedState}function gm(o,s,l,h){var m=Mr();h=h===void 0?null:h,ct.flags|=o,m.memoizedState=$l(1|s,pm(),l,h)}function Ih(o,s,l,h){var m=Mn();h=h===void 0?null:h;var _=m.memoizedState.inst;$t!==null&&h!==null&&yE(h,$t.memoizedState.deps)?m.memoizedState=$l(s,_,l,h):(ct.flags|=o,m.memoizedState=$l(1|s,_,l,h))}function vk(o,s){gm(8390656,8,o,s)}function yk(o,s){Ih(2048,8,o,s)}function _k(o,s){return Ih(4,2,o,s)}function bk(o,s){return Ih(4,4,o,s)}function Ek(o,s){if(typeof s=="function"){o=o();var l=s(o);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function Ck(o,s,l){l=l!=null?l.concat([o]):null,Ih(4,4,Ek.bind(null,s,o),l)}function IE(){}function Sk(o,s){var l=Mn();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&yE(s,h[1])?h[0]:(l.memoizedState=[o,s],o)}function Tk(o,s){var l=Mn();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&yE(s,h[1]))return h[0];if(h=o(),tc){sr(!0);try{o()}finally{sr(!1)}}return l.memoizedState=[h,s],h}function OE(o,s,l){return l===void 0||(Ma&1073741824)!==0?o.memoizedState=s:(o.memoizedState=l,o=RI(),ct.lanes|=o,Ha|=o,l)}function Ak(o,s,l,h){return jr(l,s)?l:Bl.current!==null?(o=OE(o,l,h),jr(o,s)||(Yn=!0),o):(Ma&42)===0?(Yn=!0,o.memoizedState=l):(o=RI(),ct.lanes|=o,Ha|=o,s)}function wk(o,s,l,h,m){var _=L.p;L.p=_!==0&&8>_?_:8;var T=z.T,R={};z.T=R,PE(o,!1,s,l);try{var x=m(),G=z.S;if(G!==null&&G(R,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var ie=eF(x,h);Oh(o,s,ie,Zr(o))}else Oh(o,s,h,Zr(o))}catch(le){Oh(o,s,{then:function(){},status:"rejected",reason:le},Zr())}finally{L.p=_,z.T=T}}function oF(){}function NE(o,s,l,h){if(o.tag!==5)throw Error(r(476));var m=Rk(o).queue;wk(o,m,s,V,l===null?oF:function(){return kk(o),l(h)})}function Rk(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:V},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:l},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function kk(o){var s=Rk(o).next.queue;Oh(o,s,{},Zr())}function ME(){return lr(Yh)}function Ik(){return Mn().memoizedState}function Ok(){return Mn().memoizedState}function aF(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var l=Zr();o=Oa(l);var h=Na(s,o,l);h!==null&&(Wr(h,s,l),Th(h,s,l)),s={cache:cE()},o.payload=s;return}s=s.return}}function sF(o,s,l){var h=Zr();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},mm(o)?Mk(s,l):(l=Xb(o,s,l,h),l!==null&&(Wr(l,o,h),Pk(l,s,h)))}function Nk(o,s,l){var h=Zr();Oh(o,s,l,h)}function Oh(o,s,l,h){var m={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(mm(o))Mk(s,m);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var T=s.lastRenderedState,R=_(T,l);if(m.hasEagerState=!0,m.eagerState=R,jr(R,T))return Jg(o,s,m,0),tn===null&&Xg(),!1}catch{}finally{}if(l=Xb(o,s,m,h),l!==null)return Wr(l,o,h),Pk(l,s,h),!0}return!1}function PE(o,s,l,h){if(h={lane:2,revertLane:dC(),action:h,hasEagerState:!1,eagerState:null,next:null},mm(o)){if(s)throw Error(r(479))}else s=Xb(o,l,h,2),s!==null&&Wr(s,o,2)}function mm(o){var s=o.alternate;return o===ct||s!==null&&s===ct}function Mk(o,s){Kl=um=!0;var l=o.pending;l===null?s.next=s:(s.next=l.next,l.next=s),o.pending=s}function Pk(o,s,l){if((l&4194048)!==0){var h=s.lanes;h&=o.pendingLanes,l|=h,s.lanes=l,Zt(o,l)}}var vm={readContext:lr,use:hm,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useLayoutEffect:Sn,useInsertionEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useSyncExternalStore:Sn,useId:Sn,useHostTransitionStatus:Sn,useFormState:Sn,useActionState:Sn,useOptimistic:Sn,useMemoCache:Sn,useCacheRefresh:Sn},xk={readContext:lr,use:hm,useCallback:function(o,s){return Mr().memoizedState=[o,s===void 0?null:s],o},useContext:lr,useEffect:vk,useImperativeHandle:function(o,s,l){l=l!=null?l.concat([o]):null,gm(4194308,4,Ek.bind(null,s,o),l)},useLayoutEffect:function(o,s){return gm(4194308,4,o,s)},useInsertionEffect:function(o,s){gm(4,2,o,s)},useMemo:function(o,s){var l=Mr();s=s===void 0?null:s;var h=o();if(tc){sr(!0);try{o()}finally{sr(!1)}}return l.memoizedState=[h,s],h},useReducer:function(o,s,l){var h=Mr();if(l!==void 0){var m=l(s);if(tc){sr(!0);try{l(s)}finally{sr(!1)}}}else m=s;return h.memoizedState=h.baseState=m,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:m},h.queue=o,o=o.dispatch=sF.bind(null,ct,o),[h.memoizedState,o]},useRef:function(o){var s=Mr();return o={current:o},s.memoizedState=o},useState:function(o){o=RE(o);var s=o.queue,l=Nk.bind(null,ct,s);return s.dispatch=l,[o.memoizedState,l]},useDebugValue:IE,useDeferredValue:function(o,s){var l=Mr();return OE(l,o,s)},useTransition:function(){var o=RE(!1);return o=wk.bind(null,ct,o.queue,!0,!1),Mr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,l){var h=ct,m=Mr();if(It){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),tn===null)throw Error(r(349));(bt&124)!==0||tk(h,s,l)}m.memoizedState=l;var _={value:l,getSnapshot:s};return m.queue=_,vk(rk.bind(null,h,_,o),[o]),h.flags|=2048,$l(9,pm(),nk.bind(null,h,_,l,s),null),l},useId:function(){var o=Mr(),s=tn.identifierPrefix;if(It){var l=Bo,h=Fo;l=(h&~(1<<32-Kt(h)-1)).toString(32)+l,s=""+s+"R"+l,l=dm++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=tF++,s=""+s+"r"+l.toString(32)+"";return o.memoizedState=s},useHostTransitionStatus:ME,useFormState:hk,useActionState:hk,useOptimistic:function(o){var s=Mr();s.memoizedState=s.baseState=o;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=PE.bind(null,ct,!0,l),l.dispatch=s,[o,s]},useMemoCache:TE,useCacheRefresh:function(){return Mr().memoizedState=aF.bind(null,ct)}},Dk={readContext:lr,use:hm,useCallback:Sk,useContext:lr,useEffect:yk,useImperativeHandle:Ck,useInsertionEffect:_k,useLayoutEffect:bk,useMemo:Tk,useReducer:fm,useRef:mk,useState:function(){return fm($o)},useDebugValue:IE,useDeferredValue:function(o,s){var l=Mn();return Ak(l,$t.memoizedState,o,s)},useTransition:function(){var o=fm($o)[0],s=Mn().memoizedState;return[typeof o=="boolean"?o:kh(o),s]},useSyncExternalStore:ek,useId:Ik,useHostTransitionStatus:ME,useFormState:fk,useActionState:fk,useOptimistic:function(o,s){var l=Mn();return ak(l,$t,o,s)},useMemoCache:TE,useCacheRefresh:Ok},cF={readContext:lr,use:hm,useCallback:Sk,useContext:lr,useEffect:yk,useImperativeHandle:Ck,useInsertionEffect:_k,useLayoutEffect:bk,useMemo:Tk,useReducer:wE,useRef:mk,useState:function(){return wE($o)},useDebugValue:IE,useDeferredValue:function(o,s){var l=Mn();return $t===null?OE(l,o,s):Ak(l,$t.memoizedState,o,s)},useTransition:function(){var o=wE($o)[0],s=Mn().memoizedState;return[typeof o=="boolean"?o:kh(o),s]},useSyncExternalStore:ek,useId:Ik,useHostTransitionStatus:ME,useFormState:gk,useActionState:gk,useOptimistic:function(o,s){var l=Mn();return $t!==null?ak(l,$t,o,s):(l.baseState=o,[o,l.queue.dispatch])},useMemoCache:TE,useCacheRefresh:Ok},jl=null,Nh=0;function ym(o){var s=Nh;return Nh+=1,jl===null&&(jl=[]),GR(jl,o,s)}function Mh(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function _m(o,s){throw s.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(s),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function Lk(o){var s=o._init;return s(o._payload)}function Uk(o){function s($,H){if(o){var j=$.deletions;j===null?($.deletions=[H],$.flags|=16):j.push(H)}}function l($,H){if(!o)return null;for(;H!==null;)s($,H),H=H.sibling;return null}function h($){for(var H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function m($,H){return $=Ho($,H),$.index=0,$.sibling=null,$}function _($,H,j){return $.index=j,o?(j=$.alternate,j!==null?(j=j.index,j<H?($.flags|=67108866,H):j):($.flags|=67108866,H)):($.flags|=1048576,H)}function T($){return o&&$.alternate===null&&($.flags|=67108866),$}function R($,H,j,ae){return H===null||H.tag!==6?(H=eE(j,$.mode,ae),H.return=$,H):(H=m(H,j),H.return=$,H)}function x($,H,j,ae){var Me=j.type;return Me===b?ie($,H,j.props.children,ae,j.key):H!==null&&(H.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===N&&Lk(Me)===H.type)?(H=m(H,j.props),Mh(H,j),H.return=$,H):(H=tm(j.type,j.key,j.props,null,$.mode,ae),Mh(H,j),H.return=$,H)}function G($,H,j,ae){return H===null||H.tag!==4||H.stateNode.containerInfo!==j.containerInfo||H.stateNode.implementation!==j.implementation?(H=tE(j,$.mode,ae),H.return=$,H):(H=m(H,j.children||[]),H.return=$,H)}function ie($,H,j,ae,Me){return H===null||H.tag!==7?(H=Vs(j,$.mode,ae,Me),H.return=$,H):(H=m(H,j),H.return=$,H)}function le($,H,j){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=eE(""+H,$.mode,j),H.return=$,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return j=tm(H.type,H.key,H.props,null,$.mode,j),Mh(j,H),j.return=$,j;case y:return H=tE(H,$.mode,j),H.return=$,H;case N:var ae=H._init;return H=ae(H._payload),le($,H,j)}if(he(H)||ue(H))return H=Vs(H,$.mode,j,null),H.return=$,H;if(typeof H.then=="function")return le($,ym(H),j);if(H.$$typeof===A)return le($,om($,H),j);_m($,H)}return null}function Y($,H,j,ae){var Me=H!==null?H.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return Me!==null?null:R($,H,""+j,ae);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case v:return j.key===Me?x($,H,j,ae):null;case y:return j.key===Me?G($,H,j,ae):null;case N:return Me=j._init,j=Me(j._payload),Y($,H,j,ae)}if(he(j)||ue(j))return Me!==null?null:ie($,H,j,ae,null);if(typeof j.then=="function")return Y($,H,ym(j),ae);if(j.$$typeof===A)return Y($,H,om($,j),ae);_m($,j)}return null}function Z($,H,j,ae,Me){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return $=$.get(j)||null,R(H,$,""+ae,Me);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return $=$.get(ae.key===null?j:ae.key)||null,x(H,$,ae,Me);case y:return $=$.get(ae.key===null?j:ae.key)||null,G(H,$,ae,Me);case N:var lt=ae._init;return ae=lt(ae._payload),Z($,H,j,ae,Me)}if(he(ae)||ue(ae))return $=$.get(j)||null,ie(H,$,ae,Me,null);if(typeof ae.then=="function")return Z($,H,j,ym(ae),Me);if(ae.$$typeof===A)return Z($,H,j,om(H,ae),Me);_m(H,ae)}return null}function Ve($,H,j,ae){for(var Me=null,lt=null,ze=H,je=H=0,Zn=null;ze!==null&&je<j.length;je++){ze.index>je?(Zn=ze,ze=null):Zn=ze.sibling;var Ct=Y($,ze,j[je],ae);if(Ct===null){ze===null&&(ze=Zn);break}o&&ze&&Ct.alternate===null&&s($,ze),H=_(Ct,H,je),lt===null?Me=Ct:lt.sibling=Ct,lt=Ct,ze=Zn}if(je===j.length)return l($,ze),It&&Qs($,je),Me;if(ze===null){for(;je<j.length;je++)ze=le($,j[je],ae),ze!==null&&(H=_(ze,H,je),lt===null?Me=ze:lt.sibling=ze,lt=ze);return It&&Qs($,je),Me}for(ze=h(ze);je<j.length;je++)Zn=Z(ze,$,je,j[je],ae),Zn!==null&&(o&&Zn.alternate!==null&&ze.delete(Zn.key===null?je:Zn.key),H=_(Zn,H,je),lt===null?Me=Zn:lt.sibling=Zn,lt=Zn);return o&&ze.forEach(function(Ya){return s($,Ya)}),It&&Qs($,je),Me}function $e($,H,j,ae){if(j==null)throw Error(r(151));for(var Me=null,lt=null,ze=H,je=H=0,Zn=null,Ct=j.next();ze!==null&&!Ct.done;je++,Ct=j.next()){ze.index>je?(Zn=ze,ze=null):Zn=ze.sibling;var Ya=Y($,ze,Ct.value,ae);if(Ya===null){ze===null&&(ze=Zn);break}o&&ze&&Ya.alternate===null&&s($,ze),H=_(Ya,H,je),lt===null?Me=Ya:lt.sibling=Ya,lt=Ya,ze=Zn}if(Ct.done)return l($,ze),It&&Qs($,je),Me;if(ze===null){for(;!Ct.done;je++,Ct=j.next())Ct=le($,Ct.value,ae),Ct!==null&&(H=_(Ct,H,je),lt===null?Me=Ct:lt.sibling=Ct,lt=Ct);return It&&Qs($,je),Me}for(ze=h(ze);!Ct.done;je++,Ct=j.next())Ct=Z(ze,$,je,Ct.value,ae),Ct!==null&&(o&&Ct.alternate!==null&&ze.delete(Ct.key===null?je:Ct.key),H=_(Ct,H,je),lt===null?Me=Ct:lt.sibling=Ct,lt=Ct);return o&&ze.forEach(function(lB){return s($,lB)}),It&&Qs($,je),Me}function Gt($,H,j,ae){if(typeof j=="object"&&j!==null&&j.type===b&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case v:e:{for(var Me=j.key;H!==null;){if(H.key===Me){if(Me=j.type,Me===b){if(H.tag===7){l($,H.sibling),ae=m(H,j.props.children),ae.return=$,$=ae;break e}}else if(H.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===N&&Lk(Me)===H.type){l($,H.sibling),ae=m(H,j.props),Mh(ae,j),ae.return=$,$=ae;break e}l($,H);break}else s($,H);H=H.sibling}j.type===b?(ae=Vs(j.props.children,$.mode,ae,j.key),ae.return=$,$=ae):(ae=tm(j.type,j.key,j.props,null,$.mode,ae),Mh(ae,j),ae.return=$,$=ae)}return T($);case y:e:{for(Me=j.key;H!==null;){if(H.key===Me)if(H.tag===4&&H.stateNode.containerInfo===j.containerInfo&&H.stateNode.implementation===j.implementation){l($,H.sibling),ae=m(H,j.children||[]),ae.return=$,$=ae;break e}else{l($,H);break}else s($,H);H=H.sibling}ae=tE(j,$.mode,ae),ae.return=$,$=ae}return T($);case N:return Me=j._init,j=Me(j._payload),Gt($,H,j,ae)}if(he(j))return Ve($,H,j,ae);if(ue(j)){if(Me=ue(j),typeof Me!="function")throw Error(r(150));return j=Me.call(j),$e($,H,j,ae)}if(typeof j.then=="function")return Gt($,H,ym(j),ae);if(j.$$typeof===A)return Gt($,H,om($,j),ae);_m($,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,H!==null&&H.tag===6?(l($,H.sibling),ae=m(H,j),ae.return=$,$=ae):(l($,H),ae=eE(j,$.mode,ae),ae.return=$,$=ae),T($)):l($,H)}return function($,H,j,ae){try{Nh=0;var Me=Gt($,H,j,ae);return jl=null,Me}catch(ze){if(ze===Ch||ze===sm)throw ze;var lt=Gr(29,ze,null,$.mode);return lt.lanes=ae,lt.return=$,lt}finally{}}}var Gl=Uk(!0),zk=Uk(!1),yi=W(null),no=null;function Pa(o){var s=o.alternate;ce(Hn,Hn.current&1),ce(yi,o),no===null&&(s===null||Bl.current!==null||s.memoizedState!==null)&&(no=o)}function Hk(o){if(o.tag===22){if(ce(Hn,Hn.current),ce(yi,o),no===null){var s=o.alternate;s!==null&&s.memoizedState!==null&&(no=o)}}else xa()}function xa(){ce(Hn,Hn.current),ce(yi,yi.current)}function jo(o){Q(yi),no===o&&(no=null),Q(Hn)}var Hn=W(0);function bm(o){for(var s=o;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||SC(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function xE(o,s,l,h){s=o.memoizedState,l=l(h,s),l=l==null?s:p({},s,l),o.memoizedState=l,o.lanes===0&&(o.updateQueue.baseState=l)}var DE={enqueueSetState:function(o,s,l){o=o._reactInternals;var h=Zr(),m=Oa(h);m.payload=s,l!=null&&(m.callback=l),s=Na(o,m,h),s!==null&&(Wr(s,o,h),Th(s,o,h))},enqueueReplaceState:function(o,s,l){o=o._reactInternals;var h=Zr(),m=Oa(h);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=Na(o,m,h),s!==null&&(Wr(s,o,h),Th(s,o,h))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var l=Zr(),h=Oa(l);h.tag=2,s!=null&&(h.callback=s),s=Na(o,h,l),s!==null&&(Wr(s,o,l),Th(s,o,l))}};function Fk(o,s,l,h,m,_,T){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(h,_,T):s.prototype&&s.prototype.isPureReactComponent?!ph(l,h)||!ph(m,_):!0}function Bk(o,s,l,h){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==o&&DE.enqueueReplaceState(s,s.state,null)}function nc(o,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(o=o.defaultProps){l===s&&(l=p({},l));for(var m in o)l[m]===void 0&&(l[m]=o[m])}return l}var Em=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Kk(o){Em(o)}function qk(o){console.error(o)}function $k(o){Em(o)}function Cm(o,s){try{var l=o.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function jk(o,s,l){try{var h=o.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function LE(o,s,l){return l=Oa(l),l.tag=3,l.payload={element:null},l.callback=function(){Cm(o,s)},l}function Gk(o){return o=Oa(o),o.tag=3,o}function Vk(o,s,l,h){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var _=h.value;o.payload=function(){return m(_)},o.callback=function(){jk(s,l,h)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(o.callback=function(){jk(s,l,h),typeof m!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function lF(o,s,l,h,m){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&_h(s,l,m,!0),l=yi.current,l!==null){switch(l.tag){case 13:return no===null?aC():l.alternate===null&&yn===0&&(yn=3),l.flags&=-257,l.flags|=65536,l.lanes=m,h===dE?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),cC(o,h,m)),!1;case 22:return l.flags|=65536,h===dE?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),cC(o,h,m)),!1}throw Error(r(435,l.tag))}return cC(o,h,m),aC(),!1}if(It)return s=yi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,h!==iE&&(o=Error(r(422),{cause:h}),yh(pi(o,l)))):(h!==iE&&(s=Error(r(423),{cause:h}),yh(pi(s,l))),o=o.current.alternate,o.flags|=65536,m&=-m,o.lanes|=m,h=pi(h,l),m=LE(o.stateNode,h,m),pE(o,m),yn!==4&&(yn=2)),!1;var _=Error(r(520),{cause:h});if(_=pi(_,l),Hh===null?Hh=[_]:Hh.push(_),yn!==4&&(yn=2),s===null)return!0;h=pi(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,o=m&-m,l.lanes|=o,o=LE(l.stateNode,h,o),pE(l,o),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fa===null||!Fa.has(_))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Gk(m),Vk(m,o,l,h),pE(l,m),!1}l=l.return}while(l!==null);return!1}var Yk=Error(r(461)),Yn=!1;function Jn(o,s,l,h){s.child=o===null?zk(s,null,l,h):Gl(s,o.child,l,h)}function Qk(o,s,l,h,m){l=l.render;var _=s.ref;if("ref"in h){var T={};for(var R in h)R!=="ref"&&(T[R]=h[R])}else T=h;return Js(s),h=_E(o,s,l,T,_,m),R=bE(),o!==null&&!Yn?(EE(o,s,m),Go(o,s,m)):(It&&R&&nE(s),s.flags|=1,Jn(o,s,h,m),s.child)}function Zk(o,s,l,h,m){if(o===null){var _=l.type;return typeof _=="function"&&!Jb(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,Wk(o,s,_,h,m)):(o=tm(l.type,null,h,s,s.mode,m),o.ref=s.ref,o.return=s,s.child=o)}if(_=o.child,!$E(o,m)){var T=_.memoizedProps;if(l=l.compare,l=l!==null?l:ph,l(T,h)&&o.ref===s.ref)return Go(o,s,m)}return s.flags|=1,o=Ho(_,h),o.ref=s.ref,o.return=s,s.child=o}function Wk(o,s,l,h,m){if(o!==null){var _=o.memoizedProps;if(ph(_,h)&&o.ref===s.ref)if(Yn=!1,s.pendingProps=h=_,$E(o,m))(o.flags&131072)!==0&&(Yn=!0);else return s.lanes=o.lanes,Go(o,s,m)}return UE(o,s,l,h,m)}function Xk(o,s,l){var h=s.pendingProps,m=h.children,_=o!==null?o.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=_!==null?_.baseLanes|l:l,o!==null){for(m=s.child=o.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;s.childLanes=_&~h}else s.childLanes=0,s.child=null;return Jk(o,s,h,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&am(s,_!==null?_.cachePool:null),_!==null?WR(s,_):mE(),Hk(s);else return s.lanes=s.childLanes=536870912,Jk(o,s,_!==null?_.baseLanes|l:l,l)}else _!==null?(am(s,_.cachePool),WR(s,_),xa(),s.memoizedState=null):(o!==null&&am(s,null),mE(),xa());return Jn(o,s,m,l),s.child}function Jk(o,s,l,h){var m=uE();return m=m===null?null:{parent:zn._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},o!==null&&am(s,null),mE(),Hk(s),o!==null&&_h(o,s,h,!0),null}function Sm(o,s){var l=s.ref;if(l===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(o===null||o.ref!==l)&&(s.flags|=4194816)}}function UE(o,s,l,h,m){return Js(s),l=_E(o,s,l,h,void 0,m),h=bE(),o!==null&&!Yn?(EE(o,s,m),Go(o,s,m)):(It&&h&&nE(s),s.flags|=1,Jn(o,s,l,m),s.child)}function eI(o,s,l,h,m,_){return Js(s),s.updateQueue=null,l=JR(s,h,l,m),XR(o),h=bE(),o!==null&&!Yn?(EE(o,s,_),Go(o,s,_)):(It&&h&&nE(s),s.flags|=1,Jn(o,s,l,_),s.child)}function tI(o,s,l,h,m){if(Js(s),s.stateNode===null){var _=Ll,T=l.contextType;typeof T=="object"&&T!==null&&(_=lr(T)),_=new l(h,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=DE,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=h,_.state=s.memoizedState,_.refs={},hE(s),T=l.contextType,_.context=typeof T=="object"&&T!==null?lr(T):Ll,_.state=s.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(xE(s,l,T,h),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(T=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),T!==_.state&&DE.enqueueReplaceState(_,_.state,null),wh(s,h,_,m),Ah(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(o===null){_=s.stateNode;var R=s.memoizedProps,x=nc(l,R);_.props=x;var G=_.context,ie=l.contextType;T=Ll,typeof ie=="object"&&ie!==null&&(T=lr(ie));var le=l.getDerivedStateFromProps;ie=typeof le=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,ie||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||G!==T)&&Bk(s,_,h,T),Ia=!1;var Y=s.memoizedState;_.state=Y,wh(s,h,_,m),Ah(),G=s.memoizedState,R||Y!==G||Ia?(typeof le=="function"&&(xE(s,l,le,h),G=s.memoizedState),(x=Ia||Fk(s,l,x,h,Y,G,T))?(ie||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=G),_.props=h,_.state=G,_.context=T,h=x):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{_=s.stateNode,fE(o,s),T=s.memoizedProps,ie=nc(l,T),_.props=ie,le=s.pendingProps,Y=_.context,G=l.contextType,x=Ll,typeof G=="object"&&G!==null&&(x=lr(G)),R=l.getDerivedStateFromProps,(G=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==le||Y!==x)&&Bk(s,_,h,x),Ia=!1,Y=s.memoizedState,_.state=Y,wh(s,h,_,m),Ah();var Z=s.memoizedState;T!==le||Y!==Z||Ia||o!==null&&o.dependencies!==null&&im(o.dependencies)?(typeof R=="function"&&(xE(s,l,R,h),Z=s.memoizedState),(ie=Ia||Fk(s,l,ie,h,Y,Z,x)||o!==null&&o.dependencies!==null&&im(o.dependencies))?(G||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,Z,x),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,Z,x)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===o.memoizedProps&&Y===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===o.memoizedProps&&Y===o.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Z),_.props=h,_.state=Z,_.context=x,h=ie):(typeof _.componentDidUpdate!="function"||T===o.memoizedProps&&Y===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===o.memoizedProps&&Y===o.memoizedState||(s.flags|=1024),h=!1)}return _=h,Sm(o,s),h=(s.flags&128)!==0,_||h?(_=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,o!==null&&h?(s.child=Gl(s,o.child,null,m),s.child=Gl(s,null,l,m)):Jn(o,s,l,m),s.memoizedState=_.state,o=s.child):o=Go(o,s,m),o}function nI(o,s,l,h){return vh(),s.flags|=256,Jn(o,s,l,h),s.child}var zE={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function HE(o){return{baseLanes:o,cachePool:qR()}}function FE(o,s,l){return o=o!==null?o.childLanes&~l:0,s&&(o|=_i),o}function rI(o,s,l){var h=s.pendingProps,m=!1,_=(s.flags&128)!==0,T;if((T=_)||(T=o!==null&&o.memoizedState===null?!1:(Hn.current&2)!==0),T&&(m=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,o===null){if(It){if(m?Pa(s):xa(),It){var R=vn,x;if(x=R){e:{for(x=R,R=to;x.nodeType!==8;){if(!R){R=null;break e}if(x=qi(x.nextSibling),x===null){R=null;break e}}R=x}R!==null?(s.memoizedState={dehydrated:R,treeContext:Ys!==null?{id:Fo,overflow:Bo}:null,retryLane:536870912,hydrationErrors:null},x=Gr(18,null,null,0),x.stateNode=R,x.return=s,s.child=x,yr=s,vn=null,x=!0):x=!1}x||Ws(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return SC(R)?s.lanes=32:s.lanes=536870912,null;jo(s)}return R=h.children,h=h.fallback,m?(xa(),m=s.mode,R=Tm({mode:"hidden",children:R},m),h=Vs(h,m,l,null),R.return=s,h.return=s,R.sibling=h,s.child=R,m=s.child,m.memoizedState=HE(l),m.childLanes=FE(o,T,l),s.memoizedState=zE,h):(Pa(s),BE(s,R))}if(x=o.memoizedState,x!==null&&(R=x.dehydrated,R!==null)){if(_)s.flags&256?(Pa(s),s.flags&=-257,s=KE(o,s,l)):s.memoizedState!==null?(xa(),s.child=o.child,s.flags|=128,s=null):(xa(),m=h.fallback,R=s.mode,h=Tm({mode:"visible",children:h.children},R),m=Vs(m,R,l,null),m.flags|=2,h.return=s,m.return=s,h.sibling=m,s.child=h,Gl(s,o.child,null,l),h=s.child,h.memoizedState=HE(l),h.childLanes=FE(o,T,l),s.memoizedState=zE,s=m);else if(Pa(s),SC(R)){if(T=R.nextSibling&&R.nextSibling.dataset,T)var G=T.dgst;T=G,h=Error(r(419)),h.stack="",h.digest=T,yh({value:h,source:null,stack:null}),s=KE(o,s,l)}else if(Yn||_h(o,s,l,!1),T=(l&o.childLanes)!==0,Yn||T){if(T=tn,T!==null&&(h=l&-l,h=(h&42)!==0?1:qt(h),h=(h&(T.suspendedLanes|l))!==0?0:h,h!==0&&h!==x.retryLane))throw x.retryLane=h,Dl(o,h),Wr(T,o,h),Yk;R.data==="$?"||aC(),s=KE(o,s,l)}else R.data==="$?"?(s.flags|=192,s.child=o.child,s=null):(o=x.treeContext,vn=qi(R.nextSibling),yr=s,It=!0,Zs=null,to=!1,o!==null&&(mi[vi++]=Fo,mi[vi++]=Bo,mi[vi++]=Ys,Fo=o.id,Bo=o.overflow,Ys=s),s=BE(s,h.children),s.flags|=4096);return s}return m?(xa(),m=h.fallback,R=s.mode,x=o.child,G=x.sibling,h=Ho(x,{mode:"hidden",children:h.children}),h.subtreeFlags=x.subtreeFlags&65011712,G!==null?m=Ho(G,m):(m=Vs(m,R,l,null),m.flags|=2),m.return=s,h.return=s,h.sibling=m,s.child=h,h=m,m=s.child,R=o.child.memoizedState,R===null?R=HE(l):(x=R.cachePool,x!==null?(G=zn._currentValue,x=x.parent!==G?{parent:G,pool:G}:x):x=qR(),R={baseLanes:R.baseLanes|l,cachePool:x}),m.memoizedState=R,m.childLanes=FE(o,T,l),s.memoizedState=zE,h):(Pa(s),l=o.child,o=l.sibling,l=Ho(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,o!==null&&(T=s.deletions,T===null?(s.deletions=[o],s.flags|=16):T.push(o)),s.child=l,s.memoizedState=null,l)}function BE(o,s){return s=Tm({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function Tm(o,s){return o=Gr(22,o,null,s),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function KE(o,s,l){return Gl(s,o.child,null,l),o=BE(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function iI(o,s,l){o.lanes|=s;var h=o.alternate;h!==null&&(h.lanes|=s),aE(o.return,s,l)}function qE(o,s,l,h,m){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=m)}function oI(o,s,l){var h=s.pendingProps,m=h.revealOrder,_=h.tail;if(Jn(o,s,h.children,l),h=Hn.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&iI(o,l,s);else if(o.tag===19)iI(o,l,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}h&=1}switch(ce(Hn,h),m){case"forwards":for(l=s.child,m=null;l!==null;)o=l.alternate,o!==null&&bm(o)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),qE(s,!1,m,l,_);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(o=m.alternate,o!==null&&bm(o)===null){s.child=m;break}o=m.sibling,m.sibling=l,l=m,m=o}qE(s,!0,l,null,_);break;case"together":qE(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Go(o,s,l){if(o!==null&&(s.dependencies=o.dependencies),Ha|=s.lanes,(l&s.childLanes)===0)if(o!==null){if(_h(o,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(r(153));if(s.child!==null){for(o=s.child,l=Ho(o,o.pendingProps),s.child=l,l.return=s;o.sibling!==null;)o=o.sibling,l=l.sibling=Ho(o,o.pendingProps),l.return=s;l.sibling=null}return s.child}function $E(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&im(o)))}function uF(o,s,l){switch(s.tag){case 3:nt(s,s.stateNode.containerInfo),ka(s,zn,o.memoizedState.cache),vh();break;case 27:case 5:sn(s);break;case 4:nt(s,s.stateNode.containerInfo);break;case 10:ka(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Pa(s),s.flags|=128,null):(l&s.child.childLanes)!==0?rI(o,s,l):(Pa(s),o=Go(o,s,l),o!==null?o.sibling:null);Pa(s);break;case 19:var m=(o.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(_h(o,s,l,!1),h=(l&s.childLanes)!==0),m){if(h)return oI(o,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Hn,Hn.current),h)break;return null;case 22:case 23:return s.lanes=0,Xk(o,s,l);case 24:ka(s,zn,o.memoizedState.cache)}return Go(o,s,l)}function aI(o,s,l){if(o!==null)if(o.memoizedProps!==s.pendingProps)Yn=!0;else{if(!$E(o,l)&&(s.flags&128)===0)return Yn=!1,uF(o,s,l);Yn=(o.flags&131072)!==0}else Yn=!1,It&&(s.flags&1048576)!==0&&LR(s,rm,s.index);switch(s.lanes=0,s.tag){case 16:e:{o=s.pendingProps;var h=s.elementType,m=h._init;if(h=m(h._payload),s.type=h,typeof h=="function")Jb(h)?(o=nc(h,o),s.tag=1,s=tI(null,s,h,o,l)):(s.tag=0,s=UE(null,s,h,o,l));else{if(h!=null){if(m=h.$$typeof,m===k){s.tag=11,s=Qk(null,s,h,o,l);break e}else if(m===M){s.tag=14,s=Zk(null,s,h,o,l);break e}}throw s=X(h)||h,Error(r(306,s,""))}}return s;case 0:return UE(o,s,s.type,s.pendingProps,l);case 1:return h=s.type,m=nc(h,s.pendingProps),tI(o,s,h,m,l);case 3:e:{if(nt(s,s.stateNode.containerInfo),o===null)throw Error(r(387));h=s.pendingProps;var _=s.memoizedState;m=_.element,fE(o,s),wh(s,h,null,l);var T=s.memoizedState;if(h=T.cache,ka(s,zn,h),h!==_.cache&&sE(s,[zn],l,!0),Ah(),h=T.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=nI(o,s,h,l);break e}else if(h!==m){m=pi(Error(r(424)),s),yh(m),s=nI(o,s,h,l);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(vn=qi(o.firstChild),yr=s,It=!0,Zs=null,to=!0,l=zk(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(vh(),h===m){s=Go(o,s,l);break e}Jn(o,s,h,l)}s=s.child}return s;case 26:return Sm(o,s),o===null?(l=uO(s.type,null,s.pendingProps,null))?s.memoizedState=l:It||(l=s.type,o=s.pendingProps,h=zm(Re.current).createElement(l),h[On]=s,h[cr]=o,tr(h,l,o),Vn(h),s.stateNode=h):s.memoizedState=uO(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return sn(s),o===null&&It&&(h=s.stateNode=sO(s.type,s.pendingProps,Re.current),yr=s,to=!0,m=vn,qa(s.type)?(TC=m,vn=qi(h.firstChild)):vn=m),Jn(o,s,s.pendingProps.children,l),Sm(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&It&&((m=h=vn)&&(h=zF(h,s.type,s.pendingProps,to),h!==null?(s.stateNode=h,yr=s,vn=qi(h.firstChild),to=!1,m=!0):m=!1),m||Ws(s)),sn(s),m=s.type,_=s.pendingProps,T=o!==null?o.memoizedProps:null,h=_.children,bC(m,_)?h=null:T!==null&&bC(m,T)&&(s.flags|=32),s.memoizedState!==null&&(m=_E(o,s,nF,null,null,l),Yh._currentValue=m),Sm(o,s),Jn(o,s,h,l),s.child;case 6:return o===null&&It&&((o=l=vn)&&(l=HF(l,s.pendingProps,to),l!==null?(s.stateNode=l,yr=s,vn=null,o=!0):o=!1),o||Ws(s)),null;case 13:return rI(o,s,l);case 4:return nt(s,s.stateNode.containerInfo),h=s.pendingProps,o===null?s.child=Gl(s,null,h,l):Jn(o,s,h,l),s.child;case 11:return Qk(o,s,s.type,s.pendingProps,l);case 7:return Jn(o,s,s.pendingProps,l),s.child;case 8:return Jn(o,s,s.pendingProps.children,l),s.child;case 12:return Jn(o,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,ka(s,s.type,h.value),Jn(o,s,h.children,l),s.child;case 9:return m=s.type._context,h=s.pendingProps.children,Js(s),m=lr(m),h=h(m),s.flags|=1,Jn(o,s,h,l),s.child;case 14:return Zk(o,s,s.type,s.pendingProps,l);case 15:return Wk(o,s,s.type,s.pendingProps,l);case 19:return oI(o,s,l);case 31:return h=s.pendingProps,l=s.mode,h={mode:h.mode,children:h.children},o===null?(l=Tm(h,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Ho(o.child,h),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return Xk(o,s,l);case 24:return Js(s),h=lr(zn),o===null?(m=uE(),m===null&&(m=tn,_=cE(),m.pooledCache=_,_.refCount++,_!==null&&(m.pooledCacheLanes|=l),m=_),s.memoizedState={parent:h,cache:m},hE(s),ka(s,zn,m)):((o.lanes&l)!==0&&(fE(o,s),wh(s,null,null,l),Ah()),m=o.memoizedState,_=s.memoizedState,m.parent!==h?(m={parent:h,cache:h},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),ka(s,zn,h)):(h=_.cache,ka(s,zn,h),h!==m.cache&&sE(s,[zn],l,!0))),Jn(o,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Vo(o){o.flags|=4}function sI(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!gO(s)){if(s=yi.current,s!==null&&((bt&4194048)===bt?no!==null:(bt&62914560)!==bt&&(bt&536870912)===0||s!==no))throw Sh=dE,$R;o.flags|=8192}}function Am(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?de():536870912,o.lanes|=s,Zl|=s)}function Ph(o,s){if(!It)switch(o.tailMode){case"hidden":s=o.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?o.tail=null:l.sibling=null;break;case"collapsed":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:h.sibling=null}}function hn(o){var s=o.alternate!==null&&o.alternate.child===o.child,l=0,h=0;if(s)for(var m=o.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=o,m=m.sibling;else for(m=o.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=o,m=m.sibling;return o.subtreeFlags|=h,o.childLanes=l,s}function dF(o,s,l){var h=s.pendingProps;switch(rE(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(s),null;case 1:return hn(s),null;case 3:return l=s.stateNode,h=null,o!==null&&(h=o.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),qo(zn),Ot(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(o===null||o.child===null)&&(mh(s)?Vo(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,HR())),hn(s),null;case 26:return l=s.memoizedState,o===null?(Vo(s),l!==null?(hn(s),sI(s,l)):(hn(s),s.flags&=-16777217)):l?l!==o.memoizedState?(Vo(s),hn(s),sI(s,l)):(hn(s),s.flags&=-16777217):(o.memoizedProps!==h&&Vo(s),hn(s),s.flags&=-16777217),null;case 27:Cn(s),l=Re.current;var m=s.type;if(o!==null&&s.stateNode!=null)o.memoizedProps!==h&&Vo(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return hn(s),null}o=ve.current,mh(s)?UR(s):(o=sO(m,h,l),s.stateNode=o,Vo(s))}return hn(s),null;case 5:if(Cn(s),l=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==h&&Vo(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return hn(s),null}if(o=ve.current,mh(s))UR(s);else{switch(m=zm(Re.current),o){case 1:o=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:o=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":o=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":o=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":o=m.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?o.multiple=!0:h.size&&(o.size=h.size);break;default:o=typeof h.is=="string"?m.createElement(l,{is:h.is}):m.createElement(l)}}o[On]=s,o[cr]=h;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=o;e:switch(tr(o,l,h),l){case"button":case"input":case"select":case"textarea":o=!!h.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Vo(s)}}return hn(s),s.flags&=-16777217,null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==h&&Vo(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(o=Re.current,mh(s)){if(o=s.stateNode,l=s.memoizedProps,h=null,m=yr,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}o[On]=s,o=!!(o.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||eO(o.nodeValue,l)),o||Ws(s)}else o=zm(o).createTextNode(h),o[On]=s,s.stateNode=o}return hn(s),null;case 13:if(h=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(m=mh(s),h!==null&&h.dehydrated!==null){if(o===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[On]=s}else vh(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;hn(s),m=!1}else m=HR(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(jo(s),s):(jo(s),null)}if(jo(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=h!==null,o=o!==null&&o.memoizedState!==null,l){h=s.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==m&&(h.flags|=2048)}return l!==o&&l&&(s.child.flags|=8192),Am(s,s.updateQueue),hn(s),null;case 4:return Ot(),o===null&&gC(s.stateNode.containerInfo),hn(s),null;case 10:return qo(s.type),hn(s),null;case 19:if(Q(Hn),m=s.memoizedState,m===null)return hn(s),null;if(h=(s.flags&128)!==0,_=m.rendering,_===null)if(h)Ph(m,!1);else{if(yn!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(_=bm(o),_!==null){for(s.flags|=128,Ph(m,!1),o=_.updateQueue,s.updateQueue=o,Am(s,o),s.subtreeFlags=0,o=l,l=s.child;l!==null;)DR(l,o),l=l.sibling;return ce(Hn,Hn.current&1|2),s.child}o=o.sibling}m.tail!==null&&Ae()>km&&(s.flags|=128,h=!0,Ph(m,!1),s.lanes=4194304)}else{if(!h)if(o=bm(_),o!==null){if(s.flags|=128,h=!0,o=o.updateQueue,s.updateQueue=o,Am(s,o),Ph(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!It)return hn(s),null}else 2*Ae()-m.renderingStartTime>km&&l!==536870912&&(s.flags|=128,h=!0,Ph(m,!1),s.lanes=4194304);m.isBackwards?(_.sibling=s.child,s.child=_):(o=m.last,o!==null?o.sibling=_:s.child=_,m.last=_)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ae(),s.sibling=null,o=Hn.current,ce(Hn,h?o&1|2:o&1),s):(hn(s),null);case 22:case 23:return jo(s),vE(),h=s.memoizedState!==null,o!==null?o.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(hn(s),s.subtreeFlags&6&&(s.flags|=8192)):hn(s),l=s.updateQueue,l!==null&&Am(s,l.retryQueue),l=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),o!==null&&Q(ec),null;case 24:return l=null,o!==null&&(l=o.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),qo(zn),hn(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function hF(o,s){switch(rE(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return qo(zn),Ot(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Cn(s),null;case 13:if(jo(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(r(340));vh()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return Q(Hn),null;case 4:return Ot(),null;case 10:return qo(s.type),null;case 22:case 23:return jo(s),vE(),o!==null&&Q(ec),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return qo(zn),null;case 25:return null;default:return null}}function cI(o,s){switch(rE(s),s.tag){case 3:qo(zn),Ot();break;case 26:case 27:case 5:Cn(s);break;case 4:Ot();break;case 13:jo(s);break;case 19:Q(Hn);break;case 10:qo(s.type);break;case 22:case 23:jo(s),vE(),o!==null&&Q(ec);break;case 24:qo(zn)}}function xh(o,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&o)===o){h=void 0;var _=l.create,T=l.inst;h=_(),T.destroy=h}l=l.next}while(l!==m)}}catch(R){Wt(s,s.return,R)}}function Da(o,s,l){try{var h=s.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var _=m.next;h=_;do{if((h.tag&o)===o){var T=h.inst,R=T.destroy;if(R!==void 0){T.destroy=void 0,m=s;var x=l,G=R;try{G()}catch(ie){Wt(m,x,ie)}}}h=h.next}while(h!==_)}}catch(ie){Wt(s,s.return,ie)}}function lI(o){var s=o.updateQueue;if(s!==null){var l=o.stateNode;try{ZR(s,l)}catch(h){Wt(o,o.return,h)}}}function uI(o,s,l){l.props=nc(o.type,o.memoizedProps),l.state=o.memoizedState;try{l.componentWillUnmount()}catch(h){Wt(o,s,h)}}function Dh(o,s){try{var l=o.ref;if(l!==null){switch(o.tag){case 26:case 27:case 5:var h=o.stateNode;break;case 30:h=o.stateNode;break;default:h=o.stateNode}typeof l=="function"?o.refCleanup=l(h):l.current=h}}catch(m){Wt(o,s,m)}}function ro(o,s){var l=o.ref,h=o.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(m){Wt(o,s,m)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Wt(o,s,m)}else l.current=null}function dI(o){var s=o.type,l=o.memoizedProps,h=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(m){Wt(o,o.return,m)}}function jE(o,s,l){try{var h=o.stateNode;PF(h,o.type,l,s),h[cr]=s}catch(m){Wt(o,o.return,m)}}function hI(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&qa(o.type)||o.tag===4}function GE(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||hI(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&qa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function VE(o,s,l){var h=o.tag;if(h===5||h===6)o=o.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(o,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(o),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Um));else if(h!==4&&(h===27&&qa(o.type)&&(l=o.stateNode,s=null),o=o.child,o!==null))for(VE(o,s,l),o=o.sibling;o!==null;)VE(o,s,l),o=o.sibling}function wm(o,s,l){var h=o.tag;if(h===5||h===6)o=o.stateNode,s?l.insertBefore(o,s):l.appendChild(o);else if(h!==4&&(h===27&&qa(o.type)&&(l=o.stateNode),o=o.child,o!==null))for(wm(o,s,l),o=o.sibling;o!==null;)wm(o,s,l),o=o.sibling}function fI(o){var s=o.stateNode,l=o.memoizedProps;try{for(var h=o.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);tr(s,h,l),s[On]=o,s[cr]=l}catch(_){Wt(o,o.return,_)}}var Yo=!1,Tn=!1,YE=!1,pI=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function fF(o,s){if(o=o.containerInfo,yC=$m,o=AR(o),Gb(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{l=(l=o.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var T=0,R=-1,x=-1,G=0,ie=0,le=o,Y=null;t:for(;;){for(var Z;le!==l||m!==0&&le.nodeType!==3||(R=T+m),le!==_||h!==0&&le.nodeType!==3||(x=T+h),le.nodeType===3&&(T+=le.nodeValue.length),(Z=le.firstChild)!==null;)Y=le,le=Z;for(;;){if(le===o)break t;if(Y===l&&++G===m&&(R=T),Y===_&&++ie===h&&(x=T),(Z=le.nextSibling)!==null)break;le=Y,Y=le.parentNode}le=Z}l=R===-1||x===-1?null:{start:R,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(_C={focusedElem:o,selectionRange:l},$m=!1,Qn=s;Qn!==null;)if(s=Qn,o=s.child,(s.subtreeFlags&1024)!==0&&o!==null)o.return=s,Qn=o;else for(;Qn!==null;){switch(s=Qn,_=s.alternate,o=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,l=s,m=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var Ve=nc(l.type,m,l.elementType===l.type);o=h.getSnapshotBeforeUpdate(Ve,_),h.__reactInternalSnapshotBeforeUpdate=o}catch($e){Wt(l,l.return,$e)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,l=o.nodeType,l===9)CC(o);else if(l===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":CC(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=s.sibling,o!==null){o.return=s.return,Qn=o;break}Qn=s.return}}function gI(o,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:La(o,l),h&4&&xh(5,l);break;case 1:if(La(o,l),h&4)if(o=l.stateNode,s===null)try{o.componentDidMount()}catch(T){Wt(l,l.return,T)}else{var m=nc(l.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(m,s,o.__reactInternalSnapshotBeforeUpdate)}catch(T){Wt(l,l.return,T)}}h&64&&lI(l),h&512&&Dh(l,l.return);break;case 3:if(La(o,l),h&64&&(o=l.updateQueue,o!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{ZR(o,s)}catch(T){Wt(l,l.return,T)}}break;case 27:s===null&&h&4&&fI(l);case 26:case 5:La(o,l),s===null&&h&4&&dI(l),h&512&&Dh(l,l.return);break;case 12:La(o,l);break;case 13:La(o,l),h&4&&yI(o,l),h&64&&(o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(l=CF.bind(null,l),FF(o,l))));break;case 22:if(h=l.memoizedState!==null||Yo,!h){s=s!==null&&s.memoizedState!==null||Tn,m=Yo;var _=Tn;Yo=h,(Tn=s)&&!_?Ua(o,l,(l.subtreeFlags&8772)!==0):La(o,l),Yo=m,Tn=_}break;case 30:break;default:La(o,l)}}function mI(o){var s=o.alternate;s!==null&&(o.alternate=null,mI(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&Rb(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var cn=null,Pr=!1;function Qo(o,s,l){for(l=l.child;l!==null;)vI(o,s,l),l=l.sibling}function vI(o,s,l){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Ln,l)}catch{}switch(l.tag){case 26:Tn||ro(l,s),Qo(o,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Tn||ro(l,s);var h=cn,m=Pr;qa(l.type)&&(cn=l.stateNode,Pr=!1),Qo(o,s,l),$h(l.stateNode),cn=h,Pr=m;break;case 5:Tn||ro(l,s);case 6:if(h=cn,m=Pr,cn=null,Qo(o,s,l),cn=h,Pr=m,cn!==null)if(Pr)try{(cn.nodeType===9?cn.body:cn.nodeName==="HTML"?cn.ownerDocument.body:cn).removeChild(l.stateNode)}catch(_){Wt(l,s,_)}else try{cn.removeChild(l.stateNode)}catch(_){Wt(l,s,_)}break;case 18:cn!==null&&(Pr?(o=cn,oO(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.stateNode),Xh(o)):oO(cn,l.stateNode));break;case 4:h=cn,m=Pr,cn=l.stateNode.containerInfo,Pr=!0,Qo(o,s,l),cn=h,Pr=m;break;case 0:case 11:case 14:case 15:Tn||Da(2,l,s),Tn||Da(4,l,s),Qo(o,s,l);break;case 1:Tn||(ro(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&uI(l,s,h)),Qo(o,s,l);break;case 21:Qo(o,s,l);break;case 22:Tn=(h=Tn)||l.memoizedState!==null,Qo(o,s,l),Tn=h;break;default:Qo(o,s,l)}}function yI(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Xh(o)}catch(l){Wt(s,s.return,l)}}function pF(o){switch(o.tag){case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new pI),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new pI),s;default:throw Error(r(435,o.tag))}}function QE(o,s){var l=pF(o);s.forEach(function(h){var m=SF.bind(null,o,h);l.has(h)||(l.add(h),h.then(m,m))})}function Vr(o,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h],_=o,T=s,R=T;e:for(;R!==null;){switch(R.tag){case 27:if(qa(R.type)){cn=R.stateNode,Pr=!1;break e}break;case 5:cn=R.stateNode,Pr=!1;break e;case 3:case 4:cn=R.stateNode.containerInfo,Pr=!0;break e}R=R.return}if(cn===null)throw Error(r(160));vI(_,T,m),cn=null,Pr=!1,_=m.alternate,_!==null&&(_.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)_I(s,o),s=s.sibling}var Ki=null;function _I(o,s){var l=o.alternate,h=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Vr(s,o),Yr(o),h&4&&(Da(3,o,o.return),xh(3,o),Da(5,o,o.return));break;case 1:Vr(s,o),Yr(o),h&512&&(Tn||l===null||ro(l,l.return)),h&64&&Yo&&(o=o.updateQueue,o!==null&&(h=o.callbacks,h!==null&&(l=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var m=Ki;if(Vr(s,o),Yr(o),h&512&&(Tn||l===null||ro(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=o.memoizedState,l===null)if(h===null)if(o.stateNode===null){e:{h=o.type,l=o.memoizedProps,m=m.ownerDocument||m;t:switch(h){case"title":_=m.getElementsByTagName("title")[0],(!_||_[oh]||_[On]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=m.createElement(h),m.head.insertBefore(_,m.querySelector("head > title"))),tr(_,h,l),_[On]=o,Vn(_),h=_;break e;case"link":var T=fO("link","href",m).get(h+(l.href||""));if(T){for(var R=0;R<T.length;R++)if(_=T[R],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(R,1);break t}}_=m.createElement(h),tr(_,h,l),m.head.appendChild(_);break;case"meta":if(T=fO("meta","content",m).get(h+(l.content||""))){for(R=0;R<T.length;R++)if(_=T[R],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(R,1);break t}}_=m.createElement(h),tr(_,h,l),m.head.appendChild(_);break;default:throw Error(r(468,h))}_[On]=o,Vn(_),h=_}o.stateNode=h}else pO(m,o.type,o.stateNode);else o.stateNode=hO(m,h,o.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?pO(m,o.type,o.stateNode):hO(m,h,o.memoizedProps)):h===null&&o.stateNode!==null&&jE(o,o.memoizedProps,l.memoizedProps)}break;case 27:Vr(s,o),Yr(o),h&512&&(Tn||l===null||ro(l,l.return)),l!==null&&h&4&&jE(o,o.memoizedProps,l.memoizedProps);break;case 5:if(Vr(s,o),Yr(o),h&512&&(Tn||l===null||ro(l,l.return)),o.flags&32){m=o.stateNode;try{kl(m,"")}catch(Z){Wt(o,o.return,Z)}}h&4&&o.stateNode!=null&&(m=o.memoizedProps,jE(o,m,l!==null?l.memoizedProps:m)),h&1024&&(YE=!0);break;case 6:if(Vr(s,o),Yr(o),h&4){if(o.stateNode===null)throw Error(r(162));h=o.memoizedProps,l=o.stateNode;try{l.nodeValue=h}catch(Z){Wt(o,o.return,Z)}}break;case 3:if(Bm=null,m=Ki,Ki=Hm(s.containerInfo),Vr(s,o),Ki=m,Yr(o),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Xh(s.containerInfo)}catch(Z){Wt(o,o.return,Z)}YE&&(YE=!1,bI(o));break;case 4:h=Ki,Ki=Hm(o.stateNode.containerInfo),Vr(s,o),Yr(o),Ki=h;break;case 12:Vr(s,o),Yr(o);break;case 13:Vr(s,o),Yr(o),o.child.flags&8192&&o.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(tC=Ae()),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,QE(o,h)));break;case 22:m=o.memoizedState!==null;var x=l!==null&&l.memoizedState!==null,G=Yo,ie=Tn;if(Yo=G||m,Tn=ie||x,Vr(s,o),Tn=ie,Yo=G,Yr(o),h&8192)e:for(s=o.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||x||Yo||Tn||rc(o)),l=null,s=o;;){if(s.tag===5||s.tag===26){if(l===null){x=l=s;try{if(_=x.stateNode,m)T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{R=x.stateNode;var le=x.memoizedProps.style,Y=le!=null&&le.hasOwnProperty("display")?le.display:null;R.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Z){Wt(x,x.return,Z)}}}else if(s.tag===6){if(l===null){x=s;try{x.stateNode.nodeValue=m?"":x.memoizedProps}catch(Z){Wt(x,x.return,Z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=o.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,QE(o,l))));break;case 19:Vr(s,o),Yr(o),h&4&&(h=o.updateQueue,h!==null&&(o.updateQueue=null,QE(o,h)));break;case 30:break;case 21:break;default:Vr(s,o),Yr(o)}}function Yr(o){var s=o.flags;if(s&2){try{for(var l,h=o.return;h!==null;){if(hI(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,_=GE(o);wm(o,_,m);break;case 5:var T=l.stateNode;l.flags&32&&(kl(T,""),l.flags&=-33);var R=GE(o);wm(o,R,T);break;case 3:case 4:var x=l.stateNode.containerInfo,G=GE(o);VE(o,G,x);break;default:throw Error(r(161))}}catch(ie){Wt(o,o.return,ie)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function bI(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;bI(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function La(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)gI(o,s.alternate,s),s=s.sibling}function rc(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:Da(4,s,s.return),rc(s);break;case 1:ro(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&uI(s,s.return,l),rc(s);break;case 27:$h(s.stateNode);case 26:case 5:ro(s,s.return),rc(s);break;case 22:s.memoizedState===null&&rc(s);break;case 30:rc(s);break;default:rc(s)}o=o.sibling}}function Ua(o,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,m=o,_=s,T=_.flags;switch(_.tag){case 0:case 11:case 15:Ua(m,_,l),xh(4,_);break;case 1:if(Ua(m,_,l),h=_,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){Wt(h,h.return,G)}if(h=_,m=h.updateQueue,m!==null){var R=h.stateNode;try{var x=m.shared.hiddenCallbacks;if(x!==null)for(m.shared.hiddenCallbacks=null,m=0;m<x.length;m++)QR(x[m],R)}catch(G){Wt(h,h.return,G)}}l&&T&64&&lI(_),Dh(_,_.return);break;case 27:fI(_);case 26:case 5:Ua(m,_,l),l&&h===null&&T&4&&dI(_),Dh(_,_.return);break;case 12:Ua(m,_,l);break;case 13:Ua(m,_,l),l&&T&4&&yI(m,_);break;case 22:_.memoizedState===null&&Ua(m,_,l),Dh(_,_.return);break;case 30:break;default:Ua(m,_,l)}s=s.sibling}}function ZE(o,s){var l=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==l&&(o!=null&&o.refCount++,l!=null&&bh(l))}function WE(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&bh(o))}function io(o,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)EI(o,s,l,h),s=s.sibling}function EI(o,s,l,h){var m=s.flags;switch(s.tag){case 0:case 11:case 15:io(o,s,l,h),m&2048&&xh(9,s);break;case 1:io(o,s,l,h);break;case 3:io(o,s,l,h),m&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&bh(o)));break;case 12:if(m&2048){io(o,s,l,h),o=s.stateNode;try{var _=s.memoizedProps,T=_.id,R=_.onPostCommit;typeof R=="function"&&R(T,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(x){Wt(s,s.return,x)}}else io(o,s,l,h);break;case 13:io(o,s,l,h);break;case 23:break;case 22:_=s.stateNode,T=s.alternate,s.memoizedState!==null?_._visibility&2?io(o,s,l,h):Lh(o,s):_._visibility&2?io(o,s,l,h):(_._visibility|=2,Vl(o,s,l,h,(s.subtreeFlags&10256)!==0)),m&2048&&ZE(T,s);break;case 24:io(o,s,l,h),m&2048&&WE(s.alternate,s);break;default:io(o,s,l,h)}}function Vl(o,s,l,h,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=o,T=s,R=l,x=h,G=T.flags;switch(T.tag){case 0:case 11:case 15:Vl(_,T,R,x,m),xh(8,T);break;case 23:break;case 22:var ie=T.stateNode;T.memoizedState!==null?ie._visibility&2?Vl(_,T,R,x,m):Lh(_,T):(ie._visibility|=2,Vl(_,T,R,x,m)),m&&G&2048&&ZE(T.alternate,T);break;case 24:Vl(_,T,R,x,m),m&&G&2048&&WE(T.alternate,T);break;default:Vl(_,T,R,x,m)}s=s.sibling}}function Lh(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=o,h=s,m=h.flags;switch(h.tag){case 22:Lh(l,h),m&2048&&ZE(h.alternate,h);break;case 24:Lh(l,h),m&2048&&WE(h.alternate,h);break;default:Lh(l,h)}s=s.sibling}}var Uh=8192;function Yl(o){if(o.subtreeFlags&Uh)for(o=o.child;o!==null;)CI(o),o=o.sibling}function CI(o){switch(o.tag){case 26:Yl(o),o.flags&Uh&&o.memoizedState!==null&&JF(Ki,o.memoizedState,o.memoizedProps);break;case 5:Yl(o);break;case 3:case 4:var s=Ki;Ki=Hm(o.stateNode.containerInfo),Yl(o),Ki=s;break;case 22:o.memoizedState===null&&(s=o.alternate,s!==null&&s.memoizedState!==null?(s=Uh,Uh=16777216,Yl(o),Uh=s):Yl(o));break;default:Yl(o)}}function SI(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function zh(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];Qn=h,AI(h,o)}SI(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)TI(o),o=o.sibling}function TI(o){switch(o.tag){case 0:case 11:case 15:zh(o),o.flags&2048&&Da(9,o,o.return);break;case 3:zh(o);break;case 12:zh(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,Rm(o)):zh(o);break;default:zh(o)}}function Rm(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];Qn=h,AI(h,o)}SI(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:Da(8,s,s.return),Rm(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Rm(s));break;default:Rm(s)}o=o.sibling}}function AI(o,s){for(;Qn!==null;){var l=Qn;switch(l.tag){case 0:case 11:case 15:Da(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:bh(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Qn=h;else e:for(l=o;Qn!==null;){h=Qn;var m=h.sibling,_=h.return;if(mI(h),h===l){Qn=null;break e}if(m!==null){m.return=_,Qn=m;break e}Qn=_}}}var gF={getCacheForType:function(o){var s=lr(zn),l=s.data.get(o);return l===void 0&&(l=o(),s.data.set(o,l)),l}},mF=typeof WeakMap=="function"?WeakMap:Map,Lt=0,tn=null,ft=null,bt=0,Ut=0,Qr=null,za=!1,Ql=!1,XE=!1,Zo=0,yn=0,Ha=0,ic=0,JE=0,_i=0,Zl=0,Hh=null,xr=null,eC=!1,tC=0,km=1/0,Im=null,Fa=null,er=0,Ba=null,Wl=null,Xl=0,nC=0,rC=null,wI=null,Fh=0,iC=null;function Zr(){if((Lt&2)!==0&&bt!==0)return bt&-bt;if(z.T!==null){var o=Hl;return o!==0?o:dC()}return Or()}function RI(){_i===0&&(_i=(bt&536870912)===0||It?ne():536870912);var o=yi.current;return o!==null&&(o.flags|=32),_i}function Wr(o,s,l){(o===tn&&(Ut===2||Ut===9)||o.cancelPendingCommit!==null)&&(Jl(o,0),Ka(o,bt,_i,!1)),Te(o,l),((Lt&2)===0||o!==tn)&&(o===tn&&((Lt&2)===0&&(ic|=l),yn===4&&Ka(o,bt,_i,!1)),oo(o))}function kI(o,s,l){if((Lt&6)!==0)throw Error(r(327));var h=!l&&(s&124)===0&&(s&o.expiredLanes)===0||ke(o,s),m=h?_F(o,s):sC(o,s,!0),_=h;do{if(m===0){Ql&&!h&&Ka(o,s,0,!1);break}else{if(l=o.current.alternate,_&&!vF(l)){m=sC(o,s,!1),_=!1;continue}if(m===2){if(_=s,o.errorRecoveryDisabledLanes&_)var T=0;else T=o.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var R=o;m=Hh;var x=R.current.memoizedState.isDehydrated;if(x&&(Jl(R,T).flags|=256),T=sC(R,T,!1),T!==2){if(XE&&!x){R.errorRecoveryDisabledLanes|=_,ic|=_,m=4;break e}_=xr,xr=m,_!==null&&(xr===null?xr=_:xr.push.apply(xr,_))}m=T}if(_=!1,m!==2)continue}}if(m===1){Jl(o,0),Ka(o,s,0,!0);break}e:{switch(h=o,_=m,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ka(h,s,_i,!za);break e;case 2:xr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=tC+300-Ae(),10<m)){if(Ka(h,s,_i,!za),We(h,0,!0)!==0)break e;h.timeoutHandle=rO(II.bind(null,h,l,xr,Im,eC,s,_i,ic,Zl,za,_,2,-0,0),m);break e}II(h,l,xr,Im,eC,s,_i,ic,Zl,za,_,0,-0,0)}}break}while(!0);oo(o)}function II(o,s,l,h,m,_,T,R,x,G,ie,le,Y,Z){if(o.timeoutHandle=-1,le=s.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Vh={stylesheets:null,count:0,unsuspend:XF},CI(s),le=eB(),le!==null)){o.cancelPendingCommit=le(LI.bind(null,o,s,_,l,h,m,T,R,x,ie,1,Y,Z)),Ka(o,_,T,!G);return}LI(o,s,_,l,h,m,T,R,x)}function vF(o){for(var s=o;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var m=l[h],_=m.getSnapshot;m=m.value;try{if(!jr(_(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ka(o,s,l,h){s&=~JE,s&=~ic,o.suspendedLanes|=s,o.pingedLanes&=~s,h&&(o.warmLanes|=s),h=o.expirationTimes;for(var m=s;0<m;){var _=31-Kt(m),T=1<<_;h[_]=-1,m&=~T}l!==0&&et(o,l,s)}function Om(){return(Lt&6)===0?(Bh(0),!1):!0}function oC(){if(ft!==null){if(Ut===0)var o=ft.return;else o=ft,Ko=Xs=null,CE(o),jl=null,Nh=0,o=ft;for(;o!==null;)cI(o.alternate,o),o=o.return;ft=null}}function Jl(o,s){var l=o.timeoutHandle;l!==-1&&(o.timeoutHandle=-1,DF(l)),l=o.cancelPendingCommit,l!==null&&(o.cancelPendingCommit=null,l()),oC(),tn=o,ft=l=Ho(o.current,null),bt=s,Ut=0,Qr=null,za=!1,Ql=ke(o,s),XE=!1,Zl=_i=JE=ic=Ha=yn=0,xr=Hh=null,eC=!1,(s&8)!==0&&(s|=s&32);var h=o.entangledLanes;if(h!==0)for(o=o.entanglements,h&=s;0<h;){var m=31-Kt(h),_=1<<m;s|=o[m],h&=~_}return Zo=s,Xg(),l}function OI(o,s){ct=null,z.H=vm,s===Ch||s===sm?(s=VR(),Ut=3):s===$R?(s=VR(),Ut=4):Ut=s===Yk?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Qr=s,ft===null&&(yn=1,Cm(o,pi(s,o.current)))}function NI(){var o=z.H;return z.H=vm,o===null?vm:o}function MI(){var o=z.A;return z.A=gF,o}function aC(){yn=4,za||(bt&4194048)!==bt&&yi.current!==null||(Ql=!0),(Ha&134217727)===0&&(ic&134217727)===0||tn===null||Ka(tn,bt,_i,!1)}function sC(o,s,l){var h=Lt;Lt|=2;var m=NI(),_=MI();(tn!==o||bt!==s)&&(Im=null,Jl(o,s)),s=!1;var T=yn;e:do try{if(Ut!==0&&ft!==null){var R=ft,x=Qr;switch(Ut){case 8:oC(),T=6;break e;case 3:case 2:case 9:case 6:yi.current===null&&(s=!0);var G=Ut;if(Ut=0,Qr=null,eu(o,R,x,G),l&&Ql){T=0;break e}break;default:G=Ut,Ut=0,Qr=null,eu(o,R,x,G)}}yF(),T=yn;break}catch(ie){OI(o,ie)}while(!0);return s&&o.shellSuspendCounter++,Ko=Xs=null,Lt=h,z.H=m,z.A=_,ft===null&&(tn=null,bt=0,Xg()),T}function yF(){for(;ft!==null;)PI(ft)}function _F(o,s){var l=Lt;Lt|=2;var h=NI(),m=MI();tn!==o||bt!==s?(Im=null,km=Ae()+500,Jl(o,s)):Ql=ke(o,s);e:do try{if(Ut!==0&&ft!==null){s=ft;var _=Qr;t:switch(Ut){case 1:Ut=0,Qr=null,eu(o,s,_,1);break;case 2:case 9:if(jR(_)){Ut=0,Qr=null,xI(s);break}s=function(){Ut!==2&&Ut!==9||tn!==o||(Ut=7),oo(o)},_.then(s,s);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:jR(_)?(Ut=0,Qr=null,xI(s)):(Ut=0,Qr=null,eu(o,s,_,7));break;case 5:var T=null;switch(ft.tag){case 26:T=ft.memoizedState;case 5:case 27:var R=ft;if(!T||gO(T)){Ut=0,Qr=null;var x=R.sibling;if(x!==null)ft=x;else{var G=R.return;G!==null?(ft=G,Nm(G)):ft=null}break t}}Ut=0,Qr=null,eu(o,s,_,5);break;case 6:Ut=0,Qr=null,eu(o,s,_,6);break;case 8:oC(),yn=6;break e;default:throw Error(r(462))}}bF();break}catch(ie){OI(o,ie)}while(!0);return Ko=Xs=null,z.H=h,z.A=m,Lt=l,ft!==null?0:(tn=null,bt=0,Xg(),yn)}function bF(){for(;ft!==null&&!J();)PI(ft)}function PI(o){var s=aI(o.alternate,o,Zo);o.memoizedProps=o.pendingProps,s===null?Nm(o):ft=s}function xI(o){var s=o,l=s.alternate;switch(s.tag){case 15:case 0:s=eI(l,s,s.pendingProps,s.type,void 0,bt);break;case 11:s=eI(l,s,s.pendingProps,s.type.render,s.ref,bt);break;case 5:CE(s);default:cI(l,s),s=ft=DR(s,Zo),s=aI(l,s,Zo)}o.memoizedProps=o.pendingProps,s===null?Nm(o):ft=s}function eu(o,s,l,h){Ko=Xs=null,CE(s),jl=null,Nh=0;var m=s.return;try{if(lF(o,m,s,l,bt)){yn=1,Cm(o,pi(l,o.current)),ft=null;return}}catch(_){if(m!==null)throw ft=m,_;yn=1,Cm(o,pi(l,o.current)),ft=null;return}s.flags&32768?(It||h===1?o=!0:Ql||(bt&536870912)!==0?o=!1:(za=o=!0,(h===2||h===9||h===3||h===6)&&(h=yi.current,h!==null&&h.tag===13&&(h.flags|=16384))),DI(s,o)):Nm(s)}function Nm(o){var s=o;do{if((s.flags&32768)!==0){DI(s,za);return}o=s.return;var l=dF(s.alternate,s,Zo);if(l!==null){ft=l;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=o}while(s!==null);yn===0&&(yn=5)}function DI(o,s){do{var l=hF(o.alternate,o);if(l!==null){l.flags&=32767,ft=l;return}if(l=o.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(o=o.sibling,o!==null)){ft=o;return}ft=o=l}while(o!==null);yn=6,ft=null}function LI(o,s,l,h,m,_,T,R,x){o.cancelPendingCommit=null;do Mm();while(er!==0);if((Lt&6)!==0)throw Error(r(327));if(s!==null){if(s===o.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Wb,qe(o,l,_,T,R,x),o===tn&&(ft=tn=null,bt=0),Wl=s,Ba=o,Xl=l,nC=_,rC=m,wI=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,TF(Je,function(){return BI(),null})):(o.callbackNode=null,o.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=z.T,z.T=null,m=L.p,L.p=2,T=Lt,Lt|=4;try{fF(o,s,l)}finally{Lt=T,L.p=m,z.T=h}}er=1,UI(),zI(),HI()}}function UI(){if(er===1){er=0;var o=Ba,s=Wl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var h=L.p;L.p=2;var m=Lt;Lt|=4;try{_I(s,o);var _=_C,T=AR(o.containerInfo),R=_.focusedElem,x=_.selectionRange;if(T!==R&&R&&R.ownerDocument&&TR(R.ownerDocument.documentElement,R)){if(x!==null&&Gb(R)){var G=x.start,ie=x.end;if(ie===void 0&&(ie=G),"selectionStart"in R)R.selectionStart=G,R.selectionEnd=Math.min(ie,R.value.length);else{var le=R.ownerDocument||document,Y=le&&le.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),Ve=R.textContent.length,$e=Math.min(x.start,Ve),Gt=x.end===void 0?$e:Math.min(x.end,Ve);!Z.extend&&$e>Gt&&(T=Gt,Gt=$e,$e=T);var $=SR(R,$e),H=SR(R,Gt);if($&&H&&(Z.rangeCount!==1||Z.anchorNode!==$.node||Z.anchorOffset!==$.offset||Z.focusNode!==H.node||Z.focusOffset!==H.offset)){var j=le.createRange();j.setStart($.node,$.offset),Z.removeAllRanges(),$e>Gt?(Z.addRange(j),Z.extend(H.node,H.offset)):(j.setEnd(H.node,H.offset),Z.addRange(j))}}}}for(le=[],Z=R;Z=Z.parentNode;)Z.nodeType===1&&le.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<le.length;R++){var ae=le[R];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}$m=!!yC,_C=yC=null}finally{Lt=m,L.p=h,z.T=l}}o.current=s,er=2}}function zI(){if(er===2){er=0;var o=Ba,s=Wl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var h=L.p;L.p=2;var m=Lt;Lt|=4;try{gI(o,s.alternate,s)}finally{Lt=m,L.p=h,z.T=l}}er=3}}function HI(){if(er===4||er===3){er=0,Ce();var o=Ba,s=Wl,l=Xl,h=wI;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?er=5:(er=0,Wl=Ba=null,FI(o,o.pendingLanes));var m=o.pendingLanes;if(m===0&&(Fa=null),Ir(l),s=s.stateNode,dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Ln,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=z.T,m=L.p,L.p=2,z.T=null;try{for(var _=o.onRecoverableError,T=0;T<h.length;T++){var R=h[T];_(R.value,{componentStack:R.stack})}}finally{z.T=s,L.p=m}}(Xl&3)!==0&&Mm(),oo(o),m=o.pendingLanes,(l&4194090)!==0&&(m&42)!==0?o===iC?Fh++:(Fh=0,iC=o):Fh=0,Bh(0)}}function FI(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,bh(s)))}function Mm(o){return UI(),zI(),HI(),BI()}function BI(){if(er!==5)return!1;var o=Ba,s=nC;nC=0;var l=Ir(Xl),h=z.T,m=L.p;try{L.p=32>l?32:l,z.T=null,l=rC,rC=null;var _=Ba,T=Xl;if(er=0,Wl=Ba=null,Xl=0,(Lt&6)!==0)throw Error(r(331));var R=Lt;if(Lt|=4,TI(_.current),EI(_,_.current,T,l),Lt=R,Bh(0,!1),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Ln,_)}catch{}return!0}finally{L.p=m,z.T=h,FI(o,s)}}function KI(o,s,l){s=pi(l,s),s=LE(o.stateNode,s,2),o=Na(o,s,2),o!==null&&(Te(o,2),oo(o))}function Wt(o,s,l){if(o.tag===3)KI(o,o,l);else for(;s!==null;){if(s.tag===3){KI(s,o,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Fa===null||!Fa.has(h))){o=pi(l,o),l=Gk(2),h=Na(s,l,2),h!==null&&(Vk(l,h,s,o),Te(h,2),oo(h));break}}s=s.return}}function cC(o,s,l){var h=o.pingCache;if(h===null){h=o.pingCache=new mF;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(l)||(XE=!0,m.add(l),o=EF.bind(null,o,s,l),s.then(o,o))}function EF(o,s,l){var h=o.pingCache;h!==null&&h.delete(s),o.pingedLanes|=o.suspendedLanes&l,o.warmLanes&=~l,tn===o&&(bt&l)===l&&(yn===4||yn===3&&(bt&62914560)===bt&&300>Ae()-tC?(Lt&2)===0&&Jl(o,0):JE|=l,Zl===bt&&(Zl=0)),oo(o)}function qI(o,s){s===0&&(s=de()),o=Dl(o,s),o!==null&&(Te(o,s),oo(o))}function CF(o){var s=o.memoizedState,l=0;s!==null&&(l=s.retryLane),qI(o,l)}function SF(o,s){var l=0;switch(o.tag){case 13:var h=o.stateNode,m=o.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=o.stateNode;break;case 22:h=o.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),qI(o,l)}function TF(o,s){return yt(o,s)}var Pm=null,tu=null,lC=!1,xm=!1,uC=!1,oc=0;function oo(o){o!==tu&&o.next===null&&(tu===null?Pm=tu=o:tu=tu.next=o),xm=!0,lC||(lC=!0,wF())}function Bh(o,s){if(!uC&&xm){uC=!0;do for(var l=!1,h=Pm;h!==null;){if(o!==0){var m=h.pendingLanes;if(m===0)var _=0;else{var T=h.suspendedLanes,R=h.pingedLanes;_=(1<<31-Kt(42|o)+1)-1,_&=m&~(T&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,VI(h,_))}else _=bt,_=We(h,h===tn?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||ke(h,_)||(l=!0,VI(h,_));h=h.next}while(l);uC=!1}}function AF(){$I()}function $I(){xm=lC=!1;var o=0;oc!==0&&(xF()&&(o=oc),oc=0);for(var s=Ae(),l=null,h=Pm;h!==null;){var m=h.next,_=jI(h,s);_===0?(h.next=null,l===null?Pm=m:l.next=m,m===null&&(tu=l)):(l=h,(o!==0||(_&3)!==0)&&(xm=!0)),h=m}Bh(o)}function jI(o,s){for(var l=o.suspendedLanes,h=o.pingedLanes,m=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var T=31-Kt(_),R=1<<T,x=m[T];x===-1?((R&l)===0||(R&h)!==0)&&(m[T]=q(R,s)):x<=s&&(o.expiredLanes|=R),_&=~R}if(s=tn,l=bt,l=We(o,o===s?l:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),h=o.callbackNode,l===0||o===s&&(Ut===2||Ut===9)||o.cancelPendingCommit!==null)return h!==null&&h!==null&&Nt(h),o.callbackNode=null,o.callbackPriority=0;if((l&3)===0||ke(o,l)){if(s=l&-l,s===o.callbackPriority)return s;switch(h!==null&&Nt(h),Ir(l)){case 2:case 8:l=Xe;break;case 32:l=Je;break;case 268435456:l=Be;break;default:l=Je}return h=GI.bind(null,o),l=yt(l,h),o.callbackPriority=s,o.callbackNode=l,s}return h!==null&&h!==null&&Nt(h),o.callbackPriority=2,o.callbackNode=null,2}function GI(o,s){if(er!==0&&er!==5)return o.callbackNode=null,o.callbackPriority=0,null;var l=o.callbackNode;if(Mm()&&o.callbackNode!==l)return null;var h=bt;return h=We(o,o===tn?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),h===0?null:(kI(o,h,s),jI(o,Ae()),o.callbackNode!=null&&o.callbackNode===l?GI.bind(null,o):null)}function VI(o,s){if(Mm())return null;kI(o,s,!0)}function wF(){LF(function(){(Lt&6)!==0?yt(De,AF):$I()})}function dC(){return oc===0&&(oc=ne()),oc}function YI(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:jg(""+o)}function QI(o,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,o.id&&l.setAttribute("form",o.id),s.parentNode.insertBefore(l,s),o=new FormData(o),l.parentNode.removeChild(l),o}function RF(o,s,l,h,m){if(s==="submit"&&l&&l.stateNode===m){var _=YI((m[cr]||null).action),T=h.submitter;T&&(s=(s=T[cr]||null)?YI(s.formAction):T.getAttribute("formAction"),s!==null&&(_=s,T=null));var R=new Qg("action","action",null,h,m);o.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(oc!==0){var x=T?QI(m,T):new FormData(m);NE(l,{pending:!0,data:x,method:m.method,action:_},null,x)}}else typeof _=="function"&&(R.preventDefault(),x=T?QI(m,T):new FormData(m),NE(l,{pending:!0,data:x,method:m.method,action:_},_,x))},currentTarget:m}]})}}for(var hC=0;hC<Zb.length;hC++){var fC=Zb[hC],kF=fC.toLowerCase(),IF=fC[0].toUpperCase()+fC.slice(1);Bi(kF,"on"+IF)}Bi(kR,"onAnimationEnd"),Bi(IR,"onAnimationIteration"),Bi(OR,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(GH,"onTransitionRun"),Bi(VH,"onTransitionStart"),Bi(YH,"onTransitionCancel"),Bi(NR,"onTransitionEnd"),Al("onMouseEnter",["mouseout","mouseover"]),Al("onMouseLeave",["mouseout","mouseover"]),Al("onPointerEnter",["pointerout","pointerover"]),Al("onPointerLeave",["pointerout","pointerover"]),qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kh));function ZI(o,s){s=(s&4)!==0;for(var l=0;l<o.length;l++){var h=o[l],m=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var T=h.length-1;0<=T;T--){var R=h[T],x=R.instance,G=R.currentTarget;if(R=R.listener,x!==_&&m.isPropagationStopped())break e;_=R,m.currentTarget=G;try{_(m)}catch(ie){Em(ie)}m.currentTarget=null,_=x}else for(T=0;T<h.length;T++){if(R=h[T],x=R.instance,G=R.currentTarget,R=R.listener,x!==_&&m.isPropagationStopped())break e;_=R,m.currentTarget=G;try{_(m)}catch(ie){Em(ie)}m.currentTarget=null,_=x}}}}function pt(o,s){var l=s[wb];l===void 0&&(l=s[wb]=new Set);var h=o+"__bubble";l.has(h)||(WI(s,o,2,!1),l.add(h))}function pC(o,s,l){var h=0;s&&(h|=4),WI(l,o,h,s)}var Dm="_reactListening"+Math.random().toString(36).slice(2);function gC(o){if(!o[Dm]){o[Dm]=!0,$0.forEach(function(l){l!=="selectionchange"&&(OF.has(l)||pC(l,!1,o),pC(l,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Dm]||(s[Dm]=!0,pC("selectionchange",!1,s))}}function WI(o,s,l,h){switch(EO(s)){case 2:var m=rB;break;case 8:m=iB;break;default:m=IC}l=m.bind(null,s,l,o),m=void 0,!Ub||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?o.addEventListener(s,l,{capture:!0,passive:m}):o.addEventListener(s,l,!0):m!==void 0?o.addEventListener(s,l,{passive:m}):o.addEventListener(s,l,!1)}function mC(o,s,l,h,m){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var R=h.stateNode.containerInfo;if(R===m)break;if(T===4)for(T=h.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;R!==null;){if(T=Cl(R),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){h=_=T;continue e}R=R.parentNode}}h=h.return}iR(function(){var G=_,ie=Db(l),le=[];e:{var Y=MR.get(o);if(Y!==void 0){var Z=Qg,Ve=o;switch(o){case"keypress":if(Vg(l)===0)break e;case"keydown":case"keyup":Z=TH;break;case"focusin":Ve="focus",Z=Bb;break;case"focusout":Ve="blur",Z=Bb;break;case"beforeblur":case"afterblur":Z=Bb;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=sR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=hH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=RH;break;case kR:case IR:case OR:Z=gH;break;case NR:Z=IH;break;case"scroll":case"scrollend":Z=uH;break;case"wheel":Z=NH;break;case"copy":case"cut":case"paste":Z=vH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=lR;break;case"toggle":case"beforetoggle":Z=PH}var $e=(s&4)!==0,Gt=!$e&&(o==="scroll"||o==="scrollend"),$=$e?Y!==null?Y+"Capture":null:Y;$e=[];for(var H=G,j;H!==null;){var ae=H;if(j=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||j===null||$===null||(ae=sh(H,$),ae!=null&&$e.push(qh(H,ae,j))),Gt)break;H=H.return}0<$e.length&&(Y=new Z(Y,Ve,null,l,ie),le.push({event:Y,listeners:$e}))}}if((s&7)===0){e:{if(Y=o==="mouseover"||o==="pointerover",Z=o==="mouseout"||o==="pointerout",Y&&l!==xb&&(Ve=l.relatedTarget||l.fromElement)&&(Cl(Ve)||Ve[El]))break e;if((Z||Y)&&(Y=ie.window===ie?ie:(Y=ie.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(Ve=l.relatedTarget||l.toElement,Z=G,Ve=Ve?Cl(Ve):null,Ve!==null&&(Gt=a(Ve),$e=Ve.tag,Ve!==Gt||$e!==5&&$e!==27&&$e!==6)&&(Ve=null)):(Z=null,Ve=G),Z!==Ve)){if($e=sR,ae="onMouseLeave",$="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&($e=lR,ae="onPointerLeave",$="onPointerEnter",H="pointer"),Gt=Z==null?Y:ah(Z),j=Ve==null?Y:ah(Ve),Y=new $e(ae,H+"leave",Z,l,ie),Y.target=Gt,Y.relatedTarget=j,ae=null,Cl(ie)===G&&($e=new $e($,H+"enter",Ve,l,ie),$e.target=j,$e.relatedTarget=Gt,ae=$e),Gt=ae,Z&&Ve)t:{for($e=Z,$=Ve,H=0,j=$e;j;j=nu(j))H++;for(j=0,ae=$;ae;ae=nu(ae))j++;for(;0<H-j;)$e=nu($e),H--;for(;0<j-H;)$=nu($),j--;for(;H--;){if($e===$||$!==null&&$e===$.alternate)break t;$e=nu($e),$=nu($)}$e=null}else $e=null;Z!==null&&XI(le,Y,Z,$e,!1),Ve!==null&&Gt!==null&&XI(le,Gt,Ve,$e,!0)}}e:{if(Y=G?ah(G):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var Me=vR;else if(gR(Y))if(yR)Me=qH;else{Me=BH;var lt=FH}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&Pb(G.elementType)&&(Me=vR):Me=KH;if(Me&&(Me=Me(o,G))){mR(le,Me,l,ie);break e}lt&&lt(o,Y,G),o==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&Mb(Y,"number",Y.value)}switch(lt=G?ah(G):window,o){case"focusin":(gR(lt)||lt.contentEditable==="true")&&(Ml=lt,Vb=G,gh=null);break;case"focusout":gh=Vb=Ml=null;break;case"mousedown":Yb=!0;break;case"contextmenu":case"mouseup":case"dragend":Yb=!1,wR(le,l,ie);break;case"selectionchange":if(jH)break;case"keydown":case"keyup":wR(le,l,ie)}var ze;if(qb)e:{switch(o){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Nl?fR(o,l)&&(je="onCompositionEnd"):o==="keydown"&&l.keyCode===229&&(je="onCompositionStart");je&&(uR&&l.locale!=="ko"&&(Nl||je!=="onCompositionStart"?je==="onCompositionEnd"&&Nl&&(ze=oR()):(Ra=ie,zb="value"in Ra?Ra.value:Ra.textContent,Nl=!0)),lt=Lm(G,je),0<lt.length&&(je=new cR(je,o,null,l,ie),le.push({event:je,listeners:lt}),ze?je.data=ze:(ze=pR(l),ze!==null&&(je.data=ze)))),(ze=DH?LH(o,l):UH(o,l))&&(je=Lm(G,"onBeforeInput"),0<je.length&&(lt=new cR("onBeforeInput","beforeinput",null,l,ie),le.push({event:lt,listeners:je}),lt.data=ze)),RF(le,o,G,l,ie)}ZI(le,s)})}function qh(o,s,l){return{instance:o,listener:s,currentTarget:l}}function Lm(o,s){for(var l=s+"Capture",h=[];o!==null;){var m=o,_=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||_===null||(m=sh(o,l),m!=null&&h.unshift(qh(o,m,_)),m=sh(o,s),m!=null&&h.push(qh(o,m,_))),o.tag===3)return h;o=o.return}return[]}function nu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function XI(o,s,l,h,m){for(var _=s._reactName,T=[];l!==null&&l!==h;){var R=l,x=R.alternate,G=R.stateNode;if(R=R.tag,x!==null&&x===h)break;R!==5&&R!==26&&R!==27||G===null||(x=G,m?(G=sh(l,_),G!=null&&T.unshift(qh(l,G,x))):m||(G=sh(l,_),G!=null&&T.push(qh(l,G,x)))),l=l.return}T.length!==0&&o.push({event:s,listeners:T})}var NF=/\r\n?/g,MF=/\u0000|\uFFFD/g;function JI(o){return(typeof o=="string"?o:""+o).replace(NF,`
`).replace(MF,"")}function eO(o,s){return s=JI(s),JI(o)===s}function Um(){}function jt(o,s,l,h,m,_){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||kl(o,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&kl(o,""+h);break;case"className":Kg(o,"class",h);break;case"tabIndex":Kg(o,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Kg(o,l,h);break;case"style":nR(o,h,_);break;case"data":if(s!=="object"){Kg(o,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){o.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){o.removeAttribute(l);break}h=jg(""+h),o.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){o.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&jt(o,s,"name",m.name,m,null),jt(o,s,"formEncType",m.formEncType,m,null),jt(o,s,"formMethod",m.formMethod,m,null),jt(o,s,"formTarget",m.formTarget,m,null)):(jt(o,s,"encType",m.encType,m,null),jt(o,s,"method",m.method,m,null),jt(o,s,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){o.removeAttribute(l);break}h=jg(""+h),o.setAttribute(l,h);break;case"onClick":h!=null&&(o.onclick=Um);break;case"onScroll":h!=null&&pt("scroll",o);break;case"onScrollEnd":h!=null&&pt("scrollend",o);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(m.children!=null)throw Error(r(60));o.innerHTML=l}}break;case"multiple":o.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":o.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){o.removeAttribute("xlink:href");break}l=jg(""+h),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(l,""+h):o.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(l,""):o.removeAttribute(l);break;case"capture":case"download":h===!0?o.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?o.setAttribute(l,h):o.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?o.setAttribute(l,h):o.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?o.removeAttribute(l):o.setAttribute(l,h);break;case"popover":pt("beforetoggle",o),pt("toggle",o),Bg(o,"popover",h);break;case"xlinkActuate":Uo(o,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Uo(o,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Uo(o,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Uo(o,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Uo(o,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Uo(o,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Uo(o,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Uo(o,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Uo(o,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Bg(o,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=cH.get(l)||l,Bg(o,l,h))}}function vC(o,s,l,h,m,_){switch(l){case"style":nR(o,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(m.children!=null)throw Error(r(60));o.innerHTML=l}}break;case"children":typeof h=="string"?kl(o,h):(typeof h=="number"||typeof h=="bigint")&&kl(o,""+h);break;case"onScroll":h!=null&&pt("scroll",o);break;case"onScrollEnd":h!=null&&pt("scrollend",o);break;case"onClick":h!=null&&(o.onclick=Um);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!j0.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),_=o[cr]||null,_=_!=null?_[l]:null,typeof _=="function"&&o.removeEventListener(s,_,m),typeof h=="function")){typeof _!="function"&&_!==null&&(l in o?o[l]=null:o.hasAttribute(l)&&o.removeAttribute(l)),o.addEventListener(s,h,m);break e}l in o?o[l]=h:h===!0?o.setAttribute(l,""):Bg(o,l,h)}}}function tr(o,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",o),pt("load",o);var h=!1,m=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var T=l[_];if(T!=null)switch(_){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:jt(o,s,_,T,l,null)}}m&&jt(o,s,"srcSet",l.srcSet,l,null),h&&jt(o,s,"src",l.src,l,null);return;case"input":pt("invalid",o);var R=_=T=m=null,x=null,G=null;for(h in l)if(l.hasOwnProperty(h)){var ie=l[h];if(ie!=null)switch(h){case"name":m=ie;break;case"type":T=ie;break;case"checked":x=ie;break;case"defaultChecked":G=ie;break;case"value":_=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:jt(o,s,h,ie,l,null)}}X0(o,_,R,x,G,T,m,!1),qg(o);return;case"select":pt("invalid",o),h=T=_=null;for(m in l)if(l.hasOwnProperty(m)&&(R=l[m],R!=null))switch(m){case"value":_=R;break;case"defaultValue":T=R;break;case"multiple":h=R;default:jt(o,s,m,R,l,null)}s=_,l=T,o.multiple=!!h,s!=null?Rl(o,!!h,s,!1):l!=null&&Rl(o,!!h,l,!0);return;case"textarea":pt("invalid",o),_=m=h=null;for(T in l)if(l.hasOwnProperty(T)&&(R=l[T],R!=null))switch(T){case"value":h=R;break;case"defaultValue":m=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:jt(o,s,T,R,l,null)}eR(o,h,m,_),qg(o);return;case"option":for(x in l)if(l.hasOwnProperty(x)&&(h=l[x],h!=null))switch(x){case"selected":o.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:jt(o,s,x,h,l,null)}return;case"dialog":pt("beforetoggle",o),pt("toggle",o),pt("cancel",o),pt("close",o);break;case"iframe":case"object":pt("load",o);break;case"video":case"audio":for(h=0;h<Kh.length;h++)pt(Kh[h],o);break;case"image":pt("error",o),pt("load",o);break;case"details":pt("toggle",o);break;case"embed":case"source":case"link":pt("error",o),pt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(h=l[G],h!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:jt(o,s,G,h,l,null)}return;default:if(Pb(s)){for(ie in l)l.hasOwnProperty(ie)&&(h=l[ie],h!==void 0&&vC(o,s,ie,h,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(h=l[R],h!=null&&jt(o,s,R,h,l,null))}function PF(o,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,_=null,T=null,R=null,x=null,G=null,ie=null;for(Z in l){var le=l[Z];if(l.hasOwnProperty(Z)&&le!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":x=le;default:h.hasOwnProperty(Z)||jt(o,s,Z,null,h,le)}}for(var Y in h){var Z=h[Y];if(le=l[Y],h.hasOwnProperty(Y)&&(Z!=null||le!=null))switch(Y){case"type":_=Z;break;case"name":m=Z;break;case"checked":G=Z;break;case"defaultChecked":ie=Z;break;case"value":T=Z;break;case"defaultValue":R=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Z!==le&&jt(o,s,Y,Z,h,le)}}Nb(o,T,R,x,G,ie,_,m);return;case"select":Z=T=R=Y=null;for(_ in l)if(x=l[_],l.hasOwnProperty(_)&&x!=null)switch(_){case"value":break;case"multiple":Z=x;default:h.hasOwnProperty(_)||jt(o,s,_,null,h,x)}for(m in h)if(_=h[m],x=l[m],h.hasOwnProperty(m)&&(_!=null||x!=null))switch(m){case"value":Y=_;break;case"defaultValue":R=_;break;case"multiple":T=_;default:_!==x&&jt(o,s,m,_,h,x)}s=R,l=T,h=Z,Y!=null?Rl(o,!!l,Y,!1):!!h!=!!l&&(s!=null?Rl(o,!!l,s,!0):Rl(o,!!l,l?[]:"",!1));return;case"textarea":Z=Y=null;for(R in l)if(m=l[R],l.hasOwnProperty(R)&&m!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:jt(o,s,R,null,h,m)}for(T in h)if(m=h[T],_=l[T],h.hasOwnProperty(T)&&(m!=null||_!=null))switch(T){case"value":Y=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==_&&jt(o,s,T,m,h,_)}J0(o,Y,Z);return;case"option":for(var Ve in l)if(Y=l[Ve],l.hasOwnProperty(Ve)&&Y!=null&&!h.hasOwnProperty(Ve))switch(Ve){case"selected":o.selected=!1;break;default:jt(o,s,Ve,null,h,Y)}for(x in h)if(Y=h[x],Z=l[x],h.hasOwnProperty(x)&&Y!==Z&&(Y!=null||Z!=null))switch(x){case"selected":o.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:jt(o,s,x,Y,h,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in l)Y=l[$e],l.hasOwnProperty($e)&&Y!=null&&!h.hasOwnProperty($e)&&jt(o,s,$e,null,h,Y);for(G in h)if(Y=h[G],Z=l[G],h.hasOwnProperty(G)&&Y!==Z&&(Y!=null||Z!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:jt(o,s,G,Y,h,Z)}return;default:if(Pb(s)){for(var Gt in l)Y=l[Gt],l.hasOwnProperty(Gt)&&Y!==void 0&&!h.hasOwnProperty(Gt)&&vC(o,s,Gt,void 0,h,Y);for(ie in h)Y=h[ie],Z=l[ie],!h.hasOwnProperty(ie)||Y===Z||Y===void 0&&Z===void 0||vC(o,s,ie,Y,h,Z);return}}for(var $ in l)Y=l[$],l.hasOwnProperty($)&&Y!=null&&!h.hasOwnProperty($)&&jt(o,s,$,null,h,Y);for(le in h)Y=h[le],Z=l[le],!h.hasOwnProperty(le)||Y===Z||Y==null&&Z==null||jt(o,s,le,Y,h,Z)}var yC=null,_C=null;function zm(o){return o.nodeType===9?o:o.ownerDocument}function tO(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nO(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function bC(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var EC=null;function xF(){var o=window.event;return o&&o.type==="popstate"?o===EC?!1:(EC=o,!0):(EC=null,!1)}var rO=typeof setTimeout=="function"?setTimeout:void 0,DF=typeof clearTimeout=="function"?clearTimeout:void 0,iO=typeof Promise=="function"?Promise:void 0,LF=typeof queueMicrotask=="function"?queueMicrotask:typeof iO<"u"?function(o){return iO.resolve(null).then(o).catch(UF)}:rO;function UF(o){setTimeout(function(){throw o})}function qa(o){return o==="head"}function oO(o,s){var l=s,h=0,m=0;do{var _=l.nextSibling;if(o.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<h&&8>h){l=h;var T=o.ownerDocument;if(l&1&&$h(T.documentElement),l&2&&$h(T.body),l&4)for(l=T.head,$h(l),T=l.firstChild;T;){var R=T.nextSibling,x=T.nodeName;T[oh]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=R}}if(m===0){o.removeChild(_),Xh(s);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:h=l.charCodeAt(0)-48;else h=0;l=_}while(l);Xh(s)}function CC(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":CC(l),Rb(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}o.removeChild(l)}}function zF(o,s,l,h){for(;o.nodeType===1;){var m=l;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(h){if(!o[oh])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==m.rel||o.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||o.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||o.getAttribute("title")!==(m.title==null?null:m.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(m.src==null?null:m.src)||o.getAttribute("type")!==(m.type==null?null:m.type)||o.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var _=m.name==null?null:""+m.name;if(m.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=qi(o.nextSibling),o===null)break}return null}function HF(o,s,l){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=qi(o.nextSibling),o===null))return null;return o}function SC(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function FF(o,s){var l=o.ownerDocument;if(o.data!=="$?"||l.readyState==="complete")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),o._reactRetry=h}}function qi(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return o}var TC=null;function aO(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var l=o.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return o;s--}else l==="/$"&&s++}o=o.previousSibling}return null}function sO(o,s,l){switch(s=zm(l),o){case"html":if(o=s.documentElement,!o)throw Error(r(452));return o;case"head":if(o=s.head,!o)throw Error(r(453));return o;case"body":if(o=s.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function $h(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Rb(o)}var bi=new Map,cO=new Set;function Hm(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Wo=L.d;L.d={f:BF,r:KF,D:qF,C:$F,L:jF,m:GF,X:YF,S:VF,M:QF};function BF(){var o=Wo.f(),s=Om();return o||s}function KF(o){var s=Sl(o);s!==null&&s.tag===5&&s.type==="form"?kk(s):Wo.r(o)}var ru=typeof document>"u"?null:document;function lO(o,s,l){var h=ru;if(h&&typeof s=="string"&&s){var m=fi(s);m='link[rel="'+o+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),cO.has(m)||(cO.add(m),o={rel:o,crossOrigin:l,href:s},h.querySelector(m)===null&&(s=h.createElement("link"),tr(s,"link",o),Vn(s),h.head.appendChild(s)))}}function qF(o){Wo.D(o),lO("dns-prefetch",o,null)}function $F(o,s){Wo.C(o,s),lO("preconnect",o,s)}function jF(o,s,l){Wo.L(o,s,l);var h=ru;if(h&&o&&s){var m='link[rel="preload"][as="'+fi(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+fi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+fi(l.imageSizes)+'"]')):m+='[href="'+fi(o)+'"]';var _=m;switch(s){case"style":_=iu(o);break;case"script":_=ou(o)}bi.has(_)||(o=p({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:o,as:s},l),bi.set(_,o),h.querySelector(m)!==null||s==="style"&&h.querySelector(jh(_))||s==="script"&&h.querySelector(Gh(_))||(s=h.createElement("link"),tr(s,"link",o),Vn(s),h.head.appendChild(s)))}}function GF(o,s){Wo.m(o,s);var l=ru;if(l&&o){var h=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+fi(h)+'"][href="'+fi(o)+'"]',_=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ou(o)}if(!bi.has(_)&&(o=p({rel:"modulepreload",href:o},s),bi.set(_,o),l.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Gh(_)))return}h=l.createElement("link"),tr(h,"link",o),Vn(h),l.head.appendChild(h)}}}function VF(o,s,l){Wo.S(o,s,l);var h=ru;if(h&&o){var m=Tl(h).hoistableStyles,_=iu(o);s=s||"default";var T=m.get(_);if(!T){var R={loading:0,preload:null};if(T=h.querySelector(jh(_)))R.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":s},l),(l=bi.get(_))&&AC(o,l);var x=T=h.createElement("link");Vn(x),tr(x,"link",o),x._p=new Promise(function(G,ie){x.onload=G,x.onerror=ie}),x.addEventListener("load",function(){R.loading|=1}),x.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Fm(T,s,h)}T={type:"stylesheet",instance:T,count:1,state:R},m.set(_,T)}}}function YF(o,s){Wo.X(o,s);var l=ru;if(l&&o){var h=Tl(l).hoistableScripts,m=ou(o),_=h.get(m);_||(_=l.querySelector(Gh(m)),_||(o=p({src:o,async:!0},s),(s=bi.get(m))&&wC(o,s),_=l.createElement("script"),Vn(_),tr(_,"link",o),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(m,_))}}function QF(o,s){Wo.M(o,s);var l=ru;if(l&&o){var h=Tl(l).hoistableScripts,m=ou(o),_=h.get(m);_||(_=l.querySelector(Gh(m)),_||(o=p({src:o,async:!0,type:"module"},s),(s=bi.get(m))&&wC(o,s),_=l.createElement("script"),Vn(_),tr(_,"link",o),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(m,_))}}function uO(o,s,l,h){var m=(m=Re.current)?Hm(m):null;if(!m)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=iu(l.href),l=Tl(m).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){o=iu(l.href);var _=Tl(m).hoistableStyles,T=_.get(o);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,T),(_=m.querySelector(jh(o)))&&!_._p&&(T.instance=_,T.state.loading=5),bi.has(o)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},bi.set(o,l),_||ZF(m,o,l,T.state))),s&&h===null)throw Error(r(528,""));return T}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ou(l),l=Tl(m).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function iu(o){return'href="'+fi(o)+'"'}function jh(o){return'link[rel="stylesheet"]['+o+"]"}function dO(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function ZF(o,s,l,h){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=o.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),tr(s,"link",l),Vn(s),o.head.appendChild(s))}function ou(o){return'[src="'+fi(o)+'"]'}function Gh(o){return"script[async]"+o}function hO(o,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=o.querySelector('style[data-href~="'+fi(l.href)+'"]');if(h)return s.instance=h,Vn(h),h;var m=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(o.ownerDocument||o).createElement("style"),Vn(h),tr(h,"style",m),Fm(h,l.precedence,o),s.instance=h;case"stylesheet":m=iu(l.href);var _=o.querySelector(jh(m));if(_)return s.state.loading|=4,s.instance=_,Vn(_),_;h=dO(l),(m=bi.get(m))&&AC(h,m),_=(o.ownerDocument||o).createElement("link"),Vn(_);var T=_;return T._p=new Promise(function(R,x){T.onload=R,T.onerror=x}),tr(_,"link",h),s.state.loading|=4,Fm(_,l.precedence,o),s.instance=_;case"script":return _=ou(l.src),(m=o.querySelector(Gh(_)))?(s.instance=m,Vn(m),m):(h=l,(m=bi.get(_))&&(h=p({},l),wC(h,m)),o=o.ownerDocument||o,m=o.createElement("script"),Vn(m),tr(m,"link",h),o.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Fm(h,l.precedence,o));return s.instance}function Fm(o,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,_=m,T=0;T<h.length;T++){var R=h[T];if(R.dataset.precedence===s)_=R;else if(_!==m)break}_?_.parentNode.insertBefore(o,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(o,s.firstChild))}function AC(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function wC(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var Bm=null;function fO(o,s,l){if(Bm===null){var h=new Map,m=Bm=new Map;m.set(l,h)}else m=Bm,h=m.get(l),h||(h=new Map,m.set(l,h));if(h.has(o))return h;for(h.set(o,null),l=l.getElementsByTagName(o),m=0;m<l.length;m++){var _=l[m];if(!(_[oh]||_[On]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var T=_.getAttribute(s)||"";T=o+T;var R=h.get(T);R?R.push(_):h.set(T,[_])}}return h}function pO(o,s,l){o=o.ownerDocument||o,o.head.insertBefore(l,s==="title"?o.querySelector("head > title"):null)}function WF(o,s,l){if(l===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function gO(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Vh=null;function XF(){}function JF(o,s,l){if(Vh===null)throw Error(r(475));var h=Vh;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=iu(l.href),_=o.querySelector(jh(m));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(h.count++,h=Km.bind(h),o.then(h,h)),s.state.loading|=4,s.instance=_,Vn(_);return}_=o.ownerDocument||o,l=dO(l),(m=bi.get(m))&&AC(l,m),_=_.createElement("link"),Vn(_);var T=_;T._p=new Promise(function(R,x){T.onload=R,T.onerror=x}),tr(_,"link",l),s.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,o),(o=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=Km.bind(h),o.addEventListener("load",s),o.addEventListener("error",s))}}function eB(){if(Vh===null)throw Error(r(475));var o=Vh;return o.stylesheets&&o.count===0&&RC(o,o.stylesheets),0<o.count?function(s){var l=setTimeout(function(){if(o.stylesheets&&RC(o,o.stylesheets),o.unsuspend){var h=o.unsuspend;o.unsuspend=null,h()}},6e4);return o.unsuspend=s,function(){o.unsuspend=null,clearTimeout(l)}}:null}function Km(){if(this.count--,this.count===0){if(this.stylesheets)RC(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var qm=null;function RC(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,qm=new Map,s.forEach(tB,o),qm=null,Km.call(o))}function tB(o,s){if(!(s.state.loading&4)){var l=qm.get(o);if(l)var h=l.get(null);else{l=new Map,qm.set(o,l);for(var m=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<m.length;_++){var T=m[_];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),h=T)}h&&l.set(null,h)}m=s.instance,T=m.getAttribute("data-precedence"),_=l.get(T)||h,_===h&&l.set(null,m),l.set(T,m),this.count++,h=Km.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),_?_.parentNode.insertBefore(m,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(m,o.firstChild)),s.state.loading|=4}}var Yh={$$typeof:A,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function nB(o,s,l,h,m,_,T,R){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=_,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function mO(o,s,l,h,m,_,T,R,x,G,ie,le){return o=new nB(o,s,l,T,R,x,G,le),s=1,_===!0&&(s|=24),_=Gr(3,null,null,s),o.current=_,_.stateNode=o,s=cE(),s.refCount++,o.pooledCache=s,s.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:s},hE(_),o}function vO(o){return o?(o=Ll,o):Ll}function yO(o,s,l,h,m,_){m=vO(m),h.context===null?h.context=m:h.pendingContext=m,h=Oa(s),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=Na(o,h,s),l!==null&&(Wr(l,o,s),Th(l,o,s))}function _O(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var l=o.retryLane;o.retryLane=l!==0&&l<s?l:s}}function kC(o,s){_O(o,s),(o=o.alternate)&&_O(o,s)}function bO(o){if(o.tag===13){var s=Dl(o,67108864);s!==null&&Wr(s,o,67108864),kC(o,67108864)}}var $m=!0;function rB(o,s,l,h){var m=z.T;z.T=null;var _=L.p;try{L.p=2,IC(o,s,l,h)}finally{L.p=_,z.T=m}}function iB(o,s,l,h){var m=z.T;z.T=null;var _=L.p;try{L.p=8,IC(o,s,l,h)}finally{L.p=_,z.T=m}}function IC(o,s,l,h){if($m){var m=OC(h);if(m===null)mC(o,s,h,jm,l),CO(o,h);else if(aB(m,o,s,l,h))h.stopPropagation();else if(CO(o,h),s&4&&-1<oB.indexOf(o)){for(;m!==null;){var _=Sl(m);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var T=He(_.pendingLanes);if(T!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;T;){var x=1<<31-Kt(T);R.entanglements[1]|=x,T&=~x}oo(_),(Lt&6)===0&&(km=Ae()+500,Bh(0))}}break;case 13:R=Dl(_,2),R!==null&&Wr(R,_,2),Om(),kC(_,2)}if(_=OC(h),_===null&&mC(o,s,h,jm,l),_===m)break;m=_}m!==null&&h.stopPropagation()}else mC(o,s,h,null,l)}}function OC(o){return o=Db(o),NC(o)}var jm=null;function NC(o){if(jm=null,o=Cl(o),o!==null){var s=a(o);if(s===null)o=null;else{var l=s.tag;if(l===13){if(o=c(s),o!==null)return o;o=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return jm=o,null}function EO(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case De:return 2;case Xe:return 8;case Je:case kt:return 32;case Be:return 268435456;default:return 32}default:return 32}}var MC=!1,$a=null,ja=null,Ga=null,Qh=new Map,Zh=new Map,Va=[],oB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CO(o,s){switch(o){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":Qh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zh.delete(s.pointerId)}}function Wh(o,s,l,h,m,_){return o===null||o.nativeEvent!==_?(o={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[m]},s!==null&&(s=Sl(s),s!==null&&bO(s)),o):(o.eventSystemFlags|=h,s=o.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),o)}function aB(o,s,l,h,m){switch(s){case"focusin":return $a=Wh($a,o,s,l,h,m),!0;case"dragenter":return ja=Wh(ja,o,s,l,h,m),!0;case"mouseover":return Ga=Wh(Ga,o,s,l,h,m),!0;case"pointerover":var _=m.pointerId;return Qh.set(_,Wh(Qh.get(_)||null,o,s,l,h,m)),!0;case"gotpointercapture":return _=m.pointerId,Zh.set(_,Wh(Zh.get(_)||null,o,s,l,h,m)),!0}return!1}function SO(o){var s=Cl(o.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){o.blockedOn=s,Ks(o.priority,function(){if(l.tag===13){var h=Zr();h=qt(h);var m=Dl(l,h);m!==null&&Wr(m,l,h),kC(l,h)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){o.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Gm(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var l=OC(o.nativeEvent);if(l===null){l=o.nativeEvent;var h=new l.constructor(l.type,l);xb=h,l.target.dispatchEvent(h),xb=null}else return s=Sl(l),s!==null&&bO(s),o.blockedOn=l,!1;s.shift()}return!0}function TO(o,s,l){Gm(o)&&l.delete(s)}function sB(){MC=!1,$a!==null&&Gm($a)&&($a=null),ja!==null&&Gm(ja)&&(ja=null),Ga!==null&&Gm(Ga)&&(Ga=null),Qh.forEach(TO),Zh.forEach(TO)}function Vm(o,s){o.blockedOn===s&&(o.blockedOn=null,MC||(MC=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sB)))}var Ym=null;function AO(o){Ym!==o&&(Ym=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ym===o&&(Ym=null);for(var s=0;s<o.length;s+=3){var l=o[s],h=o[s+1],m=o[s+2];if(typeof h!="function"){if(NC(h||l)===null)continue;break}var _=Sl(l);_!==null&&(o.splice(s,3),s-=3,NE(_,{pending:!0,data:m,method:l.method,action:h},h,m))}}))}function Xh(o){function s(x){return Vm(x,o)}$a!==null&&Vm($a,o),ja!==null&&Vm(ja,o),Ga!==null&&Vm(Ga,o),Qh.forEach(s),Zh.forEach(s);for(var l=0;l<Va.length;l++){var h=Va[l];h.blockedOn===o&&(h.blockedOn=null)}for(;0<Va.length&&(l=Va[0],l.blockedOn===null);)SO(l),l.blockedOn===null&&Va.shift();if(l=(o.ownerDocument||o).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var m=l[h],_=l[h+1],T=m[cr]||null;if(typeof _=="function")T||AO(l);else if(T){var R=null;if(_&&_.hasAttribute("formAction")){if(m=_,T=_[cr]||null)R=T.formAction;else if(NC(m)!==null)continue}else R=T.action;typeof R=="function"?l[h+1]=R:(l.splice(h,3),h-=3),AO(l)}}}function PC(o){this._internalRoot=o}Qm.prototype.render=PC.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=Zr();yO(l,h,o,s,null,null)},Qm.prototype.unmount=PC.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;yO(o.current,2,null,o,null,null),Om(),s[El]=null}};function Qm(o){this._internalRoot=o}Qm.prototype.unstable_scheduleHydration=function(o){if(o){var s=Or();o={blockedOn:null,target:o,priority:s};for(var l=0;l<Va.length&&s!==0&&s<Va[l].priority;l++);Va.splice(l,0,o),l===0&&SO(o)}};var wO=e.version;if(wO!=="19.1.1")throw Error(r(527,wO,"19.1.1"));L.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(s),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var cB={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zm.isDisabled&&Zm.supportsFiber)try{Ln=Zm.inject(cB),dn=Zm}catch{}}return ef.createRoot=function(o,s){if(!i(o))throw Error(r(299));var l=!1,h="",m=Kk,_=qk,T=$k,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=mO(o,1,!1,null,null,l,h,m,_,T,R,null),o[El]=s.current,gC(o),new PC(s)},ef.hydrateRoot=function(o,s,l){if(!i(o))throw Error(r(299));var h=!1,m="",_=Kk,T=qk,R=$k,x=null,G=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(x=l.unstable_transitionCallbacks),l.formState!==void 0&&(G=l.formState)),s=mO(o,1,!0,s,l??null,h,m,_,T,R,x,G),s.context=vO(null),l=s.current,h=Zr(),h=qt(h),m=Oa(h),m.callback=null,Na(l,m,h),l=h,s.current.lanes=l,Te(s,l),oo(s),o[El]=s.current,gC(o),new Qm(s)},ef.version="19.1.1",ef}var iN;function G3(){if(iN)return UC.exports;iN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),UC.exports=j3(),UC.exports}var V3=G3();const hee=lw(V3);var Zd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fc=typeof window>"u"||"Deno"in globalThis;function Sr(){}function Y3(n,e){return typeof n=="function"?n(e):n}function IT(n){return typeof n=="number"&&n>=0&&n!==1/0}function wD(n,e){return Math.max(n+(e||0)-Date.now(),0)}function zu(n,e){return typeof n=="function"?n(e):n}function Vi(n,e){return typeof n=="function"?n(e):n}function oN(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:a,queryKey:c,stale:u}=n;if(c){if(r){if(e.queryHash!==vw(c,e.options))return!1}else if(!Bf(e.queryKey,c))return!1}if(t!=="all"){const d=e.isActive();if(t==="active"&&!d||t==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||a&&!a(e))}function aN(n,e){const{exact:t,status:r,predicate:i,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(Bc(e.options.mutationKey)!==Bc(a))return!1}else if(!Bf(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function vw(n,e){return((e==null?void 0:e.queryKeyHashFn)||Bc)(n)}function Bc(n){return JSON.stringify(n,(e,t)=>OT(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Bf(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Bf(n[t],e[t])):!1}function RD(n,e){if(n===e)return n;const t=sN(n)&&sN(e);if(t||OT(n)&&OT(e)){const r=t?n:Object.keys(n),i=r.length,a=t?e:Object.keys(e),c=a.length,u=t?[]:{};let d=0;for(let f=0;f<c;f++){const p=t?f:a[f];(!t&&r.includes(p)||t)&&n[p]===void 0&&e[p]===void 0?(u[p]=void 0,d++):(u[p]=RD(n[p],e[p]),u[p]===n[p]&&n[p]!==void 0&&d++)}return i===c&&d===i?n:u}return e}function dy(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function sN(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function OT(n){if(!cN(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!cN(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function cN(n){return Object.prototype.toString.call(n)==="[object Object]"}function Q3(n){return new Promise(e=>{setTimeout(e,n)})}function NT(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?RD(n,e):e}function Z3(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function W3(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var yw=Symbol();function kD(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===yw?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function ID(n,e){return typeof n=="function"?n(...e):!!n}var _c,ss,Zu,Fx,X3=(Fx=class extends Zd{constructor(){super();Ke(this,_c);Ke(this,ss);Ke(this,Zu);Ie(this,Zu,e=>{if(!Fc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){U(this,ss)||this.setEventListener(U(this,Zu))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,ss))==null||e.call(this),Ie(this,ss,void 0))}setEventListener(e){var t;Ie(this,Zu,e),(t=U(this,ss))==null||t.call(this),Ie(this,ss,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,_c)!==e&&(Ie(this,_c,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof U(this,_c)=="boolean"?U(this,_c):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_c=new WeakMap,ss=new WeakMap,Zu=new WeakMap,Fx),_w=new X3,Wu,cs,Xu,Bx,J3=(Bx=class extends Zd{constructor(){super();Ke(this,Wu,!0);Ke(this,cs);Ke(this,Xu);Ie(this,Xu,e=>{if(!Fc&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,cs)||this.setEventListener(U(this,Xu))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,cs))==null||e.call(this),Ie(this,cs,void 0))}setEventListener(e){var t;Ie(this,Xu,e),(t=U(this,cs))==null||t.call(this),Ie(this,cs,e(this.setOnline.bind(this)))}setOnline(e){U(this,Wu)!==e&&(Ie(this,Wu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Wu)}},Wu=new WeakMap,cs=new WeakMap,Xu=new WeakMap,Bx),hy=new J3;function MT(){let n,e;const t=new Promise((i,a)=>{n=i,e=a});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function e$(n){return Math.min(1e3*2**n,3e4)}function OD(n){return(n??"online")==="online"?hy.isOnline():!0}var ND=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function BC(n){return n instanceof ND}function MD(n){let e=!1,t=0,r=!1,i;const a=MT(),c=C=>{var E;r||(v(new ND(C)),(E=n.abort)==null||E.call(n))},u=()=>{e=!0},d=()=>{e=!1},f=()=>_w.isFocused()&&(n.networkMode==="always"||hy.isOnline())&&n.canRun(),p=()=>OD(n.networkMode)&&n.canRun(),g=C=>{var E;r||(r=!0,(E=n.onSuccess)==null||E.call(n,C),i==null||i(),a.resolve(C))},v=C=>{var E;r||(r=!0,(E=n.onError)==null||E.call(n,C),i==null||i(),a.reject(C))},y=()=>new Promise(C=>{var E;i=S=>{(r||f())&&C(S)},(E=n.onPause)==null||E.call(n)}).then(()=>{var C;i=void 0,r||(C=n.onContinue)==null||C.call(n)}),b=()=>{if(r)return;let C;const E=t===0?n.initialPromise:void 0;try{C=E??n.fn()}catch(S){C=Promise.reject(S)}Promise.resolve(C).then(g).catch(S=>{var D;if(r)return;const w=n.retry??(Fc?0:3),A=n.retryDelay??e$,k=typeof A=="function"?A(t,S):A,O=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,S);if(e||!O){v(S);return}t++,(D=n.onFail)==null||D.call(n,t,S),Q3(k).then(()=>f()?void 0:y()).then(()=>{e?v(S):b()})})};return{promise:a,cancel:c,continue:()=>(i==null||i(),a),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?b():y().then(b),a)}}var t$=n=>setTimeout(n,0);function n$(){let n=[],e=0,t=u=>{u()},r=u=>{u()},i=t$;const a=u=>{e?n.push(u):i(()=>{t(u)})},c=()=>{const u=n;n=[],u.length&&i(()=>{r(()=>{u.forEach(d=>{t(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||c()}return d},batchCalls:u=>(...d)=>{a(()=>{u(...d)})},schedule:a,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var $n=n$(),bc,Kx,PD=(Kx=class{constructor(){Ke(this,bc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),IT(this.gcTime)&&Ie(this,bc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Fc?1/0:5*60*1e3))}clearGcTimeout(){U(this,bc)&&(clearTimeout(U(this,bc)),Ie(this,bc,void 0))}},bc=new WeakMap,Kx),Ju,ed,Ti,Ec,dr,Cg,Cc,$i,ea,qx,r$=(qx=class extends PD{constructor(e){super();Ke(this,$i);Ke(this,Ju);Ke(this,ed);Ke(this,Ti);Ke(this,Ec);Ke(this,dr);Ke(this,Cg);Ke(this,Cc);Ie(this,Cc,!1),Ie(this,Cg,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ie(this,Ec,e.client),Ie(this,Ti,U(this,Ec).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ie(this,Ju,i$(this.options)),this.state=e.state??U(this,Ju),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=U(this,dr))==null?void 0:e.promise}setOptions(e){this.options={...U(this,Cg),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Ti).remove(this)}setData(e,t){const r=NT(this.state.data,e,this.options);return st(this,$i,ea).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){st(this,$i,ea).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=U(this,dr))==null?void 0:r.promise;return(i=U(this,dr))==null||i.cancel(e),t?t.then(Sr).catch(Sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Ju))}isActive(){return this.observers.some(e=>Vi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!wD(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=U(this,dr))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=U(this,dr))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),U(this,Ti).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(U(this,dr)&&(U(this,Cc)?U(this,dr).cancel({revert:!0}):U(this,dr).cancelRetry()),this.scheduleGc()),U(this,Ti).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,$i,ea).call(this,{type:"invalidate"})}fetch(e,t){var d,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(U(this,dr))return U(this,dr).continueRetry(),U(this,dr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(v=>v.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ie(this,Cc,!0),r.signal)})},a=()=>{const g=kD(this.options,t),v={client:U(this,Ec),queryKey:this.queryKey,meta:this.meta};return i(v),Ie(this,Cc,!1),this.options.persister?this.options.persister(g,v,this):g(v)},c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:U(this,Ec),state:this.state,fetchFn:a};i(c),(d=this.options.behavior)==null||d.onFetch(c,this),Ie(this,ed,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&st(this,$i,ea).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const u=g=>{var v,y,b,C;BC(g)&&g.silent||st(this,$i,ea).call(this,{type:"error",error:g}),BC(g)||((y=(v=U(this,Ti).config).onError)==null||y.call(v,g,this),(C=(b=U(this,Ti).config).onSettled)==null||C.call(b,this.state.data,g,this)),this.scheduleGc()};return Ie(this,dr,MD({initialPromise:t==null?void 0:t.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var v,y,b,C;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(E){u(E);return}(y=(v=U(this,Ti).config).onSuccess)==null||y.call(v,g,this),(C=(b=U(this,Ti).config).onSettled)==null||C.call(b,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,v)=>{st(this,$i,ea).call(this,{type:"failed",failureCount:g,error:v})},onPause:()=>{st(this,$i,ea).call(this,{type:"pause"})},onContinue:()=>{st(this,$i,ea).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),U(this,dr).start()}},Ju=new WeakMap,ed=new WeakMap,Ti=new WeakMap,Ec=new WeakMap,dr=new WeakMap,Cg=new WeakMap,Cc=new WeakMap,$i=new WeakSet,ea=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...xD(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return BC(i)&&i.revert&&U(this,ed)?{...U(this,ed),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),$n.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),U(this,Ti).notify({query:this,type:"updated",action:e})})},qx);function xD(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OD(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function i$(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ho,$x,o$=($x=class extends Zd{constructor(e={}){super();Ke(this,ho);this.config=e,Ie(this,ho,new Map)}build(e,t,r){const i=t.queryKey,a=t.queryHash??vw(i,t);let c=this.get(a);return c||(c=new r$({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(c)),c}add(e){U(this,ho).has(e.queryHash)||(U(this,ho).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=U(this,ho).get(e.queryHash);t&&(e.destroy(),t===e&&U(this,ho).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,ho).get(e)}getAll(){return[...U(this,ho).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>oN(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>oN(e,r)):t}notify(e){$n.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){$n.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$n.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ho=new WeakMap,$x),fo,Er,Sc,po,ts,jx,a$=(jx=class extends PD{constructor(e){super();Ke(this,po);Ke(this,fo);Ke(this,Er);Ke(this,Sc);this.mutationId=e.mutationId,Ie(this,Er,e.mutationCache),Ie(this,fo,[]),this.state=e.state||DD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){U(this,fo).includes(e)||(U(this,fo).push(e),this.clearGcTimeout(),U(this,Er).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ie(this,fo,U(this,fo).filter(t=>t!==e)),this.scheduleGc(),U(this,Er).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){U(this,fo).length||(this.state.status==="pending"?this.scheduleGc():U(this,Er).remove(this))}continue(){var e;return((e=U(this,Sc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,c,u,d,f,p,g,v,y,b,C,E,S,w,A,k,O,D,M,N;const t=()=>{st(this,po,ts).call(this,{type:"continue"})};Ie(this,Sc,MD({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(K,F)=>{st(this,po,ts).call(this,{type:"failed",failureCount:K,error:F})},onPause:()=>{st(this,po,ts).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Er).canRun(this)}));const r=this.state.status==="pending",i=!U(this,Sc).canStart();try{if(r)t();else{st(this,po,ts).call(this,{type:"pending",variables:e,isPaused:i}),await((c=(a=U(this,Er).config).onMutate)==null?void 0:c.call(a,e,this));const F=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,e));F!==this.state.context&&st(this,po,ts).call(this,{type:"pending",context:F,variables:e,isPaused:i})}const K=await U(this,Sc).start();return await((p=(f=U(this,Er).config).onSuccess)==null?void 0:p.call(f,K,e,this.state.context,this)),await((v=(g=this.options).onSuccess)==null?void 0:v.call(g,K,e,this.state.context)),await((b=(y=U(this,Er).config).onSettled)==null?void 0:b.call(y,K,null,this.state.variables,this.state.context,this)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,K,null,e,this.state.context)),st(this,po,ts).call(this,{type:"success",data:K}),K}catch(K){try{throw await((w=(S=U(this,Er).config).onError)==null?void 0:w.call(S,K,e,this.state.context,this)),await((k=(A=this.options).onError)==null?void 0:k.call(A,K,e,this.state.context)),await((D=(O=U(this,Er).config).onSettled)==null?void 0:D.call(O,void 0,K,this.state.variables,this.state.context,this)),await((N=(M=this.options).onSettled)==null?void 0:N.call(M,void 0,K,e,this.state.context)),K}finally{st(this,po,ts).call(this,{type:"error",error:K})}}finally{U(this,Er).runNext(this)}}},fo=new WeakMap,Er=new WeakMap,Sc=new WeakMap,po=new WeakSet,ts=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),$n.batch(()=>{U(this,fo).forEach(r=>{r.onMutationUpdate(e)}),U(this,Er).notify({mutation:this,type:"updated",action:e})})},jx);function DD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ia,ji,Sg,Gx,s$=(Gx=class extends Zd{constructor(e={}){super();Ke(this,ia);Ke(this,ji);Ke(this,Sg);this.config=e,Ie(this,ia,new Set),Ie(this,ji,new Map),Ie(this,Sg,0)}build(e,t,r){const i=new a$({mutationCache:this,mutationId:++Wm(this,Sg)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){U(this,ia).add(e);const t=tv(e);if(typeof t=="string"){const r=U(this,ji).get(t);r?r.push(e):U(this,ji).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,ia).delete(e)){const t=tv(e);if(typeof t=="string"){const r=U(this,ji).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&U(this,ji).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=tv(e);if(typeof t=="string"){const r=U(this,ji).get(t),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=tv(e);if(typeof t=="string"){const i=(r=U(this,ji).get(t))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$n.batch(()=>{U(this,ia).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,ia).clear(),U(this,ji).clear()})}getAll(){return Array.from(U(this,ia))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>aN(t,r))}findAll(e={}){return this.getAll().filter(t=>aN(e,t))}notify(e){$n.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return $n.batch(()=>Promise.all(e.map(t=>t.continue().catch(Sr))))}},ia=new WeakMap,ji=new WeakMap,Sg=new WeakMap,Gx);function tv(n){var e;return(e=n.options.scope)==null?void 0:e.id}function fy(n){return{onFetch:(e,t)=>{var p,g,v,y,b;const r=e.options,i=(v=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:v.direction,a=((y=e.state.data)==null?void 0:y.pages)||[],c=((b=e.state.data)==null?void 0:b.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let C=!1;const E=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?C=!0:e.signal.addEventListener("abort",()=>{C=!0}),e.signal)})},S=kD(e.options,e.fetchOptions),w=async(A,k,O)=>{if(C)return Promise.reject();if(k==null&&A.pages.length)return Promise.resolve(A);const D={client:e.client,queryKey:e.queryKey,pageParam:k,direction:O?"backward":"forward",meta:e.options.meta};E(D);const M=await S(D),{maxPages:N}=e.options,K=O?W3:Z3;return{pages:K(A.pages,M,N),pageParams:K(A.pageParams,k,N)}};if(i&&a.length){const A=i==="backward",k=A?LD:PT,O={pages:a,pageParams:c},D=k(r,O);u=await w(O,D,A)}else{const A=n??a.length;do{const k=d===0?c[0]??r.initialPageParam:PT(r,u);if(d>0&&k==null)break;u=await w(u,k),d++}while(d<A)}return u};e.options.persister?e.fetchFn=()=>{var C,E;return(E=(C=e.options).persister)==null?void 0:E.call(C,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=f}}}function PT(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function LD(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}function c$(n,e){return e?PT(n,e)!=null:!1}function l$(n,e){return!e||!n.getPreviousPageParam?!1:LD(n,e)!=null}var _n,ls,us,td,nd,ds,rd,id,Vx,pee=(Vx=class{constructor(n={}){Ke(this,_n);Ke(this,ls);Ke(this,us);Ke(this,td);Ke(this,nd);Ke(this,ds);Ke(this,rd);Ke(this,id);Ie(this,_n,n.queryCache||new o$),Ie(this,ls,n.mutationCache||new s$),Ie(this,us,n.defaultOptions||{}),Ie(this,td,new Map),Ie(this,nd,new Map),Ie(this,ds,0)}mount(){Wm(this,ds)._++,U(this,ds)===1&&(Ie(this,rd,_w.subscribe(async n=>{n&&(await this.resumePausedMutations(),U(this,_n).onFocus())})),Ie(this,id,hy.subscribe(async n=>{n&&(await this.resumePausedMutations(),U(this,_n).onOnline())})))}unmount(){var n,e;Wm(this,ds)._--,U(this,ds)===0&&((n=U(this,rd))==null||n.call(this),Ie(this,rd,void 0),(e=U(this,id))==null||e.call(this),Ie(this,id,void 0))}isFetching(n){return U(this,_n).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return U(this,ls).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=U(this,_n).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=U(this,_n).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(zu(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return U(this,_n).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=U(this,_n).get(r.queryHash),a=i==null?void 0:i.state.data,c=Y3(e,a);if(c!==void 0)return U(this,_n).build(this,r).setData(c,{...t,manual:!0})}setQueriesData(n,e,t){return $n.batch(()=>U(this,_n).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=U(this,_n).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=U(this,_n);$n.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=U(this,_n);return $n.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=$n.batch(()=>U(this,_n).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(Sr).catch(Sr)}invalidateQueries(n,e={}){return $n.batch(()=>(U(this,_n).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=$n.batch(()=>U(this,_n).findAll(n).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,t);return t.throwOnError||(a=a.catch(Sr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Sr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=U(this,_n).build(this,e);return t.isStaleByTime(zu(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Sr).catch(Sr)}fetchInfiniteQuery(n){return n.behavior=fy(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Sr).catch(Sr)}ensureInfiniteQueryData(n){return n.behavior=fy(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return hy.isOnline()?U(this,ls).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,_n)}getMutationCache(){return U(this,ls)}getDefaultOptions(){return U(this,us)}setDefaultOptions(n){Ie(this,us,n)}setQueryDefaults(n,e){U(this,td).set(Bc(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...U(this,td).values()],t={};return e.forEach(r=>{Bf(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){U(this,nd).set(Bc(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...U(this,nd).values()],t={};return e.forEach(r=>{Bf(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...U(this,us).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=vw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===yw&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...U(this,us).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){U(this,_n).clear(),U(this,ls).clear()}},_n=new WeakMap,ls=new WeakMap,us=new WeakMap,td=new WeakMap,nd=new WeakMap,ds=new WeakMap,rd=new WeakMap,id=new WeakMap,Vx),Lr,_t,Tg,Cr,Tc,od,hs,fs,Ag,ad,sd,Ac,wc,ps,cd,Dt,mf,xT,DT,LT,UT,zT,HT,FT,UD,Yx,bw=(Yx=class extends Zd{constructor(e,t){super();Ke(this,Dt);Ke(this,Lr);Ke(this,_t);Ke(this,Tg);Ke(this,Cr);Ke(this,Tc);Ke(this,od);Ke(this,hs);Ke(this,fs);Ke(this,Ag);Ke(this,ad);Ke(this,sd);Ke(this,Ac);Ke(this,wc);Ke(this,ps);Ke(this,cd,new Set);this.options=t,Ie(this,Lr,e),Ie(this,fs,null),Ie(this,hs,MT()),this.options.experimental_prefetchInRender||U(this,hs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,_t).addObserver(this),lN(U(this,_t),this.options)?st(this,Dt,mf).call(this):this.updateResult(),st(this,Dt,UT).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return BT(U(this,_t),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return BT(U(this,_t),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,st(this,Dt,zT).call(this),st(this,Dt,HT).call(this),U(this,_t).removeObserver(this)}setOptions(e){const t=this.options,r=U(this,_t);if(this.options=U(this,Lr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vi(this.options.enabled,U(this,_t))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");st(this,Dt,FT).call(this),U(this,_t).setOptions(this.options),t._defaulted&&!dy(this.options,t)&&U(this,Lr).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,_t),observer:this});const i=this.hasListeners();i&&uN(U(this,_t),r,this.options,t)&&st(this,Dt,mf).call(this),this.updateResult(),i&&(U(this,_t)!==r||Vi(this.options.enabled,U(this,_t))!==Vi(t.enabled,U(this,_t))||zu(this.options.staleTime,U(this,_t))!==zu(t.staleTime,U(this,_t)))&&st(this,Dt,xT).call(this);const a=st(this,Dt,DT).call(this);i&&(U(this,_t)!==r||Vi(this.options.enabled,U(this,_t))!==Vi(t.enabled,U(this,_t))||a!==U(this,ps))&&st(this,Dt,LT).call(this,a)}getOptimisticResult(e){const t=U(this,Lr).getQueryCache().build(U(this,Lr),e),r=this.createResult(t,e);return d$(this,r)&&(Ie(this,Cr,r),Ie(this,od,this.options),Ie(this,Tc,U(this,_t).state)),r}getCurrentResult(){return U(this,Cr)}trackResult(e,t){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),t==null||t(i),Reflect.get(r,i))})}trackProp(e){U(this,cd).add(e)}getCurrentQuery(){return U(this,_t)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=U(this,Lr).defaultQueryOptions(e),r=U(this,Lr).getQueryCache().build(U(this,Lr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return st(this,Dt,mf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,Cr)))}createResult(e,t){var K;const r=U(this,_t),i=this.options,a=U(this,Cr),c=U(this,Tc),u=U(this,od),f=e!==r?e.state:U(this,Tg),{state:p}=e;let g={...p},v=!1,y;if(t._optimisticResults){const F=this.hasListeners(),oe=!F&&lN(e,t),ue=F&&uN(e,r,t,i);(oe||ue)&&(g={...g,...xD(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:b,errorUpdatedAt:C,status:E}=g;y=g.data;let S=!1;if(t.placeholderData!==void 0&&y===void 0&&E==="pending"){let F;a!=null&&a.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData)?(F=a.data,S=!0):F=typeof t.placeholderData=="function"?t.placeholderData((K=U(this,sd))==null?void 0:K.state.data,U(this,sd)):t.placeholderData,F!==void 0&&(E="success",y=NT(a==null?void 0:a.data,F,t),v=!0)}if(t.select&&y!==void 0&&!S)if(a&&y===(c==null?void 0:c.data)&&t.select===U(this,Ag))y=U(this,ad);else try{Ie(this,Ag,t.select),y=t.select(y),y=NT(a==null?void 0:a.data,y,t),Ie(this,ad,y),Ie(this,fs,null)}catch(F){Ie(this,fs,F)}U(this,fs)&&(b=U(this,fs),y=U(this,ad),C=Date.now(),E="error");const w=g.fetchStatus==="fetching",A=E==="pending",k=E==="error",O=A&&w,D=y!==void 0,N={status:E,fetchStatus:g.fetchStatus,isPending:A,isSuccess:E==="success",isError:k,isInitialLoading:O,isLoading:O,data:y,dataUpdatedAt:g.dataUpdatedAt,error:b,errorUpdatedAt:C,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:w,isRefetching:w&&!A,isLoadingError:k&&!D,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:k&&D,isStale:Ew(e,t),refetch:this.refetch,promise:U(this,hs)};if(this.options.experimental_prefetchInRender){const F=me=>{N.status==="error"?me.reject(N.error):N.data!==void 0&&me.resolve(N.data)},oe=()=>{const me=Ie(this,hs,N.promise=MT());F(me)},ue=U(this,hs);switch(ue.status){case"pending":e.queryHash===r.queryHash&&F(ue);break;case"fulfilled":(N.status==="error"||N.data!==ue.value)&&oe();break;case"rejected":(N.status!=="error"||N.error!==ue.reason)&&oe();break}}return N}updateResult(){const e=U(this,Cr),t=this.createResult(U(this,_t),this.options);if(Ie(this,Tc,U(this,_t).state),Ie(this,od,this.options),U(this,Tc).data!==void 0&&Ie(this,sd,U(this,_t)),dy(t,e))return;Ie(this,Cr,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!U(this,cd).size)return!0;const c=new Set(a??U(this,cd));return this.options.throwOnError&&c.add("error"),Object.keys(U(this,Cr)).some(u=>{const d=u;return U(this,Cr)[d]!==e[d]&&c.has(d)})};st(this,Dt,UD).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&st(this,Dt,UT).call(this)}},Lr=new WeakMap,_t=new WeakMap,Tg=new WeakMap,Cr=new WeakMap,Tc=new WeakMap,od=new WeakMap,hs=new WeakMap,fs=new WeakMap,Ag=new WeakMap,ad=new WeakMap,sd=new WeakMap,Ac=new WeakMap,wc=new WeakMap,ps=new WeakMap,cd=new WeakMap,Dt=new WeakSet,mf=function(e){st(this,Dt,FT).call(this);let t=U(this,_t).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Sr)),t},xT=function(){st(this,Dt,zT).call(this);const e=zu(this.options.staleTime,U(this,_t));if(Fc||U(this,Cr).isStale||!IT(e))return;const r=wD(U(this,Cr).dataUpdatedAt,e)+1;Ie(this,Ac,setTimeout(()=>{U(this,Cr).isStale||this.updateResult()},r))},DT=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,_t)):this.options.refetchInterval)??!1},LT=function(e){st(this,Dt,HT).call(this),Ie(this,ps,e),!(Fc||Vi(this.options.enabled,U(this,_t))===!1||!IT(U(this,ps))||U(this,ps)===0)&&Ie(this,wc,setInterval(()=>{(this.options.refetchIntervalInBackground||_w.isFocused())&&st(this,Dt,mf).call(this)},U(this,ps)))},UT=function(){st(this,Dt,xT).call(this),st(this,Dt,LT).call(this,st(this,Dt,DT).call(this))},zT=function(){U(this,Ac)&&(clearTimeout(U(this,Ac)),Ie(this,Ac,void 0))},HT=function(){U(this,wc)&&(clearInterval(U(this,wc)),Ie(this,wc,void 0))},FT=function(){const e=U(this,Lr).getQueryCache().build(U(this,Lr),this.options);if(e===U(this,_t))return;const t=U(this,_t);Ie(this,_t,e),Ie(this,Tg,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},UD=function(e){$n.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(U(this,Cr))}),U(this,Lr).getQueryCache().notify({query:U(this,_t),type:"observerResultsUpdated"})})},Yx);function u$(n,e){return Vi(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function lN(n,e){return u$(n,e)||n.state.data!==void 0&&BT(n,e,e.refetchOnMount)}function BT(n,e,t){if(Vi(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&Ew(n,e)}return!1}function uN(n,e,t,r){return(n!==e||Vi(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Ew(n,t)}function Ew(n,e){return Vi(e.enabled,n)!==!1&&n.isStaleByTime(zu(e.staleTime,n))}function d$(n,e){return!dy(n.getCurrentResult(),e)}var h$=class extends bw{constructor(n,e){super(n,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(n){super.setOptions({...n,behavior:fy()})}getOptimisticResult(n){return n.behavior=fy(),super.getOptimisticResult(n)}fetchNextPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(n){return this.fetch({...n,meta:{fetchMore:{direction:"backward"}}})}createResult(n,e){var b,C;const{state:t}=n,r=super.createResult(n,e),{isFetching:i,isRefetching:a,isError:c,isRefetchError:u}=r,d=(C=(b=t.fetchMeta)==null?void 0:b.fetchMore)==null?void 0:C.direction,f=c&&d==="forward",p=i&&d==="forward",g=c&&d==="backward",v=i&&d==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:c$(e,t.data),hasPreviousPage:l$(e,t.data),isFetchNextPageError:f,isFetchingNextPage:p,isFetchPreviousPageError:g,isFetchingPreviousPage:v,isRefetchError:u&&!f&&!g,isRefetching:a&&!p&&!v}}},gs,ms,Ur,oa,pa,Bv,KT,Qx,f$=(Qx=class extends Zd{constructor(t,r){super();Ke(this,pa);Ke(this,gs);Ke(this,ms);Ke(this,Ur);Ke(this,oa);Ie(this,gs,t),this.setOptions(r),this.bindMethods(),st(this,pa,Bv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=U(this,gs).defaultMutationOptions(t),dy(this.options,r)||U(this,gs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,Ur),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Bc(r.mutationKey)!==Bc(this.options.mutationKey)?this.reset():((i=U(this,Ur))==null?void 0:i.state.status)==="pending"&&U(this,Ur).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=U(this,Ur))==null||t.removeObserver(this)}onMutationUpdate(t){st(this,pa,Bv).call(this),st(this,pa,KT).call(this,t)}getCurrentResult(){return U(this,ms)}reset(){var t;(t=U(this,Ur))==null||t.removeObserver(this),Ie(this,Ur,void 0),st(this,pa,Bv).call(this),st(this,pa,KT).call(this)}mutate(t,r){var i;return Ie(this,oa,r),(i=U(this,Ur))==null||i.removeObserver(this),Ie(this,Ur,U(this,gs).getMutationCache().build(U(this,gs),this.options)),U(this,Ur).addObserver(this),U(this,Ur).execute(t)}},gs=new WeakMap,ms=new WeakMap,Ur=new WeakMap,oa=new WeakMap,pa=new WeakSet,Bv=function(){var r;const t=((r=U(this,Ur))==null?void 0:r.state)??DD();Ie(this,ms,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},KT=function(t){$n.batch(()=>{var r,i,a,c,u,d,f,p;if(U(this,oa)&&this.hasListeners()){const g=U(this,ms).variables,v=U(this,ms).context;(t==null?void 0:t.type)==="success"?((i=(r=U(this,oa)).onSuccess)==null||i.call(r,t.data,g,v),(c=(a=U(this,oa)).onSettled)==null||c.call(a,t.data,null,g,v)):(t==null?void 0:t.type)==="error"&&((d=(u=U(this,oa)).onError)==null||d.call(u,t.error,g,v),(p=(f=U(this,oa)).onSettled)==null||p.call(f,void 0,t.error,g,v))}this.listeners.forEach(g=>{g(U(this,ms))})})},Qx),zD=be.createContext(void 0),HD=n=>{const e=be.useContext(zD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},mee=({client:n,children:e})=>(be.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),Fe.jsx(zD.Provider,{value:n,children:e})),FD=be.createContext(!1),p$=()=>be.useContext(FD);FD.Provider;function g$(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var m$=be.createContext(g$()),v$=()=>be.useContext(m$),y$=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},_$=n=>{be.useEffect(()=>{n.clearReset()},[n])},b$=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:i})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(i&&n.data===void 0||ID(t,[n.error,r])),E$=(n,e)=>e.state.data===void 0,C$=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},S$=(n,e)=>n.isLoading&&n.isFetching&&!e,T$=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,dN=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function Cw(n,e,t){var g,v,y,b,C;const r=HD(),i=p$(),a=v$(),c=r.defaultQueryOptions(n);(v=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||v.call(g,c),c._optimisticResults=i?"isRestoring":"optimistic",C$(c),y$(c,a),_$(a);const u=!r.getQueryCache().get(c.queryHash),[d]=be.useState(()=>new e(r,c)),f=d.getOptimisticResult(c),p=!i&&n.subscribed!==!1;if(be.useSyncExternalStore(be.useCallback(E=>{const S=p?d.subscribe($n.batchCalls(E)):Sr;return d.updateResult(),S},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),be.useEffect(()=>{d.setOptions(c)},[c,d]),T$(c,f))throw dN(c,d,a);if(b$({result:f,errorResetBoundary:a,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw f.error;if((b=(y=r.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||b.call(y,c,f),c.experimental_prefetchInRender&&!Fc&&S$(f,i)){const E=u?dN(c,d,a):(C=r.getQueryCache().get(c.queryHash))==null?void 0:C.promise;E==null||E.catch(Sr).finally(()=>{d.updateResult()})}return c.notifyOnChangeProps?f:d.trackResult(f)}function vee(n,e){return Cw(n,bw)}function yee(n,e){return Cw({...n,enabled:!0,suspense:!0,throwOnError:E$,placeholderData:void 0},bw)}function _ee(n,e){const t=HD(),[r]=be.useState(()=>new f$(t,n));be.useEffect(()=>{r.setOptions(n)},[r,n]);const i=be.useSyncExternalStore(be.useCallback(c=>r.subscribe($n.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=be.useCallback((c,u)=>{r.mutate(c,u).catch(Sr)},[r]);if(i.error&&ID(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function bee(n,e){return Cw(n,h$)}const Hu=new WeakMap,Kv=new WeakMap,py={current:[]};let KC=!1,Tf=0;const vf=new Set,nv=new Map;function BD(n){const e=Array.from(n).sort((t,r)=>t instanceof Fu&&t.options.deps.includes(r)?1:r instanceof Fu&&r.options.deps.includes(t)?-1:0);for(const t of e){if(py.current.includes(t))continue;py.current.push(t),t.recompute();const r=Kv.get(t);if(r)for(const i of r){const a=Hu.get(i);a&&BD(a)}}}function A$(n){n.listeners.forEach(e=>e({prevVal:n.prevState,currentVal:n.state}))}function w$(n){n.listeners.forEach(e=>e({prevVal:n.prevState,currentVal:n.state}))}function KD(n){if(Tf>0&&!nv.has(n)&&nv.set(n,n.prevState),vf.add(n),!(Tf>0)&&!KC)try{for(KC=!0;vf.size>0;){const e=Array.from(vf);vf.clear();for(const t of e){const r=nv.get(t)??t.prevState;t.prevState=r,A$(t)}for(const t of e){const r=Hu.get(t);r&&(py.current.push(t),BD(r))}for(const t of e){const r=Hu.get(t);if(r)for(const i of r)w$(i)}}}finally{KC=!1,py.current=[],nv.clear()}}function Af(n){Tf++;try{n()}finally{if(Tf--,Tf===0){const e=Array.from(vf)[0];e&&KD(e)}}}function R$(n){return typeof n=="function"}class qT{constructor(e,t){this.listeners=new Set,this.subscribe=r=>{var i,a;this.listeners.add(r);const c=(a=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:a.call(i,r,this);return()=>{this.listeners.delete(r),c==null||c()}},this.prevState=e,this.state=e,this.options=t}setState(e){var t,r,i;this.prevState=this.state,(t=this.options)!=null&&t.updateFn?this.state=this.options.updateFn(this.prevState)(e):R$(e)?this.state=e(this.prevState):this.state=e,(i=(r=this.options)==null?void 0:r.onUpdate)==null||i.call(r),KD(this)}}class Fu{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const t=[],r=[];for(const i of this.options.deps)t.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:t,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var t,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:a,prevVal:c}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:a,prevVal:c}),(r=(t=this.options).onUpdate)==null||r.call(t)},this.checkIfRecalculationNeededDeeply=()=>{for(const a of this.options.deps)a instanceof Fu&&a.checkIfRecalculationNeededDeeply();let t=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let a=0;a<i.length;a++)if(i[a]!==r[a]){t=!0;break}t&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const t of this._subscriptions)t()}),this.subscribe=t=>{var r,i;this.listeners.add(t);const a=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,t,this);return()=>{this.listeners.delete(t),a==null||a()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const t of e)if(t instanceof Fu)t.registerOnGraph(),this.registerOnGraph(t.options.deps);else if(t instanceof qT){let r=Hu.get(t);r||(r=new Set,Hu.set(t,r)),r.add(this);let i=Kv.get(this);i||(i=new Set,Kv.set(this,i)),i.add(t)}}unregisterFromGraph(e=this.options.deps){for(const t of e)if(t instanceof Fu)this.unregisterFromGraph(t.options.deps);else if(t instanceof qT){const r=Hu.get(t);r&&r.delete(this);const i=Kv.get(this);i&&i.delete(t)}}}const Es="__TSR_index",hN="popstate",fN="beforeunload";function k$(n){let e=n.getLocation();const t=new Set,r=c=>{e=n.getLocation(),t.forEach(u=>u({location:e,action:c}))},i=c=>{n.notifyOnIndexChange??!0?r(c):e=n.getLocation()},a=async({task:c,navigateOpts:u,...d})=>{var v,y;if((u==null?void 0:u.ignoreBlocker)??!1){c();return}const p=((v=n.getBlockers)==null?void 0:v.call(n))??[],g=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&p.length&&g)for(const b of p){const C=gy(d.path,d.state);if(await b.blockerFn({currentLocation:e,nextLocation:C,action:d.type})){(y=n.onBlocked)==null||y.call(n);return}}c()};return{get location(){return e},get length(){return n.getLength()},subscribers:t,subscribe:c=>(t.add(c),()=>{t.delete(c)}),push:(c,u,d)=>{const f=e.state[Es];u=pN(f+1,u),a({task:()=>{n.pushState(c,u),r({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:c,state:u})},replace:(c,u,d)=>{const f=e.state[Es];u=pN(f,u),a({task:()=>{n.replaceState(c,u),r({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:c,state:u})},go:(c,u)=>{a({task:()=>{n.go(c),i({type:"GO",index:c})},navigateOpts:u,type:"GO"})},back:c=>{a({task:()=>{n.back((c==null?void 0:c.ignoreBlocker)??!1),i({type:"BACK"})},navigateOpts:c,type:"BACK"})},forward:c=>{a({task:()=>{n.forward((c==null?void 0:c.ignoreBlocker)??!1),i({type:"FORWARD"})},navigateOpts:c,type:"FORWARD"})},canGoBack:()=>e.state[Es]!==0,createHref:c=>n.createHref(c),block:c=>{var d;if(!n.setBlockers)return()=>{};const u=((d=n.getBlockers)==null?void 0:d.call(n))??[];return n.setBlockers([...u,c]),()=>{var p,g;const f=((p=n.getBlockers)==null?void 0:p.call(n))??[];(g=n.setBlockers)==null||g.call(n,f.filter(v=>v!==c))}},flush:()=>{var c;return(c=n.flush)==null?void 0:c.call(n)},destroy:()=>{var c;return(c=n.destroy)==null?void 0:c.call(n)},notify:r}}function pN(n,e){e||(e={});const t=Sw();return{...e,key:t,__TSR_key:t,[Es]:n}}function I$(n){var N,K;const e=typeof document<"u"?window:void 0,t=e.history.pushState,r=e.history.replaceState;let i=[];const a=()=>i,c=F=>i=F,u=F=>F,d=()=>gy(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);if(!((N=e.history.state)!=null&&N.__TSR_key)&&!((K=e.history.state)!=null&&K.key)){const F=Sw();e.history.replaceState({[Es]:0,key:F,__TSR_key:F},"")}let f=d(),p,g=!1,v=!1,y=!1,b=!1;const C=()=>f;let E,S;const w=()=>{E&&(M._ignoreSubscribers=!0,(E.isPush?e.history.pushState:e.history.replaceState)(E.state,"",E.href),M._ignoreSubscribers=!1,E=void 0,S=void 0,p=void 0)},A=(F,oe,ue)=>{const me=u(oe);S||(p=f),f=gy(oe,ue),E={href:me,state:ue,isPush:(E==null?void 0:E.isPush)||F==="push"},S||(S=Promise.resolve().then(()=>w()))},k=F=>{f=d(),M.notify({type:F})},O=async()=>{if(v){v=!1;return}const F=d(),oe=F.state[Es]-f.state[Es],ue=oe===1,me=oe===-1,X=!ue&&!me||g;g=!1;const he=X?"GO":me?"BACK":"FORWARD",z=X?{type:"GO",index:oe}:{type:me?"BACK":"FORWARD"};if(y)y=!1;else{const L=a();if(typeof document<"u"&&L.length){for(const V of L)if(await V.blockerFn({currentLocation:f,nextLocation:F,action:he})){v=!0,e.history.go(1),M.notify(z);return}}}f=d(),M.notify(z)},D=F=>{if(b){b=!1;return}let oe=!1;const ue=a();if(typeof document<"u"&&ue.length)for(const me of ue){const X=me.enableBeforeUnload??!0;if(X===!0){oe=!0;break}if(typeof X=="function"&&X()===!0){oe=!0;break}}if(oe)return F.preventDefault(),F.returnValue=""},M=k$({getLocation:C,getLength:()=>e.history.length,pushState:(F,oe)=>A("push",F,oe),replaceState:(F,oe)=>A("replace",F,oe),back:F=>(F&&(y=!0),b=!0,e.history.back()),forward:F=>{F&&(y=!0),b=!0,e.history.forward()},go:F=>{g=!0,e.history.go(F)},createHref:F=>u(F),flush:w,destroy:()=>{e.history.pushState=t,e.history.replaceState=r,e.removeEventListener(fN,D,{capture:!0}),e.removeEventListener(hN,O)},onBlocked:()=>{p&&f!==p&&(f=p)},getBlockers:a,setBlockers:c,notifyOnIndexChange:!1});return e.addEventListener(fN,D,{capture:!0}),e.addEventListener(hN,O),e.history.pushState=function(...F){const oe=t.apply(e.history,F);return M._ignoreSubscribers||k("PUSH"),oe},e.history.replaceState=function(...F){const oe=r.apply(e.history,F);return M._ignoreSubscribers||k("REPLACE"),oe},M}function gy(n,e){const t=n.indexOf("#"),r=n.indexOf("?"),i=Sw();return{href:n,pathname:n.substring(0,t>0?r>0?Math.min(t,r):t:r>0?r:n.length),hash:t>-1?n.substring(t):"",search:r>-1?n.slice(r,t===-1?void 0:t):"",state:e||{[Es]:0,key:i,__TSR_key:i}}}function Sw(){return(Math.random()+1).toString(36).substring(7)}function $T(n){return n[n.length-1]}function O$(n){return typeof n=="function"}function Rc(n,e){return O$(n)?n(e):n}const N$=Object.prototype.hasOwnProperty;function Ci(n,e){if(n===e)return n;const t=e,r=vN(n)&&vN(t);if(!r&&!(my(n)&&my(t)))return t;const i=r?n:gN(n);if(!i)return t;const a=r?t:gN(t);if(!a)return t;const c=i.length,u=a.length,d=r?new Array(u):{};let f=0;for(let p=0;p<u;p++){const g=r?p:a[p],v=n[g],y=t[g];if(v===y){d[g]=v,(r?p<c:N$.call(n,g))&&f++;continue}if(v===null||y===null||typeof v!="object"||typeof y!="object"){d[g]=y;continue}const b=Ci(v,y);d[g]=b,b===v&&f++}return c===u&&f===c?n:d}function gN(n){const e=[],t=Object.getOwnPropertyNames(n);for(const i of t){if(!Object.prototype.propertyIsEnumerable.call(n,i))return!1;e.push(i)}const r=Object.getOwnPropertySymbols(n);for(const i of r){if(!Object.prototype.propertyIsEnumerable.call(n,i))return!1;e.push(i)}return e}function my(n){if(!mN(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!mN(t)||!t.hasOwnProperty("isPrototypeOf"))}function mN(n){return Object.prototype.toString.call(n)==="[object Object]"}function vN(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function kc(n,e,t){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(!kc(n[r],e[r],t))return!1;return!0}if(my(n)&&my(e)){const r=(t==null?void 0:t.ignoreUndefined)??!0;if(t!=null&&t.partial){for(const c in e)if((!r||e[c]!==void 0)&&!kc(n[c],e[c],t))return!1;return!0}let i=0;if(!r)i=Object.keys(n).length;else for(const c in n)n[c]!==void 0&&i++;let a=0;for(const c in e)if((!r||e[c]!==void 0)&&(a++,a>i||!kc(n[c],e[c],t)))return!1;return i===a}return!1}function dd(n){let e,t;const r=new Promise((i,a)=>{e=i,t=a});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),n==null||n(i)},r.reject=i=>{r.status="rejected",t(i)},r}function Cs(n){return!!(n&&typeof n=="object"&&typeof n.then=="function")}var M$="Invariant failed";function ga(n,e){if(!n)throw new Error(M$)}const ri="__root__",wo=0,Kc=1,hd=2,fd=3;function ca(n){return Tw(n.filter(e=>e!==void 0).join("/"))}function Tw(n){return n.replace(/\/{2,}/g,"/")}function Aw(n){return n==="/"?n:n.replace(/^\/{1,}/,"")}function Ss(n){return n==="/"?n:n.replace(/\/{1,}$/,"")}function jT(n){return Ss(Aw(n))}function vy(n,e){return n!=null&&n.endsWith("/")&&n!=="/"&&n!==`${e}/`?n.slice(0,-1):n}function P$(n,e,t){return vy(n,t)===vy(e,t)}function x$(n){const{type:e,value:t}=n;if(e===wo)return t;const{prefixSegment:r,suffixSegment:i}=n;if(e===Kc){const a=t.substring(1);if(r&&i)return`${r}{$${a}}${i}`;if(r)return`${r}{$${a}}`;if(i)return`{$${a}}${i}`}if(e===fd){const a=t.substring(1);return r&&i?`${r}{-$${a}}${i}`:r?`${r}{-$${a}}`:i?`{-$${a}}${i}`:`{-$${a}}`}if(e===hd){if(r&&i)return`${r}{$}${i}`;if(r)return`${r}{$}`;if(i)return`{$}${i}`}return t}function D$({base:n,to:e,trailingSlash:t="never",parseCache:r}){var d;let i=qD(n,r).slice();const a=L_(e,r);i.length>1&&((d=$T(i))==null?void 0:d.value)==="/"&&i.pop();for(let f=0,p=a.length;f<p;f++){const g=a[f],v=g.value;v==="/"?f?f===p-1&&i.push(g):i=[g]:v===".."?i.pop():v==="."||i.push(g)}i.length>1&&($T(i).value==="/"?t==="never"&&i.pop():t==="always"&&i.push({type:wo,value:"/"}));const c=i.map(x$);return ca(c)}const qD=(n,e)=>$D(n,e,!0),L_=(n,e)=>$D(n,e,!1),$D=(n,e,t)=>{if(!n)return[];const r=e==null?void 0:e.get(n);if(r)return r;const i=B$(n,t);return e==null||e.set(n,i),i},L$=/^\$.{1,}$/,U$=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,z$=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,H$=/^\$$/,F$=/^(.*?)\{\$\}(.*)$/;function B$(n,e){n=Tw(n);const t=[];if(n.slice(0,1)==="/"&&(n=n.substring(1),t.push({type:wo,value:"/"})),!n)return t;const r=n.split("/").filter(Boolean);return t.push(...r.map(i=>{const a=!e&&i!==ri&&i.slice(-1)==="_"?i.slice(0,-1):i,c=a.match(F$);if(c){const f=c[1],p=c[2];return{type:hd,value:"$",prefixSegment:f||void 0,suffixSegment:p||void 0}}const u=a.match(z$);if(u){const f=u[1],p=u[2],g=u[3];return{type:fd,value:p,prefixSegment:f||void 0,suffixSegment:g||void 0}}const d=a.match(U$);if(d){const f=d[1],p=d[2],g=d[3];return{type:Kc,value:""+p,prefixSegment:f||void 0,suffixSegment:g||void 0}}if(L$.test(a)){const f=a.substring(1);return{type:Kc,value:"$"+f,prefixSegment:void 0,suffixSegment:void 0}}return H$.test(a)?{type:hd,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:wo,value:a.includes("%25")?a.split("%25").map(f=>decodeURI(f)).join("%25"):decodeURI(a)}})),n.slice(-1)==="/"&&(n=n.substring(1),t.push({type:wo,value:"/"})),t}function rv({path:n,params:e,leaveWildcards:t,leaveParams:r,decodeCharMap:i,parseCache:a}){const c=L_(n,a);function u(g){const v=e[g],y=typeof v=="string";return g==="*"||g==="_splat"?y?encodeURI(v):v:y?K$(v,i):v}let d=!1;const f={},p=ca(c.map(g=>{if(g.type===wo)return g.value;if(g.type===hd){f._splat=e._splat,f["*"]=e._splat;const v=g.prefixSegment||"",y=g.suffixSegment||"";if(!("_splat"in e))return d=!0,t?`${v}${g.value}${y}`:v||y?`${v}${y}`:void 0;const b=u("_splat");return t?`${v}${g.value}${b??""}${y}`:`${v}${b}${y}`}if(g.type===Kc){const v=g.value.substring(1);!d&&!(v in e)&&(d=!0),f[v]=e[v];const y=g.prefixSegment||"",b=g.suffixSegment||"";if(r){const C=u(g.value);return`${y}${g.value}${C??""}${b}`}return`${y}${u(v)??"undefined"}${b}`}if(g.type===fd){const v=g.value.substring(1),y=g.prefixSegment||"",b=g.suffixSegment||"";if(!(v in e)||e[v]==null)return t?`${y}${v}${b}`:y||b?`${y}${b}`:void 0;if(f[v]=e[v],r){const C=u(g.value);return`${y}${g.value}${C??""}${b}`}return t?`${y}${v}${u(v)??""}${b}`:`${y}${u(v)??""}${b}`}return g.value}));return{usedParams:f,interpolatedPath:p,isMissingParams:d}}function K$(n,e){let t=encodeURIComponent(n);if(e)for(const[r,i]of e)t=t.replaceAll(r,i);return t}function GT(n,e,t){const r=q$(n,e,t);if(!(e.to&&!r))return r??{}}function q$(n,{to:e,fuzzy:t,caseSensitive:r},i){const a=e,c=qD(n.startsWith("/")?n:`/${n}`,i),u=L_(a.startsWith("/")?a:`/${a}`,i),d={};return $$(c,u,d,t,r)?d:void 0}function $$(n,e,t,r,i){var u,d,f;let a=0,c=0;for(;a<n.length||c<e.length;){const p=n[a],g=e[c];if(g){if(g.type===hd){const v=n.slice(a);let y;if(g.prefixSegment||g.suffixSegment){if(!p)return!1;const b=g.prefixSegment||"",C=g.suffixSegment||"",E=p.value;if("prefixSegment"in g&&!E.startsWith(b)||"suffixSegment"in g&&!((u=n[n.length-1])!=null&&u.value.endsWith(C)))return!1;let S=decodeURI(ca(v.map(w=>w.value)));b&&S.startsWith(b)&&(S=S.slice(b.length)),C&&S.endsWith(C)&&(S=S.slice(0,S.length-C.length)),y=S}else y=decodeURI(ca(v.map(b=>b.value)));return t["*"]=y,t._splat=y,!0}if(g.type===wo){if(g.value==="/"&&!(p!=null&&p.value)){c++;continue}if(p){if(i){if(g.value!==p.value)return!1}else if(g.value.toLowerCase()!==p.value.toLowerCase())return!1;a++,c++;continue}else return!1}if(g.type===Kc){if(!p||p.value==="/")return!1;let v="",y=!1;if(g.prefixSegment||g.suffixSegment){const b=g.prefixSegment||"",C=g.suffixSegment||"",E=p.value;if(b&&!E.startsWith(b)||C&&!E.endsWith(C))return!1;let S=E;b&&S.startsWith(b)&&(S=S.slice(b.length)),C&&S.endsWith(C)&&(S=S.slice(0,S.length-C.length)),v=decodeURIComponent(S),y=!0}else v=decodeURIComponent(p.value),y=!0;y&&(t[g.value.substring(1)]=v,a++),c++;continue}if(g.type===fd){if(!p){c++;continue}if(p.value==="/"){c++;continue}let v="",y=!1;if(g.prefixSegment||g.suffixSegment){const b=g.prefixSegment||"",C=g.suffixSegment||"",E=p.value;if((!b||E.startsWith(b))&&(!C||E.endsWith(C))){let S=E;b&&S.startsWith(b)&&(S=S.slice(b.length)),C&&S.endsWith(C)&&(S=S.slice(0,S.length-C.length)),v=decodeURIComponent(S),y=!0}}else{let b=!0;for(let C=c+1;C<e.length;C++){const E=e[C];if((E==null?void 0:E.type)===wo&&E.value===p.value){b=!1;break}if((E==null?void 0:E.type)===Kc||(E==null?void 0:E.type)===hd){n.length<e.length&&(b=!1);break}}b&&(v=decodeURIComponent(p.value),y=!0)}y&&(t[g.value.substring(1)]=v,a++),c++;continue}}if(a<n.length&&c>=e.length)return t["**"]=ca(n.slice(a).map(v=>v.value)),!!r&&((d=e[e.length-1])==null?void 0:d.value)!=="/";if(c<e.length&&a>=n.length){for(let v=c;v<e.length;v++)if(((f=e[v])==null?void 0:f.type)!==fd)return!1;break}break}return!0}const j$=.75,G$=1,V$=.5,Y$=.4,Q$=.25,Z$=.2,W$=.05,X$=.02,J$=.01,yN=2e-4,_N=1e-4;function bN(n,e){return n.prefixSegment&&n.suffixSegment?e+W$+yN*n.prefixSegment.length+_N*n.suffixSegment.length:n.prefixSegment?e+X$+yN*n.prefixSegment.length:n.suffixSegment?e+J$+_N*n.suffixSegment.length:e}function ej(n){const e=[];return n.forEach((r,i)=>{var g;if(r.isRoot||!r.path)return;const a=Aw(r.fullPath);let c=L_(a),u=0;for(;c.length>u+1&&((g=c[u])==null?void 0:g.value)==="/";)u++;u>0&&(c=c.slice(u));let d=0,f=!1;const p=c.map((v,y)=>{if(v.value==="/")return j$;if(v.type===wo)return G$;let b;v.type===Kc?b=V$:v.type===fd?(b=Y$,d++):b=Q$;for(let C=y+1;C<c.length;C++){const E=c[C];if(E.type===wo&&E.value!=="/")return f=!0,bN(v,b+Z$)}return bN(v,b)});e.push({child:r,trimmed:a,parsed:c,index:i,scores:p,optionalParamCount:d,hasStaticAfter:f})}),e.sort((r,i)=>{const a=Math.min(r.scores.length,i.scores.length);for(let c=0;c<a;c++)if(r.scores[c]!==i.scores[c])return i.scores[c]-r.scores[c];if(r.scores.length!==i.scores.length){if(r.optionalParamCount!==i.optionalParamCount){if(r.hasStaticAfter===i.hasStaticAfter)return r.optionalParamCount-i.optionalParamCount;if(r.hasStaticAfter&&!i.hasStaticAfter)return-1;if(!r.hasStaticAfter&&i.hasStaticAfter)return 1}return i.scores.length-r.scores.length}for(let c=0;c<a;c++)if(r.parsed[c].value!==i.parsed[c].value)return r.parsed[c].value>i.parsed[c].value?1:-1;return r.index-i.index}).map((r,i)=>(r.child.rank=i,r.child))}function tj({routeTree:n,initRoute:e}){const t={},r={},i=c=>{c.forEach((u,d)=>{e==null||e(u,d);const f=t[u.id];if(ga(!f,`Duplicate routes found with id: ${String(u.id)}`),t[u.id]=u,!u.isRoot&&u.path){const g=Ss(u.fullPath);(!r[g]||u.fullPath.endsWith("/"))&&(r[g]=u)}const p=u.children;p!=null&&p.length&&i(p)})};i([n]);const a=ej(Object.values(t));return{routesById:t,routesByPath:r,flatRoutes:a}}function jD(n={}){if(n.isNotFound=!0,n.throw)throw n;return n}function Mo(n){return!!(n!=null&&n.isNotFound)}function nj(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const yy="tsr-scroll-restoration-v1_3",rj=(n,e)=>{let t;return(...r)=>{t||(t=setTimeout(()=>{n(...r),t=null},e))}};function ij(){const n=nj();if(!n)return null;const e=n.getItem(yy);let t=e?JSON.parse(e):{};return{state:t,set:r=>(t=Rc(r,t)||t,n.setItem(yy,JSON.stringify(t)))}}const iv=ij(),VT=n=>n.state.__TSR_key||n.href;function oj(n){const e=[];let t;for(;t=n.parentNode;)e.push(`${n.tagName}:nth-child(${Array.prototype.indexOf.call(t.children,n)+1})`),n=t;return`${e.reverse().join(" > ")}`.toLowerCase()}let _y=!1;function GD({storageKey:n,key:e,behavior:t,shouldScrollRestoration:r,scrollToTopSelectors:i,location:a}){var f,p;let c;try{c=JSON.parse(sessionStorage.getItem(n)||"{}")}catch(g){console.error(g);return}const u=e||((f=window.history.state)==null?void 0:f.__TSR_key),d=c[u];_y=!0;e:{if(r&&d&&Object.keys(d).length>0){for(const y in d){const b=d[y];if(y==="window")window.scrollTo({top:b.scrollY,left:b.scrollX,behavior:t});else if(y){const C=document.querySelector(y);C&&(C.scrollLeft=b.scrollX,C.scrollTop=b.scrollY)}}break e}const g=(a??window.location).hash.split("#",2)[1];if(g){const y=((p=window.history.state)==null?void 0:p.__hashScrollIntoViewOptions)??!0;if(y){const b=document.getElementById(g);b&&b.scrollIntoView(y)}break e}const v={top:0,left:0,behavior:t};if(window.scrollTo(v),i)for(const y of i){if(y==="window")continue;const b=typeof y=="function"?y():document.querySelector(y);b&&b.scrollTo(v)}}_y=!1}function aj(n,e){if(!iv&&!n.isServer||((n.options.scrollRestoration??!1)&&(n.isScrollRestoring=!0),n.isServer||n.isScrollRestorationSetup||!iv))return;n.isScrollRestorationSetup=!0,_y=!1;const r=n.options.getScrollRestorationKey||VT;window.history.scrollRestoration="manual";const i=a=>{if(_y||!n.isScrollRestoring)return;let c="";if(a.target===document||a.target===window)c="window";else{const d=a.target.getAttribute("data-scroll-restoration-id");d?c=`[data-scroll-restoration-id="${d}"]`:c=oj(a.target)}const u=r(n.state.location);iv.set(d=>{const f=d[u]||(d[u]={}),p=f[c]||(f[c]={});if(c==="window")p.scrollX=window.scrollX||0,p.scrollY=window.scrollY||0;else if(c){const g=document.querySelector(c);g&&(p.scrollX=g.scrollLeft||0,p.scrollY=g.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",rj(i,100),!0),n.subscribe("onRendered",a=>{const c=r(a.toLocation);if(!n.resetNextScroll){n.resetNextScroll=!0;return}typeof n.options.scrollRestoration=="function"&&!n.options.scrollRestoration({location:n.latestLocation})||(GD({storageKey:yy,key:c,behavior:n.options.scrollRestorationBehavior,shouldScrollRestoration:n.isScrollRestoring,scrollToTopSelectors:n.options.scrollToTopSelectors,location:n.history.location}),n.isScrollRestoring&&iv.set(u=>(u[c]||(u[c]={}),u)))})}function sj(n){if(typeof document<"u"&&document.querySelector){const e=n.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&n.state.location.hash!==""){const t=document.getElementById(n.state.location.hash);t&&t.scrollIntoView(e)}}}function cj(n,e=String){const t=new URLSearchParams;for(const r in n){const i=n[r];i!==void 0&&t.set(r,e(i))}return t.toString()}function qC(n){return n?n==="false"?!1:n==="true"?!0:+n*0===0&&+n+""===n?+n:n:""}function lj(n){const e=new URLSearchParams(n),t={};for(const[r,i]of e.entries()){const a=t[r];a==null?t[r]=qC(i):Array.isArray(a)?a.push(qC(i)):t[r]=[a,qC(i)]}return t}const uj=hj(JSON.parse),dj=fj(JSON.stringify,JSON.parse);function hj(n){return e=>{e[0]==="?"&&(e=e.substring(1));const t=lj(e);for(const r in t){const i=t[r];if(typeof i=="string")try{t[r]=n(i)}catch{}}return t}}function fj(n,e){const t=typeof e=="function";function r(i){if(typeof i=="object"&&i!==null)try{return n(i)}catch{}else if(t&&typeof i=="string")try{return e(i),n(i)}catch{}return i}return i=>{const a=cj(i,r);return a?`?${a}`:""}}function pj(n){if(n.statusCode=n.statusCode||n.code||307,!n.reloadDocument&&typeof n.href=="string")try{new URL(n.href),n.reloadDocument=!0}catch{}const e=new Headers(n.headers);n.href&&e.get("Location")===null&&e.set("Location",n.href);const t=new Response(null,{status:n.statusCode,headers:e});if(t.options=n,n.throw)throw t;return t}function Eo(n){return n instanceof Response&&!!n.options}function gj(n){const e=new Map;let t,r;const i=a=>{a.next&&(a.prev?(a.prev.next=a.next,a.next.prev=a.prev,a.next=void 0,r&&(r.next=a,a.prev=r)):(a.next.prev=void 0,t=a.next,a.next=void 0,r&&(a.prev=r,r.next=a)),r=a)};return{get(a){const c=e.get(a);if(c)return i(c),c.value},set(a,c){if(e.size>=n&&t){const d=t;e.delete(d.key),d.next&&(t=d.next,d.next.prev=void 0),d===r&&(r=void 0)}const u=e.get(a);if(u)u.value=c,i(u);else{const d={key:a,value:c,prev:r};r&&(r.next=d),r=d,t||(t=d),e.set(a,d)}}}}const qv=n=>{var e;if(!n.rendered)return n.rendered=!0,(e=n.onReady)==null?void 0:e.call(n)},U_=(n,e)=>!!(n.preload&&!n.router.state.matches.some(t=>t.id===e)),VD=(n,e)=>{var i;const t=n.router.routesById[e.routeId??""]??n.router.routeTree;!t.options.notFoundComponent&&((i=n.router.options)!=null&&i.defaultNotFoundComponent)&&(t.options.notFoundComponent=n.router.options.defaultNotFoundComponent),ga(t.options.notFoundComponent);const r=n.matches.find(a=>a.routeId===t.id);ga(r,"Could not find match for route: "+t.id),n.updateMatch(r.id,a=>({...a,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&t.parentRoute&&(e.routeId=t.parentRoute.id,VD(n,e))},vs=(n,e,t)=>{var r,i,a;if(!(!Eo(t)&&!Mo(t))){if(Eo(t)&&t.redirectHandled&&!t.options.reloadDocument)throw t;if(e){(r=e._nonReactive.beforeLoadPromise)==null||r.resolve(),(i=e._nonReactive.loaderPromise)==null||i.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const c=Eo(t)?"redirected":"notFound";n.updateMatch(e.id,u=>({...u,status:c,isFetching:!1,error:t})),Mo(t)&&!t.routeId&&(t.routeId=e.routeId),(a=e._nonReactive.loadPromise)==null||a.resolve()}throw Eo(t)?(n.rendered=!0,t.options._fromLocation=n.location,t.redirectHandled=!0,t=n.router.resolveRedirect(t),t):(VD(n,t),t)}},YD=(n,e)=>{const t=n.router.getMatch(e);return!!(!n.router.isServer&&t._nonReactive.dehydrated||n.router.isServer&&t.ssr===!1)},tf=(n,e,t,r)=>{var u,d;const{id:i,routeId:a}=n.matches[e],c=n.router.looseRoutesById[a];if(t instanceof Promise)throw t;t.routerCode=r,n.firstBadMatchIndex??(n.firstBadMatchIndex=e),vs(n,n.router.getMatch(i),t);try{(d=(u=c.options).onError)==null||d.call(u,t)}catch(f){t=f,vs(n,n.router.getMatch(i),t)}n.updateMatch(i,f=>{var p,g;return(p=f._nonReactive.beforeLoadPromise)==null||p.resolve(),f._nonReactive.beforeLoadPromise=void 0,(g=f._nonReactive.loadPromise)==null||g.resolve(),{...f,error:t,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}})},mj=(n,e,t,r)=>{var y;const i=n.router.getMatch(e),a=(y=n.matches[t-1])==null?void 0:y.id,c=a?n.router.getMatch(a):void 0;if(n.router.isShell()){i.ssr=e===ri;return}if((c==null?void 0:c.ssr)===!1){i.ssr=!1;return}const u=b=>b===!0&&(c==null?void 0:c.ssr)==="data-only"?"data-only":b,d=n.router.options.defaultSsr??!0;if(r.options.ssr===void 0){i.ssr=u(d);return}if(typeof r.options.ssr!="function"){i.ssr=u(r.options.ssr);return}const{search:f,params:p}=i,g={search:ov(f,i.searchError),params:ov(p,i.paramsError),location:n.location,matches:n.matches.map(b=>({index:b.index,pathname:b.pathname,fullPath:b.fullPath,staticData:b.staticData,id:b.id,routeId:b.routeId,search:ov(b.search,b.searchError),params:ov(b.params,b.paramsError),ssr:b.ssr}))},v=r.options.ssr(g);if(Cs(v))return v.then(b=>{i.ssr=u(b??d)});i.ssr=u(v??d)},QD=(n,e,t,r)=>{var c;if(r._nonReactive.pendingTimeout!==void 0)return;const i=t.options.pendingMs??n.router.options.defaultPendingMs;if(!!(n.onReady&&!n.router.isServer&&!U_(n,e)&&(t.options.loader||t.options.beforeLoad||XD(t))&&typeof i=="number"&&i!==1/0&&(t.options.pendingComponent??((c=n.router.options)==null?void 0:c.defaultPendingComponent)))){const u=setTimeout(()=>{qv(n)},i);r._nonReactive.pendingTimeout=u}},vj=(n,e,t)=>{const r=n.router.getMatch(e);if(!r._nonReactive.beforeLoadPromise&&!r._nonReactive.loaderPromise)return;QD(n,e,t,r);const i=()=>{const a=n.router.getMatch(e);a.preload&&(a.status==="redirected"||a.status==="notFound")&&vs(n,a,a.error)};return r._nonReactive.beforeLoadPromise?r._nonReactive.beforeLoadPromise.then(i):i()},yj=(n,e,t,r)=>{var M;const i=n.router.getMatch(e),a=i._nonReactive.loadPromise;i._nonReactive.loadPromise=dd(()=>{a==null||a.resolve()});const{paramsError:c,searchError:u}=i;c&&tf(n,t,c,"PARSE_PARAMS"),u&&tf(n,t,u,"VALIDATE_SEARCH"),QD(n,e,r,i);const d=new AbortController,f=(M=n.matches[t-1])==null?void 0:M.id,p=f?n.router.getMatch(f):void 0,v={...(p==null?void 0:p.context)??n.router.options.context??void 0,...i.__routeContext};let y=!1;const b=()=>{y||(y=!0,n.updateMatch(e,N=>({...N,isFetching:"beforeLoad",fetchCount:N.fetchCount+1,abortController:d,context:v})))},C=()=>{var N;(N=i._nonReactive.beforeLoadPromise)==null||N.resolve(),i._nonReactive.beforeLoadPromise=void 0,n.updateMatch(e,K=>({...K,isFetching:!1}))};if(!r.options.beforeLoad){Af(()=>{b(),C()});return}i._nonReactive.beforeLoadPromise=dd();const{search:E,params:S,cause:w}=i,A=U_(n,e),k={search:E,abortController:d,params:S,preload:A,context:v,location:n.location,navigate:N=>n.router.navigate({...N,_fromLocation:n.location}),buildLocation:n.router.buildLocation,cause:A?"preload":w,matches:n.matches,...n.router.options.additionalContext},O=N=>{if(N===void 0){Af(()=>{b(),C()});return}(Eo(N)||Mo(N))&&(b(),tf(n,t,N,"BEFORE_LOAD")),Af(()=>{b(),n.updateMatch(e,K=>({...K,__beforeLoadContext:N,context:{...K.context,...N}})),C()})};let D;try{if(D=r.options.beforeLoad(k),Cs(D))return b(),D.catch(N=>{tf(n,t,N,"BEFORE_LOAD")}).then(O)}catch(N){b(),tf(n,t,N,"BEFORE_LOAD")}O(D)},_j=(n,e)=>{const{id:t,routeId:r}=n.matches[e],i=n.router.looseRoutesById[r],a=()=>{if(n.router.isServer){const d=mj(n,t,e,i);if(Cs(d))return d.then(u)}return u()},c=()=>yj(n,t,e,i),u=()=>{if(YD(n,t))return;const d=vj(n,t,i);return Cs(d)?d.then(c):c()};return a()},wf=(n,e,t)=>{var a,c,u,d,f,p;const r=n.router.getMatch(e);if(!r||!t.options.head&&!t.options.scripts&&!t.options.headers)return;const i={matches:n.matches,match:r,params:r.params,loaderData:r.loaderData};return Promise.all([(c=(a=t.options).head)==null?void 0:c.call(a,i),(d=(u=t.options).scripts)==null?void 0:d.call(u,i),(p=(f=t.options).headers)==null?void 0:p.call(f,i)]).then(([g,v,y])=>{const b=g==null?void 0:g.meta,C=g==null?void 0:g.links,E=g==null?void 0:g.scripts,S=g==null?void 0:g.styles;return{meta:b,links:C,headScripts:E,headers:y,scripts:v,styles:S}})},ZD=(n,e,t,r)=>{const i=n.matchPromises[t-1],{params:a,loaderDeps:c,abortController:u,context:d,cause:f}=n.router.getMatch(e),p=U_(n,e);return{params:a,deps:c,preload:!!p,parentMatchPromise:i,abortController:u,context:d,location:n.location,navigate:g=>n.router.navigate({...g,_fromLocation:n.location}),cause:p?"preload":f,route:r,...n.router.options.additionalContext}},EN=async(n,e,t,r)=>{var i,a,c,u;try{const d=n.router.getMatch(e);try{(!n.router.isServer||d.ssr===!0)&&WD(r);const f=(a=(i=r.options).loader)==null?void 0:a.call(i,ZD(n,e,t,r)),p=r.options.loader&&Cs(f);if(!!(p||r._lazyPromise||r._componentsPromise||r.options.head||r.options.scripts||r.options.headers||d._nonReactive.minPendingPromise)&&n.updateMatch(e,C=>({...C,isFetching:"loader"})),r.options.loader){const C=p?await f:f;vs(n,n.router.getMatch(e),C),C!==void 0&&n.updateMatch(e,E=>({...E,loaderData:C}))}r._lazyPromise&&await r._lazyPromise;const v=wf(n,e,r),y=v?await v:void 0,b=d._nonReactive.minPendingPromise;b&&await b,r._componentsPromise&&await r._componentsPromise,n.updateMatch(e,C=>({...C,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...y}))}catch(f){let p=f;const g=d._nonReactive.minPendingPromise;g&&await g,vs(n,n.router.getMatch(e),f);try{(u=(c=r.options).onError)==null||u.call(c,f)}catch(b){p=b,vs(n,n.router.getMatch(e),b)}const v=wf(n,e,r),y=v?await v:void 0;n.updateMatch(e,b=>({...b,error:p,status:"error",isFetching:!1,...y}))}}catch(d){const f=n.router.getMatch(e);if(f){const p=wf(n,e,r);if(p){const g=await p;n.updateMatch(e,v=>({...v,...g}))}f._nonReactive.loaderPromise=void 0}vs(n,f,d)}},bj=async(n,e)=>{var f,p;const{id:t,routeId:r}=n.matches[e];let i=!1,a=!1;const c=n.router.looseRoutesById[r];if(YD(n,t)){if(n.router.isServer){const g=wf(n,t,c);if(g){const v=await g;n.updateMatch(t,y=>({...y,...v}))}return n.router.getMatch(t)}}else{const g=n.router.getMatch(t);if(g._nonReactive.loaderPromise){if(g.status==="success"&&!n.sync&&!g.preload)return g;await g._nonReactive.loaderPromise;const v=n.router.getMatch(t);v.error&&vs(n,v,v.error)}else{const v=Date.now()-g.updatedAt,y=U_(n,t),b=y?c.options.preloadStaleTime??n.router.options.defaultPreloadStaleTime??3e4:c.options.staleTime??n.router.options.defaultStaleTime??0,C=c.options.shouldReload,E=typeof C=="function"?C(ZD(n,t,e,c)):C,S=!!y&&!n.router.state.matches.some(O=>O.id===t),w=n.router.getMatch(t);w._nonReactive.loaderPromise=dd(),S!==w.preload&&n.updateMatch(t,O=>({...O,preload:S}));const{status:A,invalid:k}=w;if(i=A==="success"&&(k||(E??v>b)),!(y&&c.options.preload===!1))if(i&&!n.sync)a=!0,(async()=>{var O,D;try{await EN(n,t,e,c);const M=n.router.getMatch(t);(O=M._nonReactive.loaderPromise)==null||O.resolve(),(D=M._nonReactive.loadPromise)==null||D.resolve(),M._nonReactive.loaderPromise=void 0}catch(M){Eo(M)&&await n.router.navigate(M.options)}})();else if(A!=="success"||i&&n.sync)await EN(n,t,e,c);else{const O=wf(n,t,c);if(O){const D=await O;n.updateMatch(t,M=>({...M,...D}))}}}}const u=n.router.getMatch(t);a||((f=u._nonReactive.loaderPromise)==null||f.resolve(),(p=u._nonReactive.loadPromise)==null||p.resolve()),clearTimeout(u._nonReactive.pendingTimeout),u._nonReactive.pendingTimeout=void 0,a||(u._nonReactive.loaderPromise=void 0),u._nonReactive.dehydrated=void 0;const d=a?u.isFetching:!1;return d!==u.isFetching||u.invalid!==!1?(n.updateMatch(t,g=>({...g,isFetching:d,invalid:!1})),n.router.getMatch(t)):u};async function CN(n){const e=Object.assign(n,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(t=>t._forcePending)&&qv(e);try{for(let i=0;i<e.matches.length;i++){const a=_j(e,i);Cs(a)&&await a}const t=e.firstBadMatchIndex??e.matches.length;for(let i=0;i<t;i++)e.matchPromises.push(bj(e,i));await Promise.all(e.matchPromises);const r=qv(e);Cs(r)&&await r}catch(t){if(Mo(t)&&!e.preload){const r=qv(e);throw Cs(r)&&await r,t}if(Eo(t))throw t}return e.matches}async function WD(n){if(!n._lazyLoaded&&n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(e=>{const{id:t,...r}=e.options;Object.assign(n.options,r),n._lazyLoaded=!0,n._lazyPromise=void 0}):n._lazyLoaded=!0),!n._componentsLoaded&&n._componentsPromise===void 0){const e=()=>{var r;const t=[];for(const i of JD){const a=(r=n.options[i])==null?void 0:r.preload;a&&t.push(a())}if(t.length)return Promise.all(t).then(()=>{n._componentsLoaded=!0,n._componentsPromise=void 0});n._componentsLoaded=!0,n._componentsPromise=void 0};n._componentsPromise=n._lazyPromise?n._lazyPromise.then(e):e()}return n._componentsPromise}function ov(n,e){return e?{status:"error",error:e}:{status:"success",value:n}}function XD(n){var e;for(const t of JD)if((e=n.options[t])!=null&&e.preload)return!0;return!1}const JD=["component","errorComponent","pendingComponent","notFoundComponent"];function Ej(n){return{input:({url:e})=>{for(const t of n)e=e1(t,e);return e},output:({url:e})=>{for(let t=n.length-1;t>=0;t--)e=t1(n[t],e);return e}}}function Cj(n){const e=jT(n.basepath),t=`/${e}`,r=`${t}/`,i=n.caseSensitive?t:t.toLowerCase(),a=n.caseSensitive?r:r.toLowerCase();return{input:({url:c})=>{const u=n.caseSensitive?c.pathname:c.pathname.toLowerCase();return u===i?c.pathname="/":u.startsWith(a)&&(c.pathname=c.pathname.slice(t.length)),c},output:({url:c})=>(c.pathname=ca(["/",e,c.pathname]),c)}}function e1(n,e){var r;const t=(r=n==null?void 0:n.input)==null?void 0:r.call(n,{url:e});if(t){if(typeof t=="string")return new URL(t);if(t instanceof URL)return t}return e}function t1(n,e){var r;const t=(r=n==null?void 0:n.output)==null?void 0:r.call(n,{url:e});if(t){if(typeof t=="string")return new URL(t);if(t instanceof URL)return t}return e}function Ic(n){const e=n.resolvedLocation,t=n.location,r=(e==null?void 0:e.pathname)!==t.pathname,i=(e==null?void 0:e.href)!==t.href,a=(e==null?void 0:e.hash)!==t.hash;return{fromLocation:e,toLocation:t,pathChanged:r,hrefChanged:i,hashChanged:a}}class Sj{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=t=>t(),this.update=t=>{var r;if(t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info."),this.options={...this.options,...t},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(i=>[encodeURIComponent(i),i])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=I$())),this.options.basepath){const i=Cj({basepath:this.options.basepath});this.options.rewrite?this.rewrite=Ej([i,this.options.rewrite]):this.rewrite=i}else this.rewrite=this.options.rewrite;this.origin=this.options.origin,this.origin||(this.isServer?this.origin="http://localhost":this.origin=window.origin),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new qT(Aj(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(i=>!["redirected"].includes(i.status))}}}),aj(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:t,routesByPath:r,flatRoutes:i}=tj({routeTree:this.routeTree,initRoute:(c,u)=>{c.init({originalIndex:u})}});this.routesById=t,this.routesByPath=r,this.flatRoutes=i;const a=this.options.notFoundRoute;a&&(a.init({originalIndex:99999999999}),this.routesById[a.id]=a)},this.subscribe=(t,r)=>{const i={eventType:t,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=t=>{this.subscribers.forEach(r=>{r.eventType===t.type&&r.fn(t)})},this.parseLocation=(t,r)=>{const i=({href:d,state:f})=>{const p=new URL(d,this.origin),g=e1(this.rewrite,p),v=this.options.parseSearch(g.search),y=this.options.stringifySearch(v);g.search=y;const b=g.href.replace(g.origin,""),{pathname:C,hash:E}=g;return{href:b,publicHref:d,url:g.href,pathname:C,searchStr:y,search:Ci(r==null?void 0:r.search,v),hash:E.split("#").reverse()[0]??"",state:Ci(r==null?void 0:r.state,f)}},a=i(t),{__tempLocation:c,__tempKey:u}=a.state;if(c&&(!u||u===this.tempLocationKey)){const d=i(c);return d.state.key=a.state.key,d.state.__TSR_key=a.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:a}}return a},this.resolvePathWithBase=(t,r)=>D$({base:t,to:Tw(r),trailingSlash:this.options.trailingSlash,parseCache:this.parsePathnameCache}),this.matchRoutes=(t,r,i)=>typeof t=="string"?this.matchRoutesInternal({pathname:t,search:r},i):this.matchRoutesInternal(t,r),this.parsePathnameCache=gj(1e3),this.getMatchedRoutes=(t,r)=>wj({pathname:t,routePathname:r,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes,parseCache:this.parsePathnameCache}),this.cancelMatch=t=>{const r=this.getMatch(t);r&&(r.abortController.abort(),clearTimeout(r._nonReactive.pendingTimeout),r._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{var t;(t=this.state.pendingMatches)==null||t.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=t=>{const r=(a={})=>{var F,oe;const c=a._fromLocation||this.latestLocation,u=this.matchRoutes(c,{_buildLocation:!0}),d=$T(u);a.from;const f=a.unsafeRelative==="path"?c.pathname:a.from??d.fullPath,p=this.resolvePathWithBase(f,"."),g=d.search,v={...d.params},y=a.to?this.resolvePathWithBase(p,`${a.to}`):this.resolvePathWithBase(p,"."),b=a.params===!1||a.params===null?{}:(a.params??!0)===!0?v:Object.assign(v,Rc(a.params,v)),C=rv({path:y,params:b,parseCache:this.parsePathnameCache}).interpolatedPath,E=this.matchRoutes(C,void 0,{_buildLocation:!0}).map(ue=>this.looseRoutesById[ue.routeId]);if(Object.keys(b).length>0)for(const ue of E){const me=((F=ue.options.params)==null?void 0:F.stringify)??ue.options.stringifyParams;me&&Object.assign(b,me(b))}const S=rv({path:y,params:b,leaveWildcards:!1,leaveParams:t.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath;let w=g;if(t._includeValidateSearch&&((oe=this.options.search)!=null&&oe.strict)){const ue={};E.forEach(me=>{if(me.options.validateSearch)try{Object.assign(ue,YT(me.options.validateSearch,{...ue,...w}))}catch{}}),w=ue}w=Rj({search:w,dest:a,destRoutes:E,_includeValidateSearch:t._includeValidateSearch}),w=Ci(g,w);const A=this.options.stringifySearch(w),k=a.hash===!0?c.hash:a.hash?Rc(a.hash,c.hash):void 0,O=k?`#${k}`:"";let D=a.state===!0?c.state:a.state?Rc(a.state,c.state):{};D=Ci(c.state,D);const M=`${S}${A}${O}`,N=new URL(M,this.origin),K=t1(this.rewrite,N);return{publicHref:K.pathname+K.search+K.hash,href:M,url:K.href,pathname:S,search:w,searchStr:A,state:D,hash:k??"",unmaskOnReload:a.unmaskOnReload}},i=(a={},c)=>{var f;const u=r(a);let d=c?r(c):void 0;if(!d){let p={};const g=(f=this.options.routeMasks)==null?void 0:f.find(v=>{const y=GT(u.pathname,{to:v.from,caseSensitive:!1,fuzzy:!1},this.parsePathnameCache);return y?(p=y,!0):!1});if(g){const{from:v,...y}=g;c={from:t.from,...y,params:p},d=r(c)}}return d&&(u.maskedLocation=d),u};return t.mask?i(t,{from:t.from,...t.mask}):i(t)},this.commitLocation=({viewTransition:t,ignoreBlocker:r,...i})=>{const a=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(p=>{i.state[p]=this.latestLocation.state[p]});const f=kc(i.state,this.latestLocation.state);return d.forEach(p=>{delete i.state[p]}),f},c=Ss(this.latestLocation.href)===Ss(i.href),u=this.commitLocationPromise;if(this.commitLocationPromise=dd(()=>{u==null||u.resolve()}),c&&a())this.load();else{let{maskedLocation:d,hashScrollIntoView:f,...p}=i;d&&(p={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...p,search:p.searchStr,state:{...p.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(p.unmaskOnReload??this.options.unmaskOnReload??!1)&&(p.state.__tempKey=this.tempLocationKey)),p.state.__hashScrollIntoViewOptions=f??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[i.replace?"replace":"push"](p.publicHref,p.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:r,hashScrollIntoView:i,viewTransition:a,ignoreBlocker:c,href:u,...d}={})=>{if(u){const p=this.history.location.state.__TSR_index,g=gy(u,{__TSR_index:t?p:p+1});d.to=g.pathname,d.search=this.options.parseSearch(g.search),d.hash=g.hash.slice(1)}const f=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...f,viewTransition:a,replace:t,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:c})},this.navigate=({to:t,reloadDocument:r,href:i,...a})=>{if(!r&&i)try{new URL(`${i}`),r=!0}catch{}return r?(i||(i=this.buildLocation({to:t,...a}).href),a.replace?window.location.replace(i):window.location.href=i,Promise.resolve()):this.buildAndCommitLocation({...a,href:i,to:t,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const r=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),i=a=>{try{return encodeURI(decodeURI(a))}catch{return a}};if(jT(i(this.latestLocation.href))!==jT(i(r.href)))throw pj({href:r.href})}const t=this.matchRoutes(this.latestLocation);this.__store.setState(r=>({...r,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:t,cachedMatches:r.cachedMatches.filter(i=>!t.some(a=>a.id===i.id))}))},this.load=async t=>{let r,i,a;for(a=new Promise(c=>{this.startTransition(async()=>{var u;try{this.beforeLoad();const d=this.latestLocation,f=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...Ic({resolvedLocation:f,location:d})}),this.emit({type:"onBeforeLoad",...Ic({resolvedLocation:f,location:d})}),await CN({router:this,sync:t==null?void 0:t.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startViewTransition(async()=>{let p,g,v;Af(()=>{this.__store.setState(y=>{const b=y.matches,C=y.pendingMatches||y.matches;return p=b.filter(E=>!C.some(S=>S.id===E.id)),g=C.filter(E=>!b.some(S=>S.id===E.id)),v=b.filter(E=>C.some(S=>S.id===E.id)),{...y,isLoading:!1,loadedAt:Date.now(),matches:C,pendingMatches:void 0,cachedMatches:[...y.cachedMatches,...p.filter(E=>E.status!=="error")]}}),this.clearExpiredCache()}),[[p,"onLeave"],[g,"onEnter"],[v,"onStay"]].forEach(([y,b])=>{y.forEach(C=>{var E,S;(S=(E=this.looseRoutesById[C.routeId].options)[b])==null||S.call(E,C)})})})}})}catch(d){Eo(d)?(r=d,this.isServer||this.navigate({...r.options,replace:!0,ignoreBlocker:!0})):Mo(d)&&(i=d),this.__store.setState(f=>({...f,statusCode:r?r.status:i?404:f.matches.some(p=>p.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===a&&((u=this.commitLocationPromise)==null||u.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),c()})}),this.latestLoadPromise=a,await a;this.latestLoadPromise&&a!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(c=>({...c,statusCode:404}))},this.startViewTransition=t=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const a=this.latestLocation,c=this.state.resolvedLocation,u=typeof r.types=="function"?r.types(Ic({resolvedLocation:c,location:a})):r.types;i={update:t,types:u}}else i=t;document.startViewTransition(i)}else t()},this.updateMatch=(t,r)=>{var a;const i=(a=this.state.pendingMatches)!=null&&a.some(c=>c.id===t)?"pendingMatches":this.state.matches.some(c=>c.id===t)?"matches":this.state.cachedMatches.some(c=>c.id===t)?"cachedMatches":"";i&&this.__store.setState(c=>{var u;return{...c,[i]:(u=c[i])==null?void 0:u.map(d=>d.id===t?r(d):d)}})},this.getMatch=t=>{var i;const r=a=>a.id===t;return this.state.cachedMatches.find(r)??((i=this.state.pendingMatches)==null?void 0:i.find(r))??this.state.matches.find(r)},this.invalidate=t=>{const r=i=>{var a;return((a=t==null?void 0:t.filter)==null?void 0:a.call(t,i))??!0?{...i,invalid:!0,...t!=null&&t.forcePending||i.status==="error"?{status:"pending",error:void 0}:void 0}:i};return this.__store.setState(i=>{var a;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(a=i.pendingMatches)==null?void 0:a.map(r)}}),this.shouldViewTransition=!1,this.load({sync:t==null?void 0:t.sync})},this.resolveRedirect=t=>{if(!t.options.href){const r=this.buildLocation(t.options);let i=r.url;this.origin&&i.startsWith(this.origin)&&(i=i.replace(this.origin,"")||"/"),t.options.href=r.href,t.headers.set("Location",i)}return t.headers.get("Location")||t.headers.set("Location",t.options.href),t},this.clearCache=t=>{const r=t==null?void 0:t.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(a=>!r(a))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const t=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const a=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return r.status==="error"?!0:Date.now()-r.updatedAt>=a};this.clearCache({filter:t})},this.loadRouteChunk=WD,this.preloadRoute=async t=>{const r=this.buildLocation(t);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:t});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(u=>u.id)),c=new Set([...a,...this.state.cachedMatches.map(u=>u.id)]);Af(()=>{i.forEach(u=>{c.has(u.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,u]}))})});try{return i=await CN({router:this,matches:i,location:r,preload:!0,updateMatch:(u,d)=>{a.has(u)?i=i.map(f=>f.id===u?d(f):f):this.updateMatch(u,d)}}),i}catch(u){if(Eo(u))return u.options.reloadDocument?void 0:await this.preloadRoute({...u.options,_fromLocation:r});Mo(u)||console.error(u);return}},this.matchRoute=(t,r)=>{const i={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},a=this.buildLocation(i);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const u=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=GT(u.pathname,{...r,to:a.pathname},this.parsePathnameCache);return!d||t.params&&!kc(d,t.params,{partial:!0})?!1:d&&((r==null?void 0:r.includeSearch)??!0)?kc(u.search,a.search,{partial:!0})?d:!1:d},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>t.status==="notFound"||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??dj,parseSearch:e.parseSearch??uj}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,t){var p;const{foundRoute:r,matchedRoutes:i,routeParams:a}=this.getMatchedRoutes(e.pathname,(p=t==null?void 0:t.dest)==null?void 0:p.to);let c=!1;(r?r.path!=="/"&&a["**"]:Ss(e.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):c=!0);const u=(()=>{if(c){if(this.options.notFoundMode!=="root")for(let g=i.length-1;g>=0;g--){const v=i[g];if(v.children)return v.id}return ri}})(),d=[],f=g=>(g==null?void 0:g.id)?g.context??this.options.context??void 0:this.options.context??void 0;return i.forEach((g,v)=>{var me,X,he;const y=d[v-1],[b,C,E]=(()=>{const z=(y==null?void 0:y.search)??e.search,L=(y==null?void 0:y._strictSearch)??void 0;try{const V=YT(g.options.validateSearch,{...z})??void 0;return[{...z,...V},{...L,...V},void 0]}catch(V){let _e=V;if(V instanceof by||(_e=new by(V.message,{cause:V})),t!=null&&t.throwOnError)throw _e;return[z,{},_e]}})(),S=((X=(me=g.options).loaderDeps)==null?void 0:X.call(me,{search:b}))??"",w=S?JSON.stringify(S):"",{interpolatedPath:A,usedParams:k}=rv({path:g.fullPath,params:a,decodeCharMap:this.pathParamsDecodeCharMap}),O=rv({path:g.id,params:a,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath+w,D=this.getMatch(O),M=this.state.matches.find(z=>z.routeId===g.id),N=(D==null?void 0:D._strictParams)??k;let K;if(!D){const z=((he=g.options.params)==null?void 0:he.parse)??g.options.parseParams;if(z)try{Object.assign(N,z(N))}catch(L){if(K=new Tj(L.message,{cause:L}),t!=null&&t.throwOnError)throw K}}Object.assign(a,N);const F=M?"stay":"enter";let oe;if(D)oe={...D,cause:F,params:M?Ci(M.params,a):a,_strictParams:N,search:Ci(M?M.search:D.search,b),_strictSearch:C};else{const z=g.options.loader||g.options.beforeLoad||g.lazyFn||XD(g)?"pending":"success";oe={id:O,index:v,routeId:g.id,params:M?Ci(M.params,a):a,_strictParams:N,pathname:A,updatedAt:Date.now(),search:M?Ci(M.search,b):b,_strictSearch:C,searchError:void 0,status:z,isFetching:!1,error:void 0,paramsError:K,__routeContext:void 0,_nonReactive:{loadPromise:dd()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:F,loaderDeps:M?Ci(M.loaderDeps,S):S,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:g.options.staticData||{},fullPath:g.fullPath}}t!=null&&t.preload||(oe.globalNotFound=u===g.id),oe.searchError=E;const ue=f(y);oe.context={...ue,...oe.__routeContext,...oe.__beforeLoadContext},d.push(oe)}),d.forEach((g,v)=>{const y=this.looseRoutesById[g.routeId];if(!this.getMatch(g.id)&&(t==null?void 0:t._buildLocation)!==!0){const C=d[v-1],E=f(C);if(y.options.context){const S={deps:g.loaderDeps,params:g.params,context:E??{},location:e,navigate:w=>this.navigate({...w,_fromLocation:e}),buildLocation:this.buildLocation,cause:g.cause,abortController:g.abortController,preload:!!g.preload,matches:d};g.__routeContext=y.options.context(S)??void 0}g.context={...E,...g.__routeContext,...g.__beforeLoadContext}}}),d}}class by extends Error{}class Tj extends Error{}function Aj(n){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:n,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function YT(n,e){if(n==null)return{};if("~standard"in n){const t=n["~standard"].validate(e);if(t instanceof Promise)throw new by("Async validation not supported");if(t.issues)throw new by(JSON.stringify(t.issues,void 0,2),{cause:t});return t.value}return"parse"in n?n.parse(e):typeof n=="function"?n(e):{}}function wj({pathname:n,routePathname:e,caseSensitive:t,routesByPath:r,routesById:i,flatRoutes:a,parseCache:c}){let u={};const d=Ss(n),f=y=>{var C;return GT(d,{to:y.fullPath,caseSensitive:((C=y.options)==null?void 0:C.caseSensitive)??t,fuzzy:!0},c)};let p=e!==void 0?r[e]:void 0;if(p)u=f(p);else{let y;for(const b of a){const C=f(b);if(C)if(b.path!=="/"&&C["**"])y||(y={foundRoute:b,routeParams:C});else{p=b,u=C;break}}!p&&y&&(p=y.foundRoute,u=y.routeParams)}let g=p||i[ri];const v=[g];for(;g.parentRoute;)g=g.parentRoute,v.push(g);return v.reverse(),{matchedRoutes:v,routeParams:u,foundRoute:p}}function Rj({search:n,dest:e,destRoutes:t,_includeValidateSearch:r}){const i=t.reduce((u,d)=>{var p;const f=[];if("search"in d.options)(p=d.options.search)!=null&&p.middlewares&&f.push(...d.options.search.middlewares);else if(d.options.preSearchFilters||d.options.postSearchFilters){const g=({search:v,next:y})=>{let b=v;"preSearchFilters"in d.options&&d.options.preSearchFilters&&(b=d.options.preSearchFilters.reduce((E,S)=>S(E),v));const C=y(b);return"postSearchFilters"in d.options&&d.options.postSearchFilters?d.options.postSearchFilters.reduce((E,S)=>S(E),C):C};f.push(g)}if(r&&d.options.validateSearch){const g=({search:v,next:y})=>{const b=y(v);try{return{...b,...YT(d.options.validateSearch,b)??void 0}}catch{return b}};f.push(g)}return u.concat(f)},[])??[],a=({search:u})=>e.search?e.search===!0?u:Rc(e.search,u):{};i.push(a);const c=(u,d)=>{if(u>=i.length)return d;const f=i[u];return f({search:d,next:g=>c(u+1,g)})};return c(0,n)}const kj="Error preloading route! ";class n1{constructor(e){if(this.init=t=>{var f,p;this.originalIndex=t.originalIndex;const r=this.options,i=!(r!=null&&r.path)&&!(r!=null&&r.id);this.parentRoute=(p=(f=this.options).getParentRoute)==null?void 0:p.call(f),i?this._path=ri:this.parentRoute||ga(!1);let a=i?ri:r==null?void 0:r.path;a&&a!=="/"&&(a=Aw(a));const c=(r==null?void 0:r.id)||a;let u=i?ri:ca([this.parentRoute.id===ri?"":this.parentRoute.id,c]);a===ri&&(a="/"),u!==ri&&(u=ca(["/",u]));const d=u===ri?"/":ca([this.parentRoute.fullPath,a]);this._path=a,this._id=u,this._fullPath=d,this._to=d},this.clone=t=>{this._path=t._path,this._id=t._id,this._fullPath=t._fullPath,this._to=t._to,this.options.getParentRoute=t.options.getParentRoute,this.children=t.children},this.addChildren=t=>this._addFileChildren(t),this._addFileChildren=t=>(Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this),this._addFileTypes=()=>this,this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),e!=null&&e.id&&(e!=null&&e.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class Ij{constructor({id:e}){this.notFound=t=>jD({routeId:this.id,...t}),this.id=e}}class Oj extends n1{constructor(e){super(e)}}function Eee(n){return({search:e,next:t})=>{const r=t(e);return n===!0?{...e,...r}:(n.forEach(i=>{i in r||(r[i]=e[i])}),r)}}function ww(n){const e=n.errorComponent??z_;return Fe.jsx(Nj,{getResetKey:n.getResetKey,onCatch:n.onCatch,children:({error:t,reset:r})=>t?be.createElement(e,{error:t,reset:r}):n.children})}class Nj extends be.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,t){t.error&&t.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,t){this.props.onCatch&&this.props.onCatch(e,t)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function z_({error:n}){const[e,t]=be.useState(!1);return Fe.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[Fe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[Fe.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),Fe.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>t(r=>!r),children:e?"Hide Error":"Show Error"})]}),Fe.jsx("div",{style:{height:".25rem"}}),e?Fe.jsx("div",{children:Fe.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:n.message?Fe.jsx("code",{children:n.message}):null})}):null]})}function Mj({children:n,fallback:e=null}){return Pj()?Fe.jsx(Hc.Fragment,{children:n}):Fe.jsx(Hc.Fragment,{children:e})}function Pj(){return Hc.useSyncExternalStore(xj,()=>!0,()=>!1)}function xj(){return()=>{}}var $C={exports:{}},jC={},GC={exports:{}},VC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN;function Dj(){if(SN)return VC;SN=1;var n=Rg();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,a=n.useLayoutEffect,c=n.useDebugValue;function u(g,v){var y=v(),b=r({inst:{value:y,getSnapshot:v}}),C=b[0].inst,E=b[1];return a(function(){C.value=y,C.getSnapshot=v,d(C)&&E({inst:C})},[g,y,v]),i(function(){return d(C)&&E({inst:C}),g(function(){d(C)&&E({inst:C})})},[g]),c(y),y}function d(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!t(g,y)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return VC.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,VC}var TN;function Lj(){return TN||(TN=1,GC.exports=Dj()),GC.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AN;function Uj(){if(AN)return jC;AN=1;var n=Rg(),e=Lj();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=n.useRef,c=n.useEffect,u=n.useMemo,d=n.useDebugValue;return jC.useSyncExternalStoreWithSelector=function(f,p,g,v,y){var b=a(null);if(b.current===null){var C={hasValue:!1,value:null};b.current=C}else C=b.current;b=u(function(){function S(D){if(!w){if(w=!0,A=D,D=v(D),y!==void 0&&C.hasValue){var M=C.value;if(y(M,D))return k=M}return k=D}if(M=k,r(A,D))return M;var N=v(D);return y!==void 0&&y(M,N)?(A=D,M):(A=D,k=N)}var w=!1,A,k,O=g===void 0?null:g;return[function(){return S(p())},O===null?void 0:function(){return S(O())}]},[p,g,v,y]);var E=i(f,b[0],b[1]);return c(function(){C.hasValue=!0,C.value=E},[E]),d(E),E},jC}var wN;function zj(){return wN||(wN=1,$C.exports=Uj()),$C.exports}var Hj=zj();function Fj(n,e=t=>t){return Hj.useSyncExternalStoreWithSelector(n.subscribe,()=>n.state,()=>n.state,e,Bj)}function Bj(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(const[r,i]of n)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;return!0}if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}const YC=be.createContext(null);function r1(){return typeof document>"u"?YC:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=YC,YC)}function mr(n){const e=be.useContext(r1());return n==null||n.warn,e}function gr(n){const e=mr({warn:(n==null?void 0:n.router)===void 0}),t=(n==null?void 0:n.router)||e,r=be.useRef(void 0);return Fj(t.__store,i=>{if(n!=null&&n.select){if(n.structuralSharing??t.options.defaultStructuralSharing){const a=Ci(r.current,n.select(i));return r.current=a,a}return n.select(i)}return i})}const H_=be.createContext(void 0),Kj=be.createContext(void 0);function Ni(n){const e=be.useContext(n.from?Kj:H_);return gr({select:r=>{const i=r.matches.find(a=>n.from?n.from===a.routeId:a.id===e);if(ga(!((n.shouldThrow??!0)&&!i),`Could not find ${n.from?`an active match from "${n.from}"`:"a nearest match!"}`),i!==void 0)return n.select?n.select(i):i},structuralSharing:n.structuralSharing})}function F_(n){return Ni({from:n.from,strict:n.strict,structuralSharing:n.structuralSharing,select:e=>n.select?n.select(e.loaderData):e.loaderData})}function B_(n){const{select:e,...t}=n;return Ni({...t,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function K_(n){return Ni({from:n.from,shouldThrow:n.shouldThrow,structuralSharing:n.structuralSharing,strict:n.strict,select:e=>{const t=n.strict===!1?e.params:e._strictParams;return n.select?n.select(t):t}})}function q_(n){return Ni({from:n.from,strict:n.strict,shouldThrow:n.shouldThrow,structuralSharing:n.structuralSharing,select:e=>n.select?n.select(e.search):e.search})}function $_(n){const e=mr();return be.useCallback(t=>e.navigate({...t,from:t.from??(n==null?void 0:n.from)}),[n==null?void 0:n.from,e])}var qj=AD();const av=typeof window<"u"?be.useLayoutEffect:be.useEffect;function QC(n){const e=be.useRef({value:n,prev:null}),t=e.current.value;return n!==t&&(e.current={value:n,prev:t}),e.current.prev}function $j(n,e,t={},r={}){be.useEffect(()=>{if(!n.current||r.disabled||typeof IntersectionObserver!="function")return;const i=new IntersectionObserver(([a])=>{e(a)},t);return i.observe(n.current),()=>{i.disconnect()}},[e,t,r.disabled,n])}function jj(n){const e=be.useRef(null);return be.useImperativeHandle(n,()=>e.current,[]),e}function Gj(n,e){const t=mr(),[r,i]=be.useState(!1),a=be.useRef(!1),c=jj(e),{activeProps:u,inactiveProps:d,activeOptions:f,to:p,preload:g,preloadDelay:v,hashScrollIntoView:y,replace:b,startTransition:C,resetScroll:E,viewTransition:S,children:w,target:A,disabled:k,style:O,className:D,onClick:M,onFocus:N,onMouseEnter:K,onMouseLeave:F,onTouchStart:oe,ignoreBlocker:ue,params:me,search:X,hash:he,state:z,mask:L,reloadDocument:V,unsafeRelative:_e,from:I,_fromLocation:W,...Q}=n,ce=gr({select:Be=>Be.location.search,structuralSharing:!0}),ve=n.from,Pe=be.useMemo(()=>({...n,from:ve}),[t,ce,ve,n._fromLocation,n.hash,n.to,n.search,n.params,n.state,n.mask,n.unsafeRelative]),Re=be.useMemo(()=>t.buildLocation({...Pe}),[t,Pe]),ot=be.useMemo(()=>{if(k)return;let Be=Re.maskedLocation?Re.maskedLocation.url:Re.url,at=!1;return t.origin&&(Be.startsWith(t.origin)?Be=t.history.createHref(Be.replace(t.origin,""))||"/":at=!0),{href:Be,external:at}},[k,Re.maskedLocation,Re.url,t.origin,t.history]),nt=be.useMemo(()=>{if(ot!=null&&ot.external)return ot.href;try{return new URL(p),p}catch{}},[p,ot]),Ot=n.reloadDocument||nt?!1:g??t.options.defaultPreload,sn=v??t.options.defaultPreloadDelay??0,Cn=gr({select:Be=>{if(nt)return!1;if(f!=null&&f.exact){if(!P$(Be.location.pathname,Re.pathname,t.basepath))return!1}else{const at=vy(Be.location.pathname,t.basepath),Bt=vy(Re.pathname,t.basepath);if(!(at.startsWith(Bt)&&(at.length===Bt.length||at[Bt.length]==="/")))return!1}return((f==null?void 0:f.includeSearch)??!0)&&!kc(Be.location.search,Re.search,{partial:!(f!=null&&f.exact),ignoreUndefined:!(f!=null&&f.explicitUndefined)})?!1:f!=null&&f.includeHash?Be.location.hash===Re.hash:!0}}),gt=be.useCallback(()=>{t.preloadRoute({...Pe}).catch(Be=>{console.warn(Be),console.warn(kj)})},[t,Pe]),yt=be.useCallback(Be=>{Be!=null&&Be.isIntersecting&&gt()},[gt]);$j(c,yt,Wj,{disabled:!!k||Ot!=="viewport"}),be.useEffect(()=>{a.current||!k&&Ot==="render"&&(gt(),a.current=!0)},[k,gt,Ot]);const Nt=Be=>{const at=Be.currentTarget.target,Bt=A!==void 0?A:at;if(!k&&!Xj(Be)&&!Be.defaultPrevented&&(!Bt||Bt==="_self")&&Be.button===0){Be.preventDefault(),qj.flushSync(()=>{i(!0)});const Ln=t.subscribe("onResolved",()=>{Ln(),i(!1)});t.navigate({...Pe,replace:b,resetScroll:E,hashScrollIntoView:y,startTransition:C,viewTransition:S,ignoreBlocker:ue})}};if(nt)return{...Q,ref:c,href:nt,...w&&{children:w},...A&&{target:A},...k&&{disabled:k},...O&&{style:O},...D&&{className:D},...M&&{onClick:M},...N&&{onFocus:N},...K&&{onMouseEnter:K},...F&&{onMouseLeave:F},...oe&&{onTouchStart:oe}};const J=Be=>{k||Ot&&gt()},Ce=J,Ae=Be=>{if(!(k||!Ot))if(!sn)gt();else{const at=Be.target;if(nf.has(at))return;const Bt=setTimeout(()=>{nf.delete(at),gt()},sn);nf.set(at,Bt)}},Oe=Be=>{if(k||!Ot||!sn)return;const at=Be.target,Bt=nf.get(at);Bt&&(clearTimeout(Bt),nf.delete(at))},De=Cn?Rc(u,{})??Vj:ZC,Xe=Cn?ZC:Rc(d,{})??ZC,Je=[D,De.className,Xe.className].filter(Boolean).join(" "),kt=(O||De.style||Xe.style)&&{...O,...De.style,...Xe.style};return{...Q,...De,...Xe,href:ot==null?void 0:ot.href,ref:c,onClick:rf([M,Nt]),onFocus:rf([N,J]),onMouseEnter:rf([K,Ae]),onMouseLeave:rf([F,Oe]),onTouchStart:rf([oe,Ce]),disabled:!!k,target:A,...kt&&{style:kt},...Je&&{className:Je},...k&&Yj,...Cn&&Qj,...r&&Zj}}const ZC={},Vj={className:"active"},Yj={role:"link","aria-disabled":!0},Qj={"data-status":"active","aria-current":"page"},Zj={"data-transitioning":"transitioning"},nf=new WeakMap,Wj={rootMargin:"100px"},rf=n=>e=>{for(const t of n)if(t){if(e.defaultPrevented)return;t(e)}},Rw=be.forwardRef((n,e)=>{const{_asChild:t,...r}=n,{type:i,ref:a,...c}=Gj(r,e),u=typeof r.children=="function"?r.children({isActive:c["data-status"]==="active"}):r.children;return t===void 0&&delete c.disabled,be.createElement(t||"a",{...c,ref:a},u)});function Xj(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Cee(n){return new Jj({id:n})}class Jj extends Ij{constructor({id:e}){super({id:e}),this.useMatch=t=>Ni({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Ni({from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>q_({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>K_({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>B_({...t,from:this.id,strict:!1}),this.useLoaderData=t=>F_({...t,from:this.id,strict:!1}),this.useNavigate=()=>{const t=mr();return $_({from:t.routesById[this.id].fullPath})},this.notFound=t=>jD({routeId:this.id,...t}),this.Link=Hc.forwardRef((t,r)=>{const a=mr().routesById[this.id].fullPath;return Fe.jsx(Rw,{ref:r,from:a,...t})})}}class eG extends n1{constructor(e){super(e),this.useMatch=t=>Ni({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Ni({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>q_({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>K_({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>B_({...t,from:this.id}),this.useLoaderData=t=>F_({...t,from:this.id}),this.useNavigate=()=>$_({from:this.fullPath}),this.Link=Hc.forwardRef((t,r)=>Fe.jsx(Rw,{ref:r,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}}function tG(n){return new eG(n)}function See(){return n=>rG(n)}class nG extends Oj{constructor(e){super(e),this.useMatch=t=>Ni({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Ni({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>q_({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>K_({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>B_({...t,from:this.id}),this.useLoaderData=t=>F_({...t,from:this.id}),this.useNavigate=()=>$_({from:this.fullPath}),this.Link=Hc.forwardRef((t,r)=>Fe.jsx(Rw,{ref:r,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}}function rG(n){return new nG(n)}function RN(n){return typeof n=="object"?new kN(n,{silent:!0}).createRoute(n):new kN(n,{silent:!0}).createRoute}class kN{constructor(e,t){this.path=e,this.createRoute=r=>{this.silent;const i=tG(r);return i.isRoot=!1,i},this.silent=t==null?void 0:t.silent}}class IN{constructor(e){this.useMatch=t=>Ni({select:t==null?void 0:t.select,from:this.options.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>Ni({from:this.options.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>q_({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useParams=t=>K_({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useLoaderDeps=t=>B_({...t,from:this.options.id}),this.useLoaderData=t=>F_({...t,from:this.options.id}),this.useNavigate=()=>{const t=mr();return $_({from:t.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function ON(n){return typeof n=="object"?new IN(n):e=>new IN({id:n,...e})}function iG(){const n=mr(),e=be.useRef({router:n,mounted:!1}),[t,r]=be.useState(!1),{hasPendingMatches:i,isLoading:a}=gr({select:g=>({isLoading:g.isLoading,hasPendingMatches:g.matches.some(v=>v.status==="pending")}),structuralSharing:!0}),c=QC(a),u=a||t||i,d=QC(u),f=a||i,p=QC(f);return n.startTransition=g=>{r(!0),be.startTransition(()=>{g(),r(!1)})},be.useEffect(()=>{const g=n.history.subscribe(n.load),v=n.buildLocation({to:n.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ss(n.latestLocation.href)!==Ss(v.href)&&n.commitLocation({...v,replace:!0}),()=>{g()}},[n,n.history]),av(()=>{if(typeof window<"u"&&n.ssr||e.current.router===n&&e.current.mounted)return;e.current={router:n,mounted:!0},(async()=>{try{await n.load()}catch(v){console.error(v)}})()},[n]),av(()=>{c&&!a&&n.emit({type:"onLoad",...Ic(n.state)})},[c,n,a]),av(()=>{p&&!f&&n.emit({type:"onBeforeRouteMount",...Ic(n.state)})},[f,p,n]),av(()=>{d&&!u&&(n.emit({type:"onResolved",...Ic(n.state)}),n.__store.setState(g=>({...g,status:"idle",resolvedLocation:g.location})),sj(n))},[u,d,n]),null}function oG(n){const e=gr({select:t=>`not-found-${t.location.pathname}-${t.status}`});return Fe.jsx(ww,{getResetKey:()=>e,onCatch:(t,r)=>{var i;if(Mo(t))(i=n.onCatch)==null||i.call(n,t,r);else throw t},errorComponent:({error:t})=>{var r;if(Mo(t))return(r=n.fallback)==null?void 0:r.call(n,t);throw t},children:n.children})}function aG(){return Fe.jsx("p",{children:"Not Found"})}function yu(n){return Fe.jsx(Fe.Fragment,{children:n.children})}function i1(n,e,t){return e.options.notFoundComponent?Fe.jsx(e.options.notFoundComponent,{data:t}):n.options.defaultNotFoundComponent?Fe.jsx(n.options.defaultNotFoundComponent,{data:t}):Fe.jsx(aG,{})}function sG({children:n}){var t;const e=mr();return e.isServer?Fe.jsx("script",{nonce:(t=e.options.ssr)==null?void 0:t.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:[n].filter(Boolean).join(`
`)+";$_TSR.c()"}}):null}function cG(){const n=mr();if(!n.isScrollRestoring||!n.isServer||typeof n.options.scrollRestoration=="function"&&!n.options.scrollRestoration({location:n.latestLocation}))return null;const t=(n.options.getScrollRestorationKey||VT)(n.latestLocation),r=t!==VT(n.latestLocation)?t:void 0,i={storageKey:yy,shouldScrollRestoration:!0};return r&&(i.key=r),Fe.jsx(sG,{children:`(${GD.toString()})(${JSON.stringify(i)})`})}const o1=be.memo(function({matchId:e}){var S,w;const t=mr(),r=gr({select:A=>{const k=A.matches.find(O=>O.id===e);return ga(k),{routeId:k.routeId,ssr:k.ssr,_displayPending:k._displayPending}},structuralSharing:!0}),i=t.routesById[r.routeId],a=i.options.pendingComponent??t.options.defaultPendingComponent,c=a?Fe.jsx(a,{}):null,u=i.options.errorComponent??t.options.defaultErrorComponent,d=i.options.onCatch??t.options.defaultOnCatch,f=i.isRoot?i.options.notFoundComponent??((S=t.options.notFoundRoute)==null?void 0:S.options.component):i.options.notFoundComponent,p=r.ssr===!1||r.ssr==="data-only",g=(!i.isRoot||i.options.wrapInSuspense||p)&&(i.options.wrapInSuspense??a??(((w=i.options.errorComponent)==null?void 0:w.preload)||p))?be.Suspense:yu,v=u?ww:yu,y=f?oG:yu,b=gr({select:A=>A.loadedAt}),C=gr({select:A=>{var O;const k=A.matches.findIndex(D=>D.id===e);return(O=A.matches[k-1])==null?void 0:O.routeId}}),E=i.isRoot?i.options.shellComponent??yu:yu;return Fe.jsxs(E,{children:[Fe.jsx(H_.Provider,{value:e,children:Fe.jsx(g,{fallback:c,children:Fe.jsx(v,{getResetKey:()=>b,errorComponent:u||z_,onCatch:(A,k)=>{if(Mo(A))throw A;d==null||d(A,k)},children:Fe.jsx(y,{fallback:A=>{if(!f||A.routeId&&A.routeId!==r.routeId||!A.routeId&&!i.isRoot)throw A;return be.createElement(f,A)},children:p||r._displayPending?Fe.jsx(Mj,{fallback:c,children:Fe.jsx(NN,{matchId:e})}):Fe.jsx(NN,{matchId:e})})})})}),C===ri&&t.options.scrollRestoration?Fe.jsxs(Fe.Fragment,{children:[Fe.jsx(lG,{}),Fe.jsx(cG,{})]}):null]})});function lG(){const n=mr(),e=be.useRef(void 0);return Fe.jsx("script",{suppressHydrationWarning:!0,ref:t=>{t&&(e.current===void 0||e.current.href!==n.latestLocation.href)&&(n.emit({type:"onRendered",...Ic(n.state)}),e.current=n.latestLocation)}},n.latestLocation.state.__TSR_key)}const NN=be.memo(function({matchId:e}){var d,f,p,g;const t=mr(),{match:r,key:i,routeId:a}=gr({select:v=>{const y=v.matches.find(w=>w.id===e),b=y.routeId,C=t.routesById[b].options.remountDeps??t.options.defaultRemountDeps,E=C==null?void 0:C({routeId:b,loaderDeps:y.loaderDeps,params:y._strictParams,search:y._strictSearch});return{key:E?JSON.stringify(E):void 0,routeId:b,match:{id:y.id,status:y.status,error:y.error,_forcePending:y._forcePending,_displayPending:y._displayPending}}},structuralSharing:!0}),c=t.routesById[a],u=be.useMemo(()=>{const v=c.options.component??t.options.defaultComponent;return v?Fe.jsx(v,{},i):Fe.jsx(uG,{})},[i,c.options.component,t.options.defaultComponent]);if(r._displayPending)throw(d=t.getMatch(r.id))==null?void 0:d._nonReactive.displayPendingPromise;if(r._forcePending)throw(f=t.getMatch(r.id))==null?void 0:f._nonReactive.minPendingPromise;if(r.status==="pending"){const v=c.options.pendingMinMs??t.options.defaultPendingMinMs;if(v){const y=t.getMatch(r.id);if(y&&!y._nonReactive.minPendingPromise&&!t.isServer){const b=dd();y._nonReactive.minPendingPromise=b,setTimeout(()=>{b.resolve(),y._nonReactive.minPendingPromise=void 0},v)}}throw(p=t.getMatch(r.id))==null?void 0:p._nonReactive.loadPromise}if(r.status==="notFound")return ga(Mo(r.error)),i1(t,c,r.error);if(r.status==="redirected")throw ga(Eo(r.error)),(g=t.getMatch(r.id))==null?void 0:g._nonReactive.loadPromise;if(r.status==="error"){if(t.isServer){const v=(c.options.errorComponent??t.options.defaultErrorComponent)||z_;return Fe.jsx(v,{error:r.error,reset:void 0,info:{componentStack:""}})}throw r.error}return u}),uG=be.memo(function(){const e=mr(),t=be.useContext(H_),r=gr({select:f=>{var p;return(p=f.matches.find(g=>g.id===t))==null?void 0:p.routeId}}),i=e.routesById[r],a=gr({select:f=>{const g=f.matches.find(v=>v.id===t);return ga(g),g.globalNotFound}}),c=gr({select:f=>{var v;const p=f.matches,g=p.findIndex(y=>y.id===t);return(v=p[g+1])==null?void 0:v.id}}),u=e.options.defaultPendingComponent?Fe.jsx(e.options.defaultPendingComponent,{}):null;if(a)return i1(e,i,void 0);if(!c)return null;const d=Fe.jsx(o1,{matchId:c});return t===ri?Fe.jsx(be.Suspense,{fallback:u,children:d}):d});function dG(){const n=mr(),e=n.options.defaultPendingComponent?Fe.jsx(n.options.defaultPendingComponent,{}):null,t=n.isServer||typeof document<"u"&&n.ssr?yu:be.Suspense,r=Fe.jsxs(t,{fallback:e,children:[!n.isServer&&Fe.jsx(iG,{}),Fe.jsx(hG,{})]});return n.options.InnerWrap?Fe.jsx(n.options.InnerWrap,{children:r}):r}function hG(){const n=mr(),e=gr({select:i=>{var a;return(a=i.matches[0])==null?void 0:a.id}}),t=gr({select:i=>i.loadedAt}),r=e?Fe.jsx(o1,{matchId:e}):null;return Fe.jsx(H_.Provider,{value:e,children:n.options.disableGlobalCatchBoundary?r:Fe.jsx(ww,{getResetKey:()=>t,errorComponent:z_,onCatch:i=>{i.message||i.toString()},children:r})})}function Tee(n){return gr({select:e=>e.matches,structuralSharing:n==null?void 0:n.structuralSharing})}const Aee=n=>new fG(n);class fG extends Sj{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=RN,globalThis.createLazyFileRoute=ON):typeof window<"u"&&(window.createFileRoute=RN,window.createLazyFileRoute=ON);function pG({router:n,children:e,...t}){Object.keys(t).length>0&&n.update({...n.options,...t,context:{...n.options.context,...t.context}});const r=r1(),i=Fe.jsx(r.Provider,{value:n,children:e});return n.options.Wrap?Fe.jsx(n.options.Wrap,{children:i}):i}function wee({router:n,...e}){return Fe.jsx(pG,{router:n,...e,children:Fe.jsx(dG,{})})}function gG(n,e){if(n===void 0)return{shouldBlockFn:()=>!0,withResolver:!1};if("shouldBlockFn"in n)return n;if(typeof n=="function")return{shouldBlockFn:async()=>await n(),enableBeforeUnload:!0,withResolver:!1};const t=!!(n.condition??!0),r=n.blockerFn;return{shouldBlockFn:async()=>t&&r!==void 0?await r():t,enableBeforeUnload:t,withResolver:r===void 0}}function mG(n,e){const{shouldBlockFn:t,enableBeforeUnload:r=!0,disabled:i=!1,withResolver:a=!1}=gG(n),c=mr(),{history:u}=c,[d,f]=be.useState({status:"idle",current:void 0,next:void 0,action:void 0,proceed:void 0,reset:void 0});return be.useEffect(()=>{const p=async g=>{function v(w){const A=c.parseLocation(w),k=c.getMatchedRoutes(A.pathname,void 0);if(k.foundRoute===void 0)throw new Error(`No route found for location ${w.href}`);return{routeId:k.foundRoute.id,fullPath:k.foundRoute.fullPath,pathname:A.pathname,params:k.routeParams,search:A.search}}const y=v(g.currentLocation),b=v(g.nextLocation),C=await t({action:g.action,current:y,next:b});if(!a)return C;if(!C)return!1;const S=await new Promise(w=>{f({status:"blocked",current:y,next:b,action:g.action,proceed:()=>w(!1),reset:()=>w(!0)})});return f({status:"idle",current:void 0,next:void 0,action:void 0,proceed:void 0,reset:void 0}),S};return i?void 0:u.block({blockerFn:p,enableBeforeUnload:r})},[t,r,i,a,u,c]),d}const vG=n=>{if("shouldBlockFn"in n)return{...n};const e=!!(n.condition??!0),t=n.blockerFn;return{shouldBlockFn:async()=>e&&t!==void 0?await t():e,enableBeforeUnload:e,withResolver:t===void 0}};function Ree(n){const{children:e,...t}=n,r=vG(t),i=mG(r);return e?typeof e=="function"?e(i):e:null}function kee(n){return gr({select:e=>n!=null&&n.select?n.select(e.location):e.location})}const yG="modulepreload",_G=function(n){return"https://studiostaticassetsprod.azureedge.net/bundle-cmc/"+n},MN={},bG=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=c(t.map(f=>{if(f=_G(f),f in MN)return;MN[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":yG,p||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),p)return new Promise((y,b)=>{v.addEventListener("load",y),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},Qe=n=>typeof n=="string",of=()=>{let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},PN=n=>n==null?"":""+n,EG=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},CG=/###/g,xN=n=>n&&n.indexOf("###")>-1?n.replace(CG,"."):n,DN=n=>!n||Qe(n),Rf=(n,e,t)=>{const r=Qe(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(DN(n))return{};const a=xN(r[i]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++i}return DN(n)?{}:{obj:n,k:xN(r[i])}},LN=(n,e,t)=>{const{obj:r,k:i}=Rf(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let a=e[e.length-1],c=e.slice(0,e.length-1),u=Rf(n,c,Object);for(;u.obj===void 0&&c.length;)a=`${c[c.length-1]}.${a}`,c=c.slice(0,c.length-1),u=Rf(n,c,Object),u!=null&&u.obj&&typeof u.obj[`${u.k}.${a}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${a}`]=t},SG=(n,e,t,r)=>{const{obj:i,k:a}=Rf(n,e,Object);i[a]=i[a]||[],i[a].push(t)},Ey=(n,e)=>{const{obj:t,k:r}=Rf(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},TG=(n,e,t)=>{const r=Ey(n,t);return r!==void 0?r:Ey(e,t)},a1=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Qe(n[r])||n[r]instanceof String||Qe(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):a1(n[r],e[r],t):n[r]=e[r]);return n},au=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var AG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const wG=n=>Qe(n)?n.replace(/[&<>"'\/]/g,e=>AG[e]):n;class RG{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const kG=[" ",",","?","!",";"],IG=new RG(20),OG=(n,e,t)=>{e=e||"",t=t||"";const r=kG.filter(c=>e.indexOf(c)<0&&t.indexOf(c)<0);if(r.length===0)return!0;const i=IG.getRegExp(`(${r.map(c=>c==="?"?"\\?":c).join("|")})`);let a=!i.test(n);if(!a){const c=n.indexOf(t);c>0&&!i.test(n.substring(0,c))&&(a=!0)}return a},QT=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let i=n;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let c,u="";for(let d=a;d<r.length;++d)if(d!==a&&(u+=t),u+=r[d],c=i[u],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&d<r.length-1)continue;a+=d-a+1;break}i=c}return i},Kf=n=>n==null?void 0:n.replace("_","-"),NG={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};let MG=class ZT{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||NG,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(Qe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new ZT(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ZT(this.logger,e)}};var Co=new MG;class j_{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let c=0;c<a;c++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let c=0;c<a;c++)i.apply(i,[e,...t])})}}class UN extends j_{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){var f,p;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,c=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,t],r&&(Array.isArray(r)?u.push(...r):Qe(r)&&a?u.push(...r.split(a)):u.push(r)));const d=Ey(this.data,u);return!d&&!t&&!r&&e.indexOf(".")>-1&&(e=u[0],t=u[1],r=u.slice(2).join(".")),d||!c||!Qe(r)?d:QT((p=(f=this.data)==null?void 0:f[e])==null?void 0:p[t],r,a)}addResource(e,t,r,i,a={silent:!1}){const c=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let u=[e,t];r&&(u=u.concat(c?r.split(c):r)),e.indexOf(".")>-1&&(u=e.split("."),i=t,t=u[1]),this.addNamespaces(t),LN(this.data,u,i),a.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(const a in r)(Qe(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,a,c={silent:!1,skipCopy:!1}){let u=[e,t];e.indexOf(".")>-1&&(u=e.split("."),i=r,r=t,t=u[1]),this.addNamespaces(t);let d=Ey(this.data,u)||{};c.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?a1(d,r,a):d={...d,...r},LN(this.data,u,d),c.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var s1={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(a=>{var c;e=((c=this.processors[a])==null?void 0:c.process(e,t,r,i))??e}),e}};const c1=Symbol("i18next/PATH_KEY");function PG(){const n=[],e=Object.create(null);let t;return e.get=(r,i)=>{var a;return(a=t==null?void 0:t.revoke)==null||a.call(t),i===c1?n:(n.push(i),t=Proxy.revocable(r,e),t.proxy)},Proxy.revocable(Object.create(null),e).proxy}function WT(n,e){const{[c1]:t}=n(PG());return t.join((e==null?void 0:e.keySeparator)??".")}const zN={},HN=n=>!Qe(n)&&typeof n!="boolean"&&typeof n!="number";class Cy extends j_{constructor(e,t={}){super(),EG(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Co.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const c=r&&e.indexOf(r)>-1,u=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!OG(e,r,i);if(c&&!u){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:Qe(a)?[a]:a};const f=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(f[0])>-1)&&(a=f.shift()),e=f.join(i)}return{key:e,namespaces:Qe(a)?[a]:a}}translate(e,t,r){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=WT(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,c=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:u,namespaces:d}=this.extractFromKey(e[e.length-1],i),f=d[d.length-1];let p=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const g=i.lng||this.language,v=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode")return v?a?{res:`${f}${p}${u}`,usedKey:u,exactUsedKey:u,usedLng:g,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:`${f}${p}${u}`:a?{res:u,usedKey:u,exactUsedKey:u,usedLng:g,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:u;const y=this.resolve(e,i);let b=y==null?void 0:y.res;const C=(y==null?void 0:y.usedKey)||u,E=(y==null?void 0:y.exactUsedKey)||u,S=["[object Number]","[object Function]","[object RegExp]"],w=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,k=i.count!==void 0&&!Qe(i.count),O=Cy.hasDefaultValue(i),D=k?this.pluralResolver.getSuffix(g,i.count,i):"",M=i.ordinal&&k?this.pluralResolver.getSuffix(g,i.count,{ordinal:!1}):"",N=k&&!i.ordinal&&i.count===0,K=N&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${D}`]||i[`defaultValue${M}`]||i.defaultValue;let F=b;A&&!b&&O&&(F=K);const oe=HN(F),ue=Object.prototype.toString.apply(F);if(A&&F&&oe&&S.indexOf(ue)<0&&!(Qe(w)&&Array.isArray(F))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const me=this.options.returnedObjectHandler?this.options.returnedObjectHandler(C,F,{...i,ns:d}):`key '${u} (${this.language})' returned an object instead of string.`;return a?(y.res=me,y.usedParams=this.getUsedParamsDetails(i),y):me}if(c){const me=Array.isArray(F),X=me?[]:{},he=me?E:C;for(const z in F)if(Object.prototype.hasOwnProperty.call(F,z)){const L=`${he}${c}${z}`;O&&!b?X[z]=this.translate(L,{...i,defaultValue:HN(K)?K[z]:void 0,joinArrays:!1,ns:d}):X[z]=this.translate(L,{...i,joinArrays:!1,ns:d}),X[z]===L&&(X[z]=F[z])}b=X}}else if(A&&Qe(w)&&Array.isArray(b))b=b.join(w),b&&(b=this.extendTranslation(b,e,i,r));else{let me=!1,X=!1;!this.isValidLookup(b)&&O&&(me=!0,b=K),this.isValidLookup(b)||(X=!0,b=u);const z=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&X?void 0:b,L=O&&K!==b&&this.options.updateMissing;if(X||me||L){if(this.logger.log(L?"updateKey":"missingKey",g,f,u,L?K:b),c){const W=this.resolve(u,{...i,keySeparator:!1});W&&W.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let V=[];const _e=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&_e&&_e[0])for(let W=0;W<_e.length;W++)V.push(_e[W]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(i.lng||this.language):V.push(i.lng||this.language);const I=(W,Q,ce)=>{var Pe;const ve=O&&ce!==b?ce:z;this.options.missingKeyHandler?this.options.missingKeyHandler(W,f,Q,ve,L,i):(Pe=this.backendConnector)!=null&&Pe.saveMissing&&this.backendConnector.saveMissing(W,f,Q,ve,L,i),this.emit("missingKey",W,f,Q,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?V.forEach(W=>{const Q=this.pluralResolver.getSuffixes(W,i);N&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Q.indexOf(`${this.options.pluralSeparator}zero`)<0&&Q.push(`${this.options.pluralSeparator}zero`),Q.forEach(ce=>{I([W],u+ce,i[`defaultValue${ce}`]||K)})}):I(V,u,K))}b=this.extendTranslation(b,e,i,y,r),X&&b===u&&this.options.appendNamespaceToMissingKey&&(b=`${f}${p}${u}`),(X||me)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${p}${u}`:u,me?b:void 0,i))}return a?(y.res=b,y.usedParams=this.getUsedParamsDetails(i),y):b}extendTranslation(e,t,r,i,a){var d,f;if((d=this.i18nFormat)!=null&&d.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const p=Qe(e)&&(((f=r==null?void 0:r.interpolation)==null?void 0:f.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const y=e.match(this.interpolator.nestingRegexp);g=y&&y.length}let v=r.replace&&!Qe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,r.lng||this.language||i.usedLng,r),p){const y=e.match(this.interpolator.nestingRegexp),b=y&&y.length;g<b&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...y)=>(a==null?void 0:a[0])===y[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${t[0]}`),null):this.translate(...y,t),r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,u=Qe(c)?[c]:c;return e!=null&&(u!=null&&u.length)&&r.applyPostProcessor!==!1&&(e=s1.handle(u,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,a,c,u;return Qe(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;const f=this.extractFromKey(d,t),p=f.key;i=p;let g=f.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const v=t.count!==void 0&&!Qe(t.count),y=v&&!t.ordinal&&t.count===0,b=t.context!==void 0&&(Qe(t.context)||typeof t.context=="number")&&t.context!=="",C=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);g.forEach(E=>{var S,w;this.isValidLookup(r)||(u=E,!zN[`${C[0]}-${E}`]&&((S=this.utils)!=null&&S.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(u))&&(zN[`${C[0]}-${E}`]=!0,this.logger.warn(`key "${i}" for languages "${C.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(A=>{var D;if(this.isValidLookup(r))return;c=A;const k=[p];if((D=this.i18nFormat)!=null&&D.addLookupKeys)this.i18nFormat.addLookupKeys(k,p,A,E,t);else{let M;v&&(M=this.pluralResolver.getSuffix(A,t.count,t));const N=`${this.options.pluralSeparator}zero`,K=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(t.ordinal&&M.indexOf(K)===0&&k.push(p+M.replace(K,this.options.pluralSeparator)),k.push(p+M),y&&k.push(p+N)),b){const F=`${p}${this.options.contextSeparator||"_"}${t.context}`;k.push(F),v&&(t.ordinal&&M.indexOf(K)===0&&k.push(F+M.replace(K,this.options.pluralSeparator)),k.push(F+M),y&&k.push(F+N))}}let O;for(;O=k.pop();)this.isValidLookup(r)||(a=O,r=this.getResource(A,E,O,t))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:c,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Qe(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of t)delete i[a]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class FN{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Co.create("languageUtils")}getScriptPartFromCode(e){if(e=Kf(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Kf(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Qe(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(c=>{if(c===a)return c;if(!(c.indexOf("-")<0&&a.indexOf("-")<0)&&(c.indexOf("-")>0&&a.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===a||c.indexOf(a)===0&&a.length>1))return c})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Qe(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],a=c=>{c&&(this.isSupportedCode(c)?i.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return Qe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Qe(e)&&a(this.formatLanguageCode(e)),r.forEach(c=>{i.indexOf(c)<0&&a(this.formatLanguageCode(c))}),i}}const BN={zero:0,one:1,two:2,few:3,many:4,other:5},KN={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class xG{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Co.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=Kf(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let c;try{c=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),KN;if(!e.match(/-|_/))return KN;const d=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(d,t)}return this.pluralRulesCache[a]=c,c}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>BN[i]-BN[a]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const qN=(n,e,t,r=".",i=!0)=>{let a=TG(n,e,t);return!a&&i&&Qe(t)&&(a=QT(n,t,r),a===void 0&&(a=QT(e,t,r))),a},WC=n=>n.replace(/\$/g,"$$$$");class DG{constructor(e={}){var t;this.logger=Co.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:c,suffix:u,suffixEscaped:d,formatSeparator:f,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:v,nestingPrefixEscaped:y,nestingSuffix:b,nestingSuffixEscaped:C,nestingOptionsSeparator:E,maxReplaces:S,alwaysFormat:w}=e.interpolation;this.escape=t!==void 0?t:wG,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?au(a):c||"{{",this.suffix=u?au(u):d||"}}",this.formatSeparator=f||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=v?au(v):y||au("$t("),this.nestingSuffix=b?au(b):C||au(")"),this.nestingOptionsSeparator=E||",",this.maxReplaces=S||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,i){var y;let a,c,u;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=b=>{if(b.indexOf(this.formatSeparator)<0){const w=qN(t,d,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...i,...t,interpolationkey:b}):w}const C=b.split(this.formatSeparator),E=C.shift().trim(),S=C.join(this.formatSeparator).trim();return this.format(qN(t,d,E,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...i,...t,interpolationkey:E})};this.resetRegExp();const p=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((y=i==null?void 0:i.interpolation)==null?void 0:y.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>WC(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?WC(this.escape(b)):WC(b)}].forEach(b=>{for(u=0;a=b.regex.exec(e);){const C=a[1].trim();if(c=f(C),c===void 0)if(typeof p=="function"){const S=p(e,a,i);c=Qe(S)?S:""}else if(i&&Object.prototype.hasOwnProperty.call(i,C))c="";else if(g){c=a[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${e}`),c="";else!Qe(c)&&!this.useRawValueToEscape&&(c=PN(c));const E=b.safeValue(c);if(e=e.replace(a[0],E),g?(b.regex.lastIndex+=c.length,b.regex.lastIndex-=a[0].length):b.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,a,c;const u=(d,f)=>{const p=this.nestingOptionsSeparator;if(d.indexOf(p)<0)return d;const g=d.split(new RegExp(`${p}[ ]*{`));let v=`{${g[1]}`;d=g[0],v=this.interpolate(v,c);const y=v.match(/'/g),b=v.match(/"/g);(((y==null?void 0:y.length)??0)%2===0&&!b||b.length%2!==0)&&(v=v.replace(/'/g,'"'));try{c=JSON.parse(v),f&&(c={...f,...c})}catch(C){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,C),`${d}${p}${v}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,d};for(;i=this.nestingRegexp.exec(e);){let d=[];c={...r},c=c.replace&&!Qe(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const f=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(f!==-1&&(d=i[1].slice(f).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),i[1]=i[1].slice(0,f)),a=t(u.call(this,i[1].trim(),c),c),a&&i[0]===e&&!Qe(a))return a;Qe(a)||(a=PN(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),d.length&&(a=d.reduce((p,g)=>this.format(p,g,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const LG=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(c=>{if(c){const[u,...d]=c.split(":"),f=d.join(":").trim().replace(/^'+|'+$/g,""),p=u.trim();t[p]||(t[p]=f),f==="false"&&(t[p]=!1),f==="true"&&(t[p]=!0),isNaN(f)||(t[p]=parseInt(f,10))}})}return{formatName:e,formatOptions:t}},$N=n=>{const e={};return(t,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const c=r+JSON.stringify(a);let u=e[c];return u||(u=n(Kf(r),i),e[c]=u),u(t)}},UG=n=>(e,t,r)=>n(Kf(t),r)(e);class zG{constructor(e={}){this.logger=Co.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?$N:UG;this.formats={number:r((i,a)=>{const c=new Intl.NumberFormat(i,{...a});return u=>c.format(u)}),currency:r((i,a)=>{const c=new Intl.NumberFormat(i,{...a,style:"currency"});return u=>c.format(u)}),datetime:r((i,a)=>{const c=new Intl.DateTimeFormat(i,{...a});return u=>c.format(u)}),relativetime:r((i,a)=>{const c=new Intl.RelativeTimeFormat(i,{...a});return u=>c.format(u,a.range||"day")}),list:r((i,a)=>{const c=new Intl.ListFormat(i,{...a});return u=>c.format(u)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=$N(t)}format(e,t,r,i={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(u=>u.indexOf(")")>-1)){const u=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,u)].join(this.formatSeparator)}return a.reduce((u,d)=>{var g;const{formatName:f,formatOptions:p}=LG(d);if(this.formats[f]){let v=u;try{const y=((g=i==null?void 0:i.formatParams)==null?void 0:g[i.interpolationkey])||{},b=y.locale||y.lng||i.locale||i.lng||r;v=this.formats[f](u,b,{...p,...i,...y})}catch(y){this.logger.warn(y)}return v}else this.logger.warn(`there was no format function for ${f}`);return u},e)}}const HG=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class FG extends j_{constructor(e,t,r,i={}){var a,c;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Co.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(c=(a=this.backend)==null?void 0:a.init)==null||c.call(a,r,i.backend,i)}queueLoad(e,t,r,i){const a={},c={},u={},d={};return e.forEach(f=>{let p=!0;t.forEach(g=>{const v=`${f}|${g}`;!r.reload&&this.store.hasResourceBundle(f,g)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?c[v]===void 0&&(c[v]=!0):(this.state[v]=1,p=!1,c[v]===void 0&&(c[v]=!0),a[v]===void 0&&(a[v]=!0),d[g]===void 0&&(d[g]=!0)))}),p||(u[f]=!0)}),(Object.keys(a).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(c),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(d)}}loaded(e,t,r){const i=e.split("|"),a=i[0],c=i[1];t&&this.emit("failedLoading",a,c,t),!t&&r&&this.store.addResourceBundle(a,c,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const u={};this.queue.forEach(d=>{SG(d.loaded,[a],c),HG(d,e),t&&d.errors.push(t),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(f=>{u[f]||(u[f]={});const p=d.loaded[f];p.length&&p.forEach(g=>{u[f][g]===void 0&&(u[f][g]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(d=>!d.done)}read(e,t,r,i=0,a=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:a,callback:c});return}this.readingCalls++;const u=(f,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(f&&p&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,a*2,c)},a);return}c(f,p)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const f=d(e,t);f&&typeof f.then=="function"?f.then(p=>u(null,p)).catch(u):u(null,f)}catch(f){u(f)}return}return d(e,t,u)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Qe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Qe(t)&&(t=[t]);const a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(c=>{this.loadOne(c)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(c,u)=>{c&&this.logger.warn(`${t}loading namespace ${a} for language ${i} failed`,c),!c&&u&&this.logger.log(`${t}loaded namespace ${a} for language ${i}`,u),this.loaded(e,c,u)})}saveMissing(e,t,r,i,a,c={},u=()=>{}){var d,f,p,g,v;if((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace&&!((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((v=this.backend)!=null&&v.create){const y={...c,isUpdate:a},b=this.backend.create.bind(this.backend);if(b.length<6)try{let C;b.length===5?C=b(e,t,r,i,y):C=b(e,t,r,i),C&&typeof C.then=="function"?C.then(E=>u(null,E)).catch(u):u(null,C)}catch(C){u(C)}else b(e,t,r,i,u,y)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const jN=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Qe(n[1])&&(e.defaultValue=n[1]),Qe(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),GN=n=>{var e,t;return Qe(n.ns)&&(n.ns=[n.ns]),Qe(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Qe(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},sv=()=>{},BG=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class qf extends j_{constructor(e={},t){if(super(),this.options=GN(e),this.services={},this.logger=Co,this.modules={external:[]},BG(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Qe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=jN();this.options={...r,...this.options,...GN(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Co.init(i(this.modules.logger),this.options):Co.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=zG;const p=new FN(this.options);this.store=new UN(this.options.resources,this.options);const g=this.services;g.logger=Co,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new xG(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(g.formatter=i(f),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new DG(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new FG(i(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(y,...b)=>{this.emit(y,...b)}),this.modules.languageDetector&&(g.languageDetector=i(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=i(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Cy(this.services,this.options),this.translator.on("*",(y,...b)=>{this.emit(y,...b)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,t||(t=sv),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...p)=>this.store[f](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...p)=>(this.store[f](...p),this)});const u=of(),d=()=>{const f=(p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(g),t(p,g)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),u}loadResources(e,t=sv){var a,c;let r=t;const i=Qe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const u=[],d=f=>{if(!f||f==="cimode")return;this.services.languageUtils.toResolveHierarchy(f).forEach(g=>{g!=="cimode"&&u.indexOf(g)<0&&u.push(g)})};i?d(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>d(p)),(c=(a=this.options.preload)==null?void 0:a.forEach)==null||c.call(a,f=>d(f)),this.services.backendConnector.load(u,this.options.ns,f=>{!f&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(f)})}else r(null)}reloadResources(e,t,r){const i=of();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=sv),this.services.backendConnector.reload(e,t,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&s1.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=of();this.emit("languageChanging",e);const i=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},a=(u,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...f)=>this.t(...f)),t&&t(u,(...f)=>this.t(...f))},c=u=>{var p,g;!e&&!u&&this.services.languageDetector&&(u=[]);const d=Qe(u)?u:u&&u[0],f=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(Qe(u)?[u]:u);f&&(this.language||i(f),this.translator.language||this.translator.changeLanguage(f),(g=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||g.call(p,f)),this.loadResources(f,v=>{a(v,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),r}getFixedT(e,t,r){const i=(a,c,...u)=>{let d;typeof c!="object"?d=this.options.overloadTranslationOptionHandler([a,c].concat(u)):d={...c},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||i.keyPrefix);const f=this.options.keySeparator||".";let p;return d.keyPrefix&&Array.isArray(a)?p=a.map(g=>(typeof g=="function"&&(g=WT(g,{...this.options,...c})),`${d.keyPrefix}${f}${g}`)):(typeof a=="function"&&(a=WT(a,{...this.options,...c})),p=d.keyPrefix?`${d.keyPrefix}${f}${a}`:a),this.t(p,d)};return Qe(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const c=(u,d)=>{const f=this.services.backendConnector.state[`${u}|${d}`];return f===-1||f===0||f===2};if(t.precheck){const u=t.precheck(this,c);if(u!==void 0)return u}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(r,e)&&(!i||c(a,e)))}loadNamespaces(e,t){const r=of();return this.options.ns?(Qe(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=of();Qe(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(c=>i.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return a.length?(this.options.preload=i.concat(a),this.loadResources(c=>{r.resolve(),t&&t(c)}),r):(t&&t(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const c=new Intl.Locale(e);if(c&&c.getTextInfo){const u=c.getTextInfo();if(u&&u.direction)return u.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new FN(jN());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new qf(e,t)}cloneInstance(e={},t=sv){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new qf(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(u=>{a[u]=this[u]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const u=Object.keys(this.store.data).reduce((d,f)=>(d[f]={...this.store.data[f]},d[f]=Object.keys(d[f]).reduce((p,g)=>(p[g]={...d[f][g]},p),d[f]),d),{});a.store=new UN(u,i),a.services.resourceStore=a.store}return a.translator=new Cy(a.services,i),a.translator.on("*",(u,...d)=>{a.emit(u,...d)}),a.init(i,t),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Rr=qf.createInstance();Rr.createInstance=qf.createInstance;Rr.createInstance;Rr.dir;Rr.init;Rr.loadResources;Rr.reloadResources;Rr.use;Rr.changeLanguage;Rr.getFixedT;const Iee=Rr.t,Oee=Rr.exists;Rr.setDefaultNamespace;Rr.hasLoadedNamespace;Rr.loadNamespaces;Rr.loadLanguages;var XC,VN;function KG(){return VN||(VN=1,XC={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),XC}var qG=KG();const $G=lw(qG);var jG=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function YN(n){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=n.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(e.name=t[1],($G[t[1]]||n.charAt(n.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var r=n.indexOf("-->");return{type:"comment",comment:r!==-1?n.slice(4,r):""}}for(var i=new RegExp(jG),a=null;(a=i.exec(n))!==null;)if(a[0].trim())if(a[1]){var c=a[1].trim(),u=[c,""];c.indexOf("=")>-1&&(u=c.split("=")),e.attrs[u[0]]=u[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var GG=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,VG=/^\s*$/,YG=Object.create(null);function l1(n,e){switch(e.type){case"text":return n+e.content;case"tag":return n+="<"+e.name+(e.attrs?function(t){var r=[];for(var i in t)r.push(i+'="'+t[i]+'"');return r.length?" "+r.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?n:n+e.children.reduce(l1,"")+"</"+e.name+">";case"comment":return n+"<!--"+e.comment+"-->"}}var QG={parse:function(n,e){e||(e={}),e.components||(e.components=YG);var t,r=[],i=[],a=-1,c=!1;if(n.indexOf("<")!==0){var u=n.indexOf("<");r.push({type:"text",content:u===-1?n:n.substring(0,u)})}return n.replace(GG,function(d,f){if(c){if(d!=="</"+t.name+">")return;c=!1}var p,g=d.charAt(1)!=="/",v=d.startsWith("<!--"),y=f+d.length,b=n.charAt(y);if(v){var C=YN(d);return a<0?(r.push(C),r):((p=i[a]).children.push(C),r)}if(g&&(a++,(t=YN(d)).type==="tag"&&e.components[t.name]&&(t.type="component",c=!0),t.voidElement||c||!b||b==="<"||t.children.push({type:"text",content:n.slice(y,n.indexOf("<",y))}),a===0&&r.push(t),(p=i[a-1])&&p.children.push(t),i[a]=t),(!g||t.voidElement)&&(a>-1&&(t.voidElement||t.name===d.slice(2,-1))&&(a--,t=a===-1?r:i[a]),!c&&b!=="<"&&b)){p=a===-1?r:i[a].children;var E=n.indexOf("<",y),S=n.slice(y,E===-1?void 0:E);VG.test(S)&&(S=" "),(E>-1&&a+p.length>=0||S!==" ")&&p.push({type:"text",content:S})}}),r},stringify:function(n){return n.reduce(function(e,t){return e+l1("",t)},"")}};const $v=(n,e,t,r)=>{var a,c,u,d;const i=[t,{code:e,...r||{}}];if((c=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&c.forward)return n.services.logger.forward(i,"warn","react-i18next::",!0);Oi(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(d=(u=n==null?void 0:n.services)==null?void 0:u.logger)!=null&&d.warn?n.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},QN={},$f=(n,e,t,r)=>{Oi(t)&&QN[t]||(Oi(t)&&(QN[t]=new Date),$v(n,e,t,r))},u1=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},XT=(n,e,t)=>{n.loadNamespaces(e,u1(n,t))},ZN=(n,e,t,r)=>{if(Oi(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return XT(n,t,r);t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,u1(n,r))},ZG=(n,e,t={})=>!e.languages||!e.languages.length?($f(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),Oi=n=>typeof n=="string",ys=n=>typeof n=="object"&&n!==null,WG=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,XG={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},JG=n=>XG[n],e4=n=>n.replace(WG,JG);let JT={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e4};const t4=(n={})=>{JT={...JT,...n}},d1=()=>JT;let h1;const n4=n=>{h1=n},kw=()=>h1,JC=(n,e)=>{var r;if(!n)return!1;const t=((r=n.props)==null?void 0:r.children)??n.children;return e?t.length>0:!!t},eS=n=>{var t,r;if(!n)return[];const e=((t=n.props)==null?void 0:t.children)??n.children;return(r=n.props)!=null&&r.i18nIsDynamicList?Iu(e):e},r4=n=>Array.isArray(n)&&n.every(be.isValidElement),Iu=n=>Array.isArray(n)?n:[n],i4=(n,e)=>{const t={...e};return t.props=Object.assign(n.props,e.props),t},f1=(n,e,t,r)=>{if(!n)return"";let i="";const a=Iu(n),c=e!=null&&e.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((u,d)=>{if(Oi(u)){i+=`${u}`;return}if(be.isValidElement(u)){const{props:f,type:p}=u,g=Object.keys(f).length,v=c.indexOf(p)>-1,y=f.children;if(!y&&v&&!g){i+=`<${p}/>`;return}if(!y&&(!v||g)||f.i18nIsDynamicList){i+=`<${d}></${d}>`;return}if(v&&g===1&&Oi(y)){i+=`<${p}>${y}</${p}>`;return}const b=f1(y,e,t,r);i+=`<${d}>${b}</${d}>`;return}if(u===null){$v(t,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(ys(u)){const{format:f,...p}=u,g=Object.keys(p);if(g.length===1){const v=f?`${g[0]}, ${f}`:g[0];i+=`{{${v}}}`;return}$v(t,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:u});return}$v(t,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:u})}),i},o4=(n,e,t,r,i,a,c)=>{if(t==="")return[];const u=i.transKeepBasicHtmlNodesFor||[],d=t&&new RegExp(u.map(S=>`<${S}`).join("|")).test(t);if(!n&&!e&&!d&&!c)return[t];const f=e??{},p=S=>{Iu(S).forEach(A=>{Oi(A)||(JC(A)?p(eS(A)):ys(A)&&!be.isValidElement(A)&&Object.assign(f,A))})};p(n);const g=QG.parse(`<0>${t}</0>`),v={...f,...a},y=(S,w,A)=>{var D;const k=eS(S),O=C(k,w.children,A);return r4(k)&&O.length===0||(D=S.props)!=null&&D.i18nIsDynamicList?k:O},b=(S,w,A,k,O)=>{S.dummy?(S.children=w,A.push(be.cloneElement(S,{key:k},O?void 0:w))):A.push(...be.Children.map([S],D=>{const M={...D.props};return delete M.i18nIsDynamicList,be.createElement(D.type,{...M,key:k,ref:D.props.ref??D.ref},O?null:w)}))},C=(S,w,A)=>{const k=Iu(S);return Iu(w).reduce((D,M,N)=>{var F,oe;const K=((oe=(F=M.children)==null?void 0:F[0])==null?void 0:oe.content)&&r.services.interpolator.interpolate(M.children[0].content,v,r.language);if(M.type==="tag"){let ue=k[parseInt(M.name,10)];!ue&&e&&(ue=e[M.name]),A.length===1&&!ue&&(ue=A[0][M.name]),ue||(ue={});const me=Object.keys(M.attrs).length!==0?i4({props:M.attrs},ue):ue,X=be.isValidElement(me),he=X&&JC(M,!0)&&!M.voidElement,z=d&&ys(me)&&me.dummy&&!X,L=ys(e)&&Object.hasOwnProperty.call(e,M.name);if(Oi(me)){const V=r.services.interpolator.interpolate(me,v,r.language);D.push(V)}else if(JC(me)||he){const V=y(me,M,A);b(me,V,D,N)}else if(z){const V=C(k,M.children,A);b(me,V,D,N)}else if(Number.isNaN(parseFloat(M.name)))if(L){const V=y(me,M,A);b(me,V,D,N,M.voidElement)}else if(i.transSupportBasicHtmlNodes&&u.indexOf(M.name)>-1)if(M.voidElement)D.push(be.createElement(M.name,{key:`${M.name}-${N}`}));else{const V=C(k,M.children,A);D.push(be.createElement(M.name,{key:`${M.name}-${N}`},V))}else if(M.voidElement)D.push(`<${M.name} />`);else{const V=C(k,M.children,A);D.push(`<${M.name}>${V}</${M.name}>`)}else if(ys(me)&&!X){const V=M.children[0]?K:null;V&&D.push(V)}else b(me,K,D,N,M.children.length!==1||!K)}else if(M.type==="text"){const ue=i.transWrapTextNodes,me=c?i.unescape(r.services.interpolator.interpolate(M.content,v,r.language)):r.services.interpolator.interpolate(M.content,v,r.language);ue?D.push(be.createElement(ue,{key:`${M.name}-${N}`},me)):D.push(me)}return D},[])},E=C([{dummy:!0,children:n||[]}],g,Iu(n||[]));return eS(E[0])},p1=(n,e,t)=>{const r=n.key||e,i=be.cloneElement(n,{key:r});if(!i.props||!i.props.children||t.indexOf(`${e}/>`)<0&&t.indexOf(`${e} />`)<0)return i;function a(){return be.createElement(be.Fragment,null,i)}return be.createElement(a,{key:r})},a4=(n,e)=>n.map((t,r)=>p1(t,r,e)),s4=(n,e)=>{const t={};return Object.keys(n).forEach(r=>{Object.assign(t,{[r]:p1(n[r],r,e)})}),t},c4=(n,e,t,r)=>n?Array.isArray(n)?a4(n,e):ys(n)?s4(n,e):($f(t,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null,l4=n=>!ys(n)||Array.isArray(n)?!1:Object.keys(n).reduce((e,t)=>e&&Number.isNaN(Number.parseFloat(t)),!0);function u4({children:n,count:e,parent:t,i18nKey:r,context:i,tOptions:a={},values:c,defaults:u,components:d,ns:f,i18n:p,t:g,shouldUnescape:v,...y}){var X,he,z,L,V,_e;const b=p||kw();if(!b)return $f(b,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),n;const C=g||b.t.bind(b)||(I=>I),E={...d1(),...(X=b.options)==null?void 0:X.react};let S=f||C.ns||((he=b.options)==null?void 0:he.defaultNS);S=Oi(S)?[S]:S||["translation"];const w=f1(n,E,b,r),A=u||w||E.transEmptyNodeValue||r,{hashTransKey:k}=E,O=r||(k?k(w||A):w||A);(L=(z=b.options)==null?void 0:z.interpolation)!=null&&L.defaultVariables&&(c=c&&Object.keys(c).length>0?{...c,...b.options.interpolation.defaultVariables}:{...b.options.interpolation.defaultVariables});const D=c||e!==void 0&&!((_e=(V=b.options)==null?void 0:V.interpolation)!=null&&_e.alwaysFormat)||!n?a.interpolation:{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}},M={...a,context:i||a.context,count:e,...c,...D,defaultValue:A,ns:S},N=O?C(O,M):A,K=c4(d,N,b,r);let F=K||n,oe=null;l4(K)&&(oe=K,F=n);const ue=o4(F,oe,N,b,E,M,v),me=t??E.defaultTransParent;return me?be.createElement(me,y,ue):ue}const Nee={type:"3rdParty",init(n){t4(n.options.react),n4(n)}},g1=be.createContext();class d4{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Mee({children:n,count:e,parent:t,i18nKey:r,context:i,tOptions:a={},values:c,defaults:u,components:d,ns:f,i18n:p,t:g,shouldUnescape:v,...y}){var w;const{i18n:b,defaultNS:C}=be.useContext(g1)||{},E=p||b||kw(),S=g||(E==null?void 0:E.t.bind(E));return u4({children:n,count:e,parent:t,i18nKey:r,context:i,tOptions:a,values:c,defaults:u,components:d,ns:f||(S==null?void 0:S.ns)||C||((w=E==null?void 0:E.options)==null?void 0:w.defaultNS),i18n:E,t:g,shouldUnescape:v,...y})}const h4=(n,e)=>{const t=be.useRef();return be.useEffect(()=>{t.current=n},[n,e]),t.current},m1=(n,e,t,r)=>n.getFixedT(e,t,r),f4=(n,e,t,r)=>be.useCallback(m1(n,e,t,r),[n,e,t,r]),Pee=(n,e={})=>{var k,O,D,M;const{i18n:t}=e,{i18n:r,defaultNS:i}=be.useContext(g1)||{},a=t||r||kw();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new d4),!a){$f(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(F,oe)=>Oi(oe)?oe:ys(oe)&&Oi(oe.defaultValue)?oe.defaultValue:Array.isArray(F)?F[F.length-1]:F,K=[N,{},!1];return K.t=N,K.i18n={},K.ready=!1,K}(k=a.options.react)!=null&&k.wait&&$f(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...d1(),...a.options.react,...e},{useSuspense:u,keyPrefix:d}=c;let f=n||i||((O=a.options)==null?void 0:O.defaultNS);f=Oi(f)?[f]:f||["translation"],(M=(D=a.reportNamespaces).addUsedNamespaces)==null||M.call(D,f);const p=(a.isInitialized||a.initializedStoreOnce)&&f.every(N=>ZG(N,a,c)),g=f4(a,e.lng||null,c.nsMode==="fallback"?f:f[0],d),v=()=>g,y=()=>m1(a,e.lng||null,c.nsMode==="fallback"?f:f[0],d),[b,C]=be.useState(v);let E=f.join();e.lng&&(E=`${e.lng}${E}`);const S=h4(E),w=be.useRef(!0);be.useEffect(()=>{const{bindI18n:N,bindI18nStore:K}=c;w.current=!0,!p&&!u&&(e.lng?ZN(a,e.lng,f,()=>{w.current&&C(y)}):XT(a,f,()=>{w.current&&C(y)})),p&&S&&S!==E&&w.current&&C(y);const F=()=>{w.current&&C(y)};return N&&(a==null||a.on(N,F)),K&&(a==null||a.store.on(K,F)),()=>{w.current=!1,a&&N&&(N==null||N.split(" ").forEach(oe=>a.off(oe,F))),K&&a&&K.split(" ").forEach(oe=>a.store.off(oe,F))}},[a,E]),be.useEffect(()=>{w.current&&p&&C(v)},[a,d,p]);const A=[b,a,p];if(A.t=b,A.i18n=a,A.ready=p,p||!p&&!u)return A;throw new Promise(N=>{e.lng?ZN(a,e.lng,f,()=>N()):XT(a,f,()=>N())})};function go(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Ow(n,e){return n(e={exports:{}},e.exports),e.exports}var dc=Ow(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function r(){var i=this;this.locked=new Map,this.addToLocked=function(a,c){var u=i.locked.get(a);u===void 0?c===void 0?i.locked.set(a,[]):i.locked.set(a,[c]):c!==void 0&&(u.unshift(c),i.locked.set(a,u))},this.isLocked=function(a){return i.locked.has(a)},this.lock=function(a){return new Promise(function(c,u){i.isLocked(a)?i.addToLocked(a,c):(i.addToLocked(a),c())})},this.unlock=function(a){var c=i.locked.get(a);if(c!==void 0&&c.length!==0){var u=c.pop();i.locked.set(a,c),u!==void 0&&setTimeout(u,0)}else i.locked.delete(a)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();e.default=function(){return t.getInstance()}});Iw(dc);var p4=Iw(Ow(function(n,e){var t=hc&&hc.__awaiter||function(p,g,v,y){return new(v||(v=Promise))(function(b,C){function E(A){try{w(y.next(A))}catch(k){C(k)}}function S(A){try{w(y.throw(A))}catch(k){C(k)}}function w(A){A.done?b(A.value):new v(function(k){k(A.value)}).then(E,S)}w((y=y.apply(p,g||[])).next())})},r=hc&&hc.__generator||function(p,g){var v,y,b,C,E={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return C={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function S(w){return function(A){return function(k){if(v)throw new TypeError("Generator is already executing.");for(;E;)try{if(v=1,y&&(b=2&k[0]?y.return:k[0]?y.throw||((b=y.return)&&b.call(y),0):y.next)&&!(b=b.call(y,k[1])).done)return b;switch(y=0,b&&(k=[2&k[0],b.value]),k[0]){case 0:case 1:b=k;break;case 4:return E.label++,{value:k[1],done:!1};case 5:E.label++,y=k[1],k=[0];continue;case 7:k=E.ops.pop(),E.trys.pop();continue;default:if(b=E.trys,!((b=b.length>0&&b[b.length-1])||k[0]!==6&&k[0]!==2)){E=0;continue}if(k[0]===3&&(!b||k[1]>b[0]&&k[1]<b[3])){E.label=k[1];break}if(k[0]===6&&E.label<b[1]){E.label=b[1],b=k;break}if(b&&E.label<b[2]){E.label=b[2],E.ops.push(k);break}b[2]&&E.ops.pop(),E.trys.pop();continue}k=g.call(p,E)}catch(O){k=[6,O],y=0}finally{v=b=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([w,A])}}},i=hc;Object.defineProperty(e,"__esModule",{value:!0});var a="browser-tabs-lock-key",c={key:function(p){return t(i,void 0,void 0,function(){return r(this,function(g){throw new Error("Unsupported")})})},getItem:function(p){return t(i,void 0,void 0,function(){return r(this,function(g){throw new Error("Unsupported")})})},clear:function(){return t(i,void 0,void 0,function(){return r(this,function(p){return[2,window.localStorage.clear()]})})},removeItem:function(p){return t(i,void 0,void 0,function(){return r(this,function(g){throw new Error("Unsupported")})})},setItem:function(p,g){return t(i,void 0,void 0,function(){return r(this,function(v){throw new Error("Unsupported")})})},keySync:function(p){return window.localStorage.key(p)},getItemSync:function(p){return window.localStorage.getItem(p)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(p){return window.localStorage.removeItem(p)},setItemSync:function(p,g){return window.localStorage.setItem(p,g)}};function u(p){return new Promise(function(g){return setTimeout(g,p)})}function d(p){for(var g="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",v="",y=0;y<p;y++)v+=g[Math.floor(Math.random()*g.length)];return v}var f=function(){function p(g){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+d(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=g,p.waiters===void 0&&(p.waiters=[])}return p.prototype.acquireLock=function(g,v){return v===void 0&&(v=5e3),t(this,void 0,void 0,function(){var y,b,C,E,S,w,A;return r(this,function(k){switch(k.label){case 0:y=Date.now()+d(4),b=Date.now()+v,C=a+"-"+g,E=this.storageHandler===void 0?c:this.storageHandler,k.label=1;case 1:return Date.now()<b?[4,u(30)]:[3,8];case 2:return k.sent(),E.getItemSync(C)!==null?[3,5]:(S=this.id+"-"+g+"-"+y,[4,u(Math.floor(25*Math.random()))]);case 3:return k.sent(),E.setItemSync(C,JSON.stringify({id:this.id,iat:y,timeoutKey:S,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,u(30)];case 4:return k.sent(),(w=E.getItemSync(C))!==null&&(A=JSON.parse(w)).id===this.id&&A.iat===y?(this.acquiredIatSet.add(y),this.refreshLockWhileAcquired(C,y),[2,!0]):[3,7];case 5:return p.lockCorrector(this.storageHandler===void 0?c:this.storageHandler),[4,this.waitForSomethingToChange(b)];case 6:k.sent(),k.label=7;case 7:return y=Date.now()+d(4),[3,1];case 8:return[2,!1]}})})},p.prototype.refreshLockWhileAcquired=function(g,v){return t(this,void 0,void 0,function(){var y=this;return r(this,function(b){return setTimeout(function(){return t(y,void 0,void 0,function(){var C,E,S;return r(this,function(w){switch(w.label){case 0:return[4,dc.default().lock(v)];case 1:return w.sent(),this.acquiredIatSet.has(v)?(C=this.storageHandler===void 0?c:this.storageHandler,(E=C.getItemSync(g))===null?(dc.default().unlock(v),[2]):((S=JSON.parse(E)).timeRefreshed=Date.now(),C.setItemSync(g,JSON.stringify(S)),dc.default().unlock(v),this.refreshLockWhileAcquired(g,v),[2])):(dc.default().unlock(v),[2])}})})},1e3),[2]})})},p.prototype.waitForSomethingToChange=function(g){return t(this,void 0,void 0,function(){return r(this,function(v){switch(v.label){case 0:return[4,new Promise(function(y){var b=!1,C=Date.now(),E=!1;function S(){if(E||(window.removeEventListener("storage",S),p.removeFromWaiting(S),clearTimeout(w),E=!0),!b){b=!0;var A=50-(Date.now()-C);A>0?setTimeout(y,A):y(null)}}window.addEventListener("storage",S),p.addToWaiting(S);var w=setTimeout(S,Math.max(0,g-Date.now()))})];case 1:return v.sent(),[2]}})})},p.addToWaiting=function(g){this.removeFromWaiting(g),p.waiters!==void 0&&p.waiters.push(g)},p.removeFromWaiting=function(g){p.waiters!==void 0&&(p.waiters=p.waiters.filter(function(v){return v!==g}))},p.notifyWaiters=function(){p.waiters!==void 0&&p.waiters.slice().forEach(function(g){return g()})},p.prototype.releaseLock=function(g){return t(this,void 0,void 0,function(){return r(this,function(v){switch(v.label){case 0:return[4,this.releaseLock__private__(g)];case 1:return[2,v.sent()]}})})},p.prototype.releaseLock__private__=function(g){return t(this,void 0,void 0,function(){var v,y,b,C;return r(this,function(E){switch(E.label){case 0:return v=this.storageHandler===void 0?c:this.storageHandler,y=a+"-"+g,(b=v.getItemSync(y))===null?[2]:(C=JSON.parse(b)).id!==this.id?[3,2]:[4,dc.default().lock(C.iat)];case 1:E.sent(),this.acquiredIatSet.delete(C.iat),v.removeItemSync(y),dc.default().unlock(C.iat),p.notifyWaiters(),E.label=2;case 2:return[2]}})})},p.lockCorrector=function(g){for(var v=Date.now()-5e3,y=g,b=[],C=0;;){var E=y.keySync(C);if(E===null)break;b.push(E),C++}for(var S=!1,w=0;w<b.length;w++){var A=b[w];if(A.includes(a)){var k=y.getItemSync(A);if(k!==null){var O=JSON.parse(k);(O.timeRefreshed===void 0&&O.timeAcquired<v||O.timeRefreshed!==void 0&&O.timeRefreshed<v)&&(y.removeItemSync(A),S=!0)}}}S&&p.notifyWaiters()},p.waiters=void 0,p}();e.default=f}));const g4={timeoutInSeconds:60},v1={name:"auth0-spa-js",version:"2.1.3"},y1=()=>Date.now();class fr extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,fr.prototype)}static fromPayload({error:e,error_description:t}){return new fr(e,t)}}class Nw extends fr{constructor(e,t,r,i=null){super(e,t),this.state=r,this.appState=i,Object.setPrototypeOf(this,Nw.prototype)}}class jf extends fr{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,jf.prototype)}}class Mw extends jf{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,Mw.prototype)}}class Pw extends fr{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,Pw.prototype)}}class xw extends fr{constructor(e,t,r){super(e,t),this.mfa_token=r,Object.setPrototypeOf(this,xw.prototype)}}let _1=class b1 extends fr{constructor(e,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${WN(e,["default"])}', scope: '${WN(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,b1.prototype)}};function WN(n,e=[]){return n&&!e.includes(n)?n:""}const jv=()=>window.crypto,tS=()=>{const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(jv().getRandomValues(new Uint8Array(43))).forEach(t=>e+=n[t%n.length]),e},XN=n=>btoa(n),eA=n=>{var{clientId:e}=n,t=go(n,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(i=>r[i]!==void 0).reduce((i,a)=>Object.assign(Object.assign({},i),{[a]:r[a]}),{}))(Object.assign({client_id:e},t))).toString()},JN=n=>(e=>decodeURIComponent(atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join("")))(n.replace(/_/g,"/").replace(/-/g,"+")),m4=async(n,e)=>{const t=await fetch(n,e);return{ok:t.ok,json:await t.json()}},v4=async(n,e,t)=>{const r=new AbortController;let i;return e.signal=r.signal,Promise.race([m4(n,e),new Promise((a,c)=>{i=setTimeout(()=>{r.abort(),c(new Error("Timeout when executing 'fetch'"))},t)})]).finally(()=>{clearTimeout(i)})},y4=async(n,e,t,r,i,a,c)=>{return u={auth:{audience:e,scope:t},timeout:i,fetchUrl:n,fetchOptions:r,useFormData:c},d=a,new Promise(function(f,p){const g=new MessageChannel;g.port1.onmessage=function(v){v.data.error?p(new Error(v.data.error)):f(v.data),g.port1.close()},d.postMessage(u,[g.port2])});var u,d},_4=async(n,e,t,r,i,a,c=1e4)=>i?y4(n,e,t,r,c,i,a):v4(n,r,c);async function b4(n,e){var{baseUrl:t,timeout:r,audience:i,scope:a,auth0Client:c,useFormData:u}=n,d=go(n,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const f=u?eA(d):JSON.stringify(d);return await async function(p,g,v,y,b,C,E){let S,w=null;for(let N=0;N<3;N++)try{S=await _4(p,v,y,b,C,E,g),w=null;break}catch(K){w=K}if(w)throw w;const A=S.json,{error:k,error_description:O}=A,D=go(A,["error","error_description"]),{ok:M}=S;if(!M){const N=O||`HTTP error. Unable to fetch ${p}`;throw k==="mfa_required"?new xw(k,N,D.mfa_token):k==="missing_refresh_token"?new _1(v,y):new fr(k||"request_error",N)}return D}(`${t}/oauth/token`,r,i||"default",a,{method:"POST",body:f,headers:{"Content-Type":u?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(c||v1))}},e,u)}const cv=(...n)=>{return(e=n.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e};class So{constructor(e,t="@@auth0spajs@@",r){this.prefix=t,this.suffix=r,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[t,r,i,a]=e.split("::");return new So({clientId:r,scope:a,audience:i},t)}static fromCacheEntry(e){const{scope:t,audience:r,client_id:i}=e;return new So({scope:t,audience:r,clientId:i})}}class E4{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}}class E1{constructor(){this.enclosedCache=function(){let e={};return{set(t,r){e[t]=r},get(t){const r=e[t];if(r)return r},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}}class C4{constructor(e,t,r){this.cache=e,this.keyManifest=t,this.nowProvider=r||y1}async setIdToken(e,t,r){var i;const a=this.getIdTokenCacheKey(e);await this.cache.set(a,{id_token:t,decodedToken:r}),await((i=this.keyManifest)===null||i===void 0?void 0:i.add(a))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const r=await this.get(e);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0){var r;let i=await this.cache.get(e.toKey());if(!i){const u=await this.getCacheKeys();if(!u)return;const d=this.matchExistingCacheKey(e,u);d&&(i=await this.cache.get(d))}if(!i)return;const a=await this.nowProvider(),c=Math.floor(a/1e3);return i.expiresAt-t<c?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},await this.cache.set(e.toKey(),i),i.body):(await this.cache.remove(e.toKey()),void await((r=this.keyManifest)===null||r===void 0?void 0:r.remove(e.toKey()))):i.body}async set(e){var t;const r=new So({clientId:e.client_id,scope:e.scope,audience:e.audience}),i=await this.wrapCacheEntry(e);await this.cache.set(r.toKey(),i),await((t=this.keyManifest)===null||t===void 0?void 0:t.add(r.toKey()))}async clear(e){var t;const r=await this.getCacheKeys();r&&(await r.filter(i=>!e||i.includes(e)).reduce(async(i,a)=>{await i,await this.cache.remove(a)},Promise.resolve()),await((t=this.keyManifest)===null||t===void 0?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new So({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,t){return t.filter(r=>{var i;const a=So.fromKey(r),c=new Set(a.scope&&a.scope.split(" ")),u=((i=e.scope)===null||i===void 0?void 0:i.split(" "))||[],d=a.scope&&u.reduce((f,p)=>f&&c.has(p),!0);return a.prefix==="@@auth0spajs@@"&&a.clientId===e.clientId&&a.audience===e.audience&&d})[0]}}class S4{constructor(e,t,r){this.storage=e,this.clientId=t,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const af=n=>typeof n=="number",T4=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],A4=n=>{if(!n.id_token)throw new Error("ID token is required but missing");const e=(a=>{const c=a.split("."),[u,d,f]=c;if(c.length!==3||!u||!d||!f)throw new Error("ID token could not be decoded");const p=JSON.parse(JN(d)),g={__raw:a},v={};return Object.keys(p).forEach(y=>{g[y]=p[y],T4.includes(y)||(v[y]=p[y])}),{encoded:{header:u,payload:d,signature:f},header:JSON.parse(JN(u)),claims:g,user:v}})(n.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==n.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${n.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(n.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==n.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${n.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==n.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but found "${e.claims.aud}"`);if(n.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==n.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${n.nonce}", found "${e.claims.nonce}"`)}if(n.max_age&&!af(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!af(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!af(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const t=n.leeway||60,r=new Date(n.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(e.claims.exp+t),r>i)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${i})`);if(e.claims.nbf!=null&&af(e.claims.nbf)){const a=new Date(0);if(a.setUTCSeconds(e.claims.nbf-t),r<a)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${a}`)}if(e.claims.auth_time!=null&&af(e.claims.auth_time)){const a=new Date(0);if(a.setUTCSeconds(parseInt(e.claims.auth_time)+n.max_age+t),r>a)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${a}`)}if(n.organization){const a=n.organization.trim();if(a.startsWith("org_")){const c=a;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(c!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${c}", found "${e.claims.org_id}"`)}else{const c=a.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(c!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${c}", found "${e.claims.org_name}"`)}}return e};var pc=Ow(function(n,e){var t=hc&&hc.__assign||function(){return t=Object.assign||function(d){for(var f,p=1,g=arguments.length;p<g;p++)for(var v in f=arguments[p])Object.prototype.hasOwnProperty.call(f,v)&&(d[v]=f[v]);return d},t.apply(this,arguments)};function r(d,f){if(!f)return"";var p="; "+d;return f===!0?p:p+"="+f}function i(d,f,p){return encodeURIComponent(d).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(f).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(g){if(typeof g.expires=="number"){var v=new Date;v.setMilliseconds(v.getMilliseconds()+864e5*g.expires),g.expires=v}return r("Expires",g.expires?g.expires.toUTCString():"")+r("Domain",g.domain)+r("Path",g.path)+r("Secure",g.secure)+r("SameSite",g.sameSite)}(p)}function a(d){for(var f={},p=d?d.split("; "):[],g=/(%[\dA-F]{2})+/gi,v=0;v<p.length;v++){var y=p[v].split("="),b=y.slice(1).join("=");b.charAt(0)==='"'&&(b=b.slice(1,-1));try{f[y[0].replace(g,decodeURIComponent)]=b.replace(g,decodeURIComponent)}catch{}}return f}function c(){return a(document.cookie)}function u(d,f,p){document.cookie=i(d,f,t({path:"/"},p))}e.__esModule=!0,e.encode=i,e.parse=a,e.getAll=c,e.get=function(d){return c()[d]},e.set=u,e.remove=function(d,f){u(d,"",t(t({},f),{expires:-1}))}});Iw(pc),pc.encode,pc.parse,pc.getAll;var w4=pc.get,C1=pc.set,S1=pc.remove;const _u={get(n){const e=w4(n);if(e!==void 0)return JSON.parse(e)},save(n,e,t){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),t!=null&&t.daysUntilExpire&&(r.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(r.domain=t.cookieDomain),C1(n,JSON.stringify(e),r)},remove(n,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),S1(n,t)}},R4={get(n){return _u.get(n)||_u.get(`_legacy_${n}`)},save(n,e,t){let r={};window.location.protocol==="https:"&&(r={secure:!0}),t!=null&&t.daysUntilExpire&&(r.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(r.domain=t.cookieDomain),C1(`_legacy_${n}`,JSON.stringify(e),r),_u.save(n,e,t)},remove(n,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),S1(n,t),_u.remove(n,e),_u.remove(`_legacy_${n}`,e)}},k4={get(n){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(n);return e!=null?JSON.parse(e):void 0},save(n,e){sessionStorage.setItem(n,JSON.stringify(e))},remove(n){sessionStorage.removeItem(n)}};function I4(n,e,t){var r=e===void 0?null:e,i=function(d,f){var p=atob(d);if(f){for(var g=new Uint8Array(p.length),v=0,y=p.length;v<y;++v)g[v]=p.charCodeAt(v);return String.fromCharCode.apply(null,new Uint16Array(g.buffer))}return p}(n,t!==void 0&&t),a=i.indexOf(`
`,10)+1,c=i.substring(a)+(r?"//# sourceMappingURL="+r:""),u=new Blob([c],{type:"application/javascript"});return URL.createObjectURL(u)}var eM,tM,nM,nS,O4=(eM="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",tM=null,nM=!1,function(n){return nS=nS||I4(eM,tM,nM),new Worker(nS,n)});const rS={};class N4{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const r=new Set(((t=await this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);r.add(e),await this.cache.set(this.manifestKey,{keys:[...r]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const r=new Set(t.keys);return r.delete(e),r.size>0?await this.cache.set(this.manifestKey,{keys:[...r]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const M4={memory:()=>new E1().enclosedCache,localstorage:()=>new E4},rM=n=>M4[n],iM=n=>{const{openUrl:e,onRedirect:t}=n,r=go(n,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:e===!1||e?e:t})},iS=new p4;class P4{constructor(e){let t,r;if(this.userCache=new E1().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await iS.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!jv())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(jv().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)r=e.cache;else{if(t=e.cacheLocation||"memory",!rM(t))throw new Error(`Invalid cache location "${t}"`);r=rM(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?_u:R4,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(c=>`auth0.${c}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const i=e.useCookiesForTransactions?this.cookieStorage:k4;var a;this.scope=cv("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new S4(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||y1,this.cacheManager=new C4(r,r.allKeys?void 0:new N4(r,this.options.clientId),this.nowProvider),this.domainUrl=(a=this.options.domain,/^https?:\/\//.test(a)?a:`https://${a}`),this.tokenIssuer=((c,u)=>c?c.startsWith("https://")?c:`https://${c}/`:`${u}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new O4)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||v1)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${eA(e)}`)}async _verifyIdToken(e,t,r){const i=await this.nowProvider();return A4({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:r,leeway:this.options.leeway,max_age:(a=this.options.authorizationParams.max_age,typeof a!="string"?a:parseInt(a,10)||void 0),now:i});var a}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,r){const i=XN(tS()),a=XN(tS()),c=tS(),u=(p=>{const g=new Uint8Array(p);return(v=>{const y={"+":"-","/":"_","=":""};return v.replace(/[+/=]/g,b=>y[b])})(window.btoa(String.fromCharCode(...Array.from(g))))})(await(async p=>await jv().subtle.digest({name:"SHA-256"},new TextEncoder().encode(p)))(c)),d=((p,g,v,y,b,C,E,S)=>Object.assign(Object.assign(Object.assign({client_id:p.clientId},p.authorizationParams),v),{scope:cv(g,v.scope),response_type:"code",response_mode:S||"query",state:y,nonce:b,redirect_uri:E||p.authorizationParams.redirect_uri,code_challenge:C,code_challenge_method:"S256"}))(this.options,this.scope,e,i,a,u,e.redirect_uri||this.options.authorizationParams.redirect_uri||r,t==null?void 0:t.response_mode),f=this._authorizeUrl(d);return{nonce:a,code_verifier:c,scope:d.scope,audience:d.audience||"default",redirect_uri:d.redirect_uri,state:i,url:f}}async loginWithPopup(e,t){var r;if(e=e||{},!(t=t||{}).popup&&(t.popup=(u=>{const d=window.screenX+(window.innerWidth-400)/2,f=window.screenY+(window.innerHeight-600)/2;return window.open(u,"auth0:authorize:popup",`left=${d},top=${f},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const i=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=i.url;const a=await(u=>new Promise((d,f)=>{let p;const g=setInterval(()=>{u.popup&&u.popup.closed&&(clearInterval(g),clearTimeout(v),window.removeEventListener("message",p,!1),f(new Pw(u.popup)))},1e3),v=setTimeout(()=>{clearInterval(g),f(new Mw(u.popup)),window.removeEventListener("message",p,!1)},1e3*(u.timeoutInSeconds||60));p=function(y){if(y.data&&y.data.type==="authorization_response"){if(clearTimeout(v),clearInterval(g),window.removeEventListener("message",p,!1),u.popup.close(),y.data.response.error)return f(fr.fromPayload(y.data.response));d(y.data.response)}},window.addEventListener("message",p)}))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==a.state)throw new fr("state_mismatch","Invalid state");const c=((r=e.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:a.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organization:c})}async getUser(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var t;const r=iM(e),{openUrl:i,fragment:a,appState:c}=r,u=go(r,["openUrl","fragment","appState"]),d=((t=u.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,f=await this._prepareAuthorizeUrl(u.authorizationParams||{}),{url:p}=f,g=go(f,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},g),{appState:c}),d&&{organization:d}));const v=a?`${p}#${a}`:p;i?await i(v):window.location.assign(v)}async handleRedirectCallback(e=window.location.href){const t=e.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");const{state:r,code:i,error:a,error_description:c}=(g=>{g.indexOf("#")>-1&&(g=g.substring(0,g.indexOf("#")));const v=new URLSearchParams(g);return{state:v.get("state"),code:v.get("code")||void 0,error:v.get("error")||void 0,error_description:v.get("error_description")||void 0}})(t.join("")),u=this.transactionManager.get();if(!u)throw new fr("missing_transaction","Invalid state");if(this.transactionManager.remove(),a)throw new Nw(a,c||a,r,u.appState);if(!u.code_verifier||u.state&&u.state!==r)throw new fr("state_mismatch","Invalid state");const d=u.organization,f=u.nonce,p=u.redirect_uri;return await this._requestToken(Object.assign({audience:u.audience,scope:u.scope,code_verifier:u.code_verifier,grant_type:"authorization_code",code:i},p?{redirect_uri:p}:{}),{nonceIn:f,organization:d}),{appState:u.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var t;const r=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:cv(this.scope,(t=e.authorizationParams)===null||t===void 0?void 0:t.scope)})}),i=await((a,c)=>{let u=rS[c];return u||(u=a().finally(()=>{delete rS[c],u=null}),rS[c]=u),u})(()=>this._getTokenSilently(r),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return e.detailedResponse?i:i==null?void 0:i.access_token}async _getTokenSilently(e){const{cacheMode:t}=e,r=go(e,["cacheMode"]);if(t!=="off"){const i=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(i)return i}if(t!=="cache-only"){if(!await(async(i,a=3)=>{for(let c=0;c<a;c++)if(await i())return!0;return!1})(()=>iS.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new jf;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),t!=="off"){const f=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(f)return f}const i=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(r):await this._getTokenFromIFrame(r),{id_token:a,access_token:c,oauthTokenScope:u,expires_in:d}=i;return Object.assign(Object.assign({id_token:a,access_token:c},u?{scope:u}:null),{expires_in:d})}finally{await iS.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},t={}){var r;const i=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:cv(this.scope,(r=e.authorizationParams)===null||r===void 0?void 0:r.scope)})});return t=Object.assign(Object.assign({},g4),t),await this.loginWithPopup(i,t),(await this.cacheManager.get(new So({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const t=e.logoutParams||{},{federated:r}=t,i=go(t,["federated"]),a=r?"&federated":"";return this._url(`/v2/logout?${eA(Object.assign({clientId:e.clientId},i))}`)+a}async logout(e={}){const t=iM(e),{openUrl:r}=t,i=go(t,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const a=this._buildLogoutUrl(i);r?await r(a):r!==!1&&window.location.assign(a)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!t.organization&&(t.organization=r);const{url:i,state:a,nonce:c,code_verifier:u,redirect_uri:d,scope:f,audience:p}=await this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new fr("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const g=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,v=await((b,C,E=60)=>new Promise((S,w)=>{const A=window.document.createElement("iframe");A.setAttribute("width","0"),A.setAttribute("height","0"),A.style.display="none";const k=()=>{window.document.body.contains(A)&&(window.document.body.removeChild(A),window.removeEventListener("message",O,!1))};let O;const D=setTimeout(()=>{w(new jf),k()},1e3*E);O=function(M){if(M.origin!=C||!M.data||M.data.type!=="authorization_response")return;const N=M.source;N&&N.close(),M.data.response.error?w(fr.fromPayload(M.data.response)):S(M.data.response),clearTimeout(D),window.removeEventListener("message",O,!1),setTimeout(k,2e3)},window.addEventListener("message",O,!1),window.document.body.appendChild(A),A.setAttribute("src",b)}))(i,this.domainUrl,g);if(a!==v.state)throw new fr("state_mismatch","Invalid state");const y=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:u,code:v.code,grant_type:"authorization_code",redirect_uri:d,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:c,organization:t.organization});return Object.assign(Object.assign({},y),{scope:f,oauthTokenScope:y.scope,audience:p})}catch(g){throw g.error==="login_required"&&this.logout({openUrl:!1}),g}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new So({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new _1(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const r=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{const a=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:r}),i&&{timeout:i}));return Object.assign(Object.assign({},a),{scope:e.authorizationParams.scope,oauthTokenScope:a.scope,audience:e.authorizationParams.audience||"default"})}catch(a){if((a.message.indexOf("Missing Refresh Token")>-1||a.message&&a.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw a}}async _saveEntryInCache(e){const{id_token:t,decodedToken:r}=e,i=go(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:r}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(i)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",t=await this.cacheManager.getIdToken(new So({clientId:this.options.clientId,audience:e,scope:this.scope})),r=this.userCache.get("@@user@@");return t&&t.id_token===(r==null?void 0:r.id_token)?r:(this.userCache.set("@@user@@",t),t)}async _getEntryFromCache({scope:e,audience:t,clientId:r}){const i=await this.cacheManager.get(new So({scope:e,audience:t,clientId:r}),60);if(i&&i.access_token){const{access_token:a,oauthTokenScope:c,expires_in:u}=i,d=await this._getIdTokenFromCache();return d&&Object.assign(Object.assign({id_token:d.id_token,access_token:a},c?{scope:c}:null),{expires_in:u})}}async _requestToken(e,t){const{nonceIn:r,organization:i}=t||{},a=await b4(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),c=await this._verifyIdToken(a.id_token,r,i);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},a),{decodedToken:c,scope:e.scope,audience:e.audience||"default"}),a.scope?{oauthTokenScope:a.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||c.claims.org_id),Object.assign(Object.assign({},a),{decodedToken:c})}}async function xee(n){const e=new P4(n);return await e.checkSession(),e}var x4=typeof WeakRef<"u",oM=class{constructor(n){x4&&typeof n=="object"?this._weakRef=new WeakRef(n):this._instance=n}deref(){var n,e;let t;return this._weakRef?(t=(n=this._weakRef)==null?void 0:n.deref(),t||delete this._weakRef):(t=this._instance,(e=t==null?void 0:t.isDisposed)!=null&&e.call(t)&&delete this._instance),t}},qc="keyborg:focusin",Gf="keyborg:focusout";function D4(n){const e=n.HTMLElement,t=e.prototype.focus;let r=!1;return e.prototype.focus=function(){r=!0},n.document.createElement("button").focus(),e.prototype.focus=t,r}var oS=!1;function Po(n){const e=n.focus;e.__keyborgNativeFocus?e.__keyborgNativeFocus.call(n):n.focus()}function L4(n){const e=n;oS||(oS=D4(e));const t=e.HTMLElement.prototype.focus;if(t.__keyborgNativeFocus)return;e.HTMLElement.prototype.focus=d;const r=new Set,i=p=>{const g=p.target;if(!g)return;const v=new CustomEvent(Gf,{cancelable:!0,bubbles:!0,composed:!0,detail:{originalEvent:p}});g.dispatchEvent(v)},a=p=>{const g=p.target;if(!g)return;let v=p.composedPath()[0];const y=new Set;for(;v;)v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(y.add(v),v=v.host):v=v.parentNode;for(const b of r){const C=b.deref();(!C||!y.has(C))&&(r.delete(b),C&&(C.removeEventListener("focusin",a,!0),C.removeEventListener("focusout",i,!0)))}c(g,p.relatedTarget||void 0)},c=(p,g,v)=>{var y;const b=p.shadowRoot;if(b){for(const S of r)if(S.deref()===b)return;b.addEventListener("focusin",a,!0),b.addEventListener("focusout",i,!0),r.add(new oM(b));return}const C={relatedTarget:g,originalEvent:v},E=new CustomEvent(qc,{cancelable:!0,bubbles:!0,composed:!0,detail:C});E.details=C,(oS||u.lastFocusedProgrammatically)&&(C.isFocusedProgrammatically=p===((y=u.lastFocusedProgrammatically)==null?void 0:y.deref()),u.lastFocusedProgrammatically=void 0),p.dispatchEvent(E)},u=e.__keyborgData={focusInHandler:a,focusOutHandler:i,shadowTargets:r};e.document.addEventListener("focusin",e.__keyborgData.focusInHandler,!0),e.document.addEventListener("focusout",e.__keyborgData.focusOutHandler,!0);function d(){const p=e.__keyborgData;return p&&(p.lastFocusedProgrammatically=new oM(this)),t.apply(this,arguments)}let f=e.document.activeElement;for(;f&&f.shadowRoot;)c(f),f=f.shadowRoot.activeElement;d.__keyborgNativeFocus=t}function U4(n){const e=n,t=e.HTMLElement.prototype,r=t.focus.__keyborgNativeFocus,i=e.__keyborgData;if(i){e.document.removeEventListener("focusin",i.focusInHandler,!0),e.document.removeEventListener("focusout",i.focusOutHandler,!0);for(const a of i.shadowTargets){const c=a.deref();c&&(c.removeEventListener("focusin",i.focusInHandler,!0),c.removeEventListener("focusout",i.focusOutHandler,!0))}i.shadowTargets.clear(),delete e.__keyborgData}r&&(t.focus=r)}var z4=500,T1=0,H4=class{constructor(n,e){this._isNavigatingWithKeyboard_DO_NOT_USE=!1,this._onFocusIn=r=>{if(this._isMouseOrTouchUsedTimer||this.isNavigatingWithKeyboard)return;const i=r.detail;i.relatedTarget&&(i.isFocusedProgrammatically||i.isFocusedProgrammatically===void 0||(this.isNavigatingWithKeyboard=!0))},this._onMouseDown=r=>{r.buttons===0||r.clientX===0&&r.clientY===0&&r.screenX===0&&r.screenY===0||this._onMouseOrTouch()},this._onMouseOrTouch=()=>{const r=this._win;r&&(this._isMouseOrTouchUsedTimer&&r.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=r.setTimeout(()=>{delete this._isMouseOrTouchUsedTimer},1e3)),this.isNavigatingWithKeyboard=!1},this._onKeyDown=r=>{this.isNavigatingWithKeyboard?this._shouldDismissKeyboardNavigation(r)&&this._scheduleDismiss():this._shouldTriggerKeyboardNavigation(r)&&(this.isNavigatingWithKeyboard=!0)},this.id="c"+ ++T1,this._win=n;const t=n.document;if(e){const r=e.triggerKeys,i=e.dismissKeys;r!=null&&r.length&&(this._triggerKeys=new Set(r)),i!=null&&i.length&&(this._dismissKeys=new Set(i))}t.addEventListener(qc,this._onFocusIn,!0),t.addEventListener("mousedown",this._onMouseDown,!0),n.addEventListener("keydown",this._onKeyDown,!0),t.addEventListener("touchstart",this._onMouseOrTouch,!0),t.addEventListener("touchend",this._onMouseOrTouch,!0),t.addEventListener("touchcancel",this._onMouseOrTouch,!0),L4(n)}get isNavigatingWithKeyboard(){return this._isNavigatingWithKeyboard_DO_NOT_USE}set isNavigatingWithKeyboard(n){this._isNavigatingWithKeyboard_DO_NOT_USE!==n&&(this._isNavigatingWithKeyboard_DO_NOT_USE=n,this.update())}dispose(){const n=this._win;if(n){this._isMouseOrTouchUsedTimer&&(n.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=void 0),this._dismissTimer&&(n.clearTimeout(this._dismissTimer),this._dismissTimer=void 0),U4(n);const e=n.document;e.removeEventListener(qc,this._onFocusIn,!0),e.removeEventListener("mousedown",this._onMouseDown,!0),n.removeEventListener("keydown",this._onKeyDown,!0),e.removeEventListener("touchstart",this._onMouseOrTouch,!0),e.removeEventListener("touchend",this._onMouseOrTouch,!0),e.removeEventListener("touchcancel",this._onMouseOrTouch,!0),delete this._win}}isDisposed(){return!!this._win}update(){var n,e;const t=(e=(n=this._win)==null?void 0:n.__keyborg)==null?void 0:e.refs;if(t)for(const r of Object.keys(t))Dw.update(t[r],this.isNavigatingWithKeyboard)}_shouldTriggerKeyboardNavigation(n){var e;if(n.key==="Tab")return!0;const t=(e=this._win)==null?void 0:e.document.activeElement,r=!this._triggerKeys||this._triggerKeys.has(n.keyCode),i=t&&(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable);return r&&!i}_shouldDismissKeyboardNavigation(n){var e;return(e=this._dismissKeys)==null?void 0:e.has(n.keyCode)}_scheduleDismiss(){const n=this._win;if(n){this._dismissTimer&&(n.clearTimeout(this._dismissTimer),this._dismissTimer=void 0);const e=n.document.activeElement;this._dismissTimer=n.setTimeout(()=>{this._dismissTimer=void 0;const t=n.document.activeElement;e&&t&&e===t&&(this.isNavigatingWithKeyboard=!1)},z4)}}},Dw=class A1{constructor(e,t){this._cb=[],this._id="k"+ ++T1,this._win=e;const r=e.__keyborg;r?(this._core=r.core,r.refs[this._id]=this):(this._core=new H4(e,t),e.__keyborg={core:this._core,refs:{[this._id]:this}})}static create(e,t){return new A1(e,t)}static dispose(e){e.dispose()}static update(e,t){e._cb.forEach(r=>r(t))}dispose(){var e;const t=(e=this._win)==null?void 0:e.__keyborg;t!=null&&t.refs[this._id]&&(delete t.refs[this._id],Object.keys(t.refs).length===0&&(t.core.dispose(),delete this._win.__keyborg)),this._cb=[],delete this._core,delete this._win}isNavigatingWithKeyboard(){var e;return!!((e=this._core)!=null&&e.isNavigatingWithKeyboard)}subscribe(e){this._cb.push(e)}unsubscribe(e){const t=this._cb.indexOf(e);t>=0&&this._cb.splice(t,1)}setVal(e){this._core&&(this._core.isNavigatingWithKeyboard=e)}};function F4(n,e){return Dw.create(n,e)}function B4(n){Dw.dispose(n)}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 *//*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const Ts="data-tabster",K4="data-tabster-dummy",w1=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","*[tabindex]","*[contenteditable]","details > summary","audio[controls]","video[controls]"].join(", "),la={EscapeGroupper:1,Restorer:2,Deloser:3},Qa={Invisible:0,PartiallyVisible:1,Visible:2},Sy={Source:0,Target:1},su={Both:0,Vertical:1,Horizontal:2,Grid:3,GridLinear:4},An={ArrowUp:1,ArrowDown:2,ArrowLeft:3,ArrowRight:4,PageUp:5,PageDown:6,Home:7,End:8},q4={Unlimited:0,Limited:1,LimitedTrapFocus:2},aM={Enter:1},$4={Outside:2};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function rr(n,e){var t;return(t=n.storageEntry(e))===null||t===void 0?void 0:t.tabster}function R1(n,e,t){var r,i;const a=t||n._noop?void 0:e.getAttribute(Ts);let c=n.storageEntry(e),u;if(a)if(a!==((r=c==null?void 0:c.attr)===null||r===void 0?void 0:r.string))try{const g=JSON.parse(a);if(typeof g!="object")throw new Error(`Value is not a JSON object, got '${a}'.`);u={string:a,object:g}}catch{}else return;else if(!c)return;c||(c=n.storageEntry(e,!0)),c.tabster||(c.tabster={});const d=c.tabster||{},f=((i=c.attr)===null||i===void 0?void 0:i.object)||{},p=(u==null?void 0:u.object)||{};for(const g of Object.keys(f))if(!p[g]){if(g==="root"){const v=d[g];v&&n.root.onRoot(v,!0)}switch(g){case"deloser":case"root":case"groupper":case"modalizer":case"restorer":case"mover":const v=d[g];v&&(v.dispose(),delete d[g]);break;case"observed":delete d[g],n.observedElement&&n.observedElement.onObservedElementUpdate(e);break;case"focusable":case"outline":case"uncontrolled":case"sys":delete d[g];break}}for(const g of Object.keys(p)){const v=p.sys;switch(g){case"deloser":d.deloser?d.deloser.setProps(p.deloser):n.deloser&&(d.deloser=n.deloser.createDeloser(e,p.deloser));break;case"root":d.root?d.root.setProps(p.root):d.root=n.root.createRoot(e,p.root,v),n.root.onRoot(d.root);break;case"modalizer":d.modalizer?d.modalizer.setProps(p.modalizer):n.modalizer&&(d.modalizer=n.modalizer.createModalizer(e,p.modalizer,v));break;case"restorer":d.restorer?d.restorer.setProps(p.restorer):n.restorer&&p.restorer&&(d.restorer=n.restorer.createRestorer(e,p.restorer));break;case"focusable":d.focusable=p.focusable;break;case"groupper":d.groupper?d.groupper.setProps(p.groupper):n.groupper&&(d.groupper=n.groupper.createGroupper(e,p.groupper,v));break;case"mover":d.mover?d.mover.setProps(p.mover):n.mover&&(d.mover=n.mover.createMover(e,p.mover,v));break;case"observed":n.observedElement&&(d.observed=p.observed,n.observedElement.onObservedElementUpdate(e));break;case"uncontrolled":d.uncontrolled=p.uncontrolled;break;case"outline":n.outline&&(d.outline=p.outline);break;case"sys":d.sys=p.sys;break;default:console.error(`Unknown key '${g}' in data-tabster attribute value.`)}}u?c.attr=u:(Object.keys(d).length===0&&(delete c.tabster,delete c.attr),n.storageEntry(e,!1))}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const j4="tabster:focusin",G4="tabster:focusout",V4="tabster:movefocus",Y4="tabster:modalizer:active",Q4="tabster:modalizer:inactive",Z4="tabster:mover:state",sM="tabster:mover:movefocus",cM="tabster:mover:memorized-element",lM="tabster:groupper:movefocus",tA="tabster:restorer:restore-focus",W4="tabster:root:focus",X4="tabster:root:blur",J4=typeof CustomEvent<"u"?CustomEvent:function(){};class Ta extends J4{constructor(e,t){super(e,{bubbles:!0,cancelable:!0,composed:!0,detail:t}),this.details=t}}class eV extends Ta{constructor(e){super(j4,e)}}class tV extends Ta{constructor(e){super(G4,e)}}class As extends Ta{constructor(e){super(V4,e)}}class uM extends Ta{constructor(e){super(Z4,e)}}class nV extends Ta{constructor(e){super(Y4,e)}}class rV extends Ta{constructor(e){super(Q4,e)}}class dM extends Ta{constructor(){super(tA)}}class iV extends Ta{constructor(e){super(W4,e)}}class oV extends Ta{constructor(e){super(X4,e)}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const aV=n=>new MutationObserver(n),sV=(n,e,t,r)=>n.createTreeWalker(e,t,r),cV=n=>n?n.parentNode:null,lV=n=>n?n.parentElement:null,uV=(n,e)=>!!(e&&(n!=null&&n.contains(e))),dV=n=>n.activeElement,hV=(n,e)=>n.querySelector(e),fV=(n,e)=>Array.prototype.slice.call(n.querySelectorAll(e),0),pV=(n,e)=>n.getElementById(e),gV=n=>(n==null?void 0:n.firstChild)||null,mV=n=>(n==null?void 0:n.lastChild)||null,vV=n=>(n==null?void 0:n.nextSibling)||null,yV=n=>(n==null?void 0:n.previousSibling)||null,_V=n=>(n==null?void 0:n.firstElementChild)||null,bV=n=>(n==null?void 0:n.lastElementChild)||null,EV=n=>(n==null?void 0:n.nextElementSibling)||null,CV=n=>(n==null?void 0:n.previousElementSibling)||null,SV=(n,e)=>n.appendChild(e),TV=(n,e,t)=>n.insertBefore(e,t),AV=n=>{var e;return((e=n.ownerDocument)===null||e===void 0?void 0:e.getSelection())||null},wV=(n,e)=>n.ownerDocument.getElementsByName(e),fe={createMutationObserver:aV,createTreeWalker:sV,getParentNode:cV,getParentElement:lV,nodeContains:uV,getActiveElement:dV,querySelector:hV,querySelectorAll:fV,getElementById:pV,getFirstChild:gV,getLastChild:mV,getNextSibling:vV,getPreviousSibling:yV,getFirstElementChild:_V,getLastElementChild:bV,getNextElementSibling:EV,getPreviousElementSibling:CV,appendChild:SV,insertBefore:TV,getSelection:AV,getElementsByName:wV};function RV(n){for(const e of Object.keys(n))fe[e]=n[e]}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let nA;const hM=typeof DOMRect<"u"?DOMRect:class{constructor(n,e,t,r){this.left=n||0,this.top=e||0,this.right=(n||0)+(t||0),this.bottom=(e||0)+(r||0)}};let kV=0;try{document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT),nA=!1}catch{nA=!0}const aS=100;function Aa(n){const e=n();let t=e.__tabsterInstanceContext;return t||(t={elementByUId:{},basics:{Promise:e.Promise||void 0,WeakRef:e.WeakRef||void 0},containerBoundingRectCache:{},lastContainerBoundingRectCacheId:0,fakeWeakRefs:[],fakeWeakRefsStarted:!1},e.__tabsterInstanceContext=t),t}function IV(n){const e=n.__tabsterInstanceContext;e&&(e.elementByUId={},delete e.WeakRef,e.containerBoundingRectCache={},e.containerBoundingRectCacheTimer&&n.clearTimeout(e.containerBoundingRectCacheTimer),e.fakeWeakRefsTimer&&n.clearTimeout(e.fakeWeakRefsTimer),e.fakeWeakRefs=[],delete n.__tabsterInstanceContext)}function OV(n){const e=n.__tabsterInstanceContext;return new((e==null?void 0:e.basics.WeakMap)||WeakMap)}function NV(n){return!!n.querySelector(w1)}class k1{constructor(e){this._target=e}deref(){return this._target}static cleanup(e,t){return e._target?t||!Uw(e._target.ownerDocument,e._target)?(delete e._target,!0):!1:!0}}class ci{constructor(e,t,r){const i=Aa(e);let a;i.WeakRef?a=new i.WeakRef(t):(a=new k1(t),i.fakeWeakRefs.push(a)),this._ref=a,this._data=r}get(){const e=this._ref;let t;return e&&(t=e.deref(),t||delete this._ref),t}getData(){return this._data}}function I1(n,e){const t=Aa(n);t.fakeWeakRefs=t.fakeWeakRefs.filter(r=>!k1.cleanup(r,e))}function O1(n){const e=Aa(n);e.fakeWeakRefsStarted||(e.fakeWeakRefsStarted=!0,e.WeakRef=UV(e)),e.fakeWeakRefsTimer||(e.fakeWeakRefsTimer=n().setTimeout(()=>{e.fakeWeakRefsTimer=void 0,I1(n),O1(n)},2*60*1e3))}function MV(n){const e=Aa(n);e.fakeWeakRefsStarted=!1,e.fakeWeakRefsTimer&&(n().clearTimeout(e.fakeWeakRefsTimer),e.fakeWeakRefsTimer=void 0,e.fakeWeakRefs=[])}function Lw(n,e,t){if(e.nodeType!==Node.ELEMENT_NODE)return;const r=nA?t:{acceptNode:t};return fe.createTreeWalker(n,e,NodeFilter.SHOW_ELEMENT,r,!1)}function N1(n,e){let t=e.__tabsterCacheId;const r=Aa(n),i=t?r.containerBoundingRectCache[t]:void 0;if(i)return i.rect;const a=e.ownerDocument&&e.ownerDocument.documentElement;if(!a)return new hM;let c=0,u=0,d=a.clientWidth,f=a.clientHeight;if(e!==a){const g=e.getBoundingClientRect();c=Math.max(c,g.left),u=Math.max(u,g.top),d=Math.min(d,g.right),f=Math.min(f,g.bottom)}const p=new hM(c<d?c:-1,u<f?u:-1,c<d?d-c:0,u<f?f-u:0);return t||(t="r-"+ ++r.lastContainerBoundingRectCacheId,e.__tabsterCacheId=t),r.containerBoundingRectCache[t]={rect:p,element:e},r.containerBoundingRectCacheTimer||(r.containerBoundingRectCacheTimer=window.setTimeout(()=>{r.containerBoundingRectCacheTimer=void 0;for(const g of Object.keys(r.containerBoundingRectCache))delete r.containerBoundingRectCache[g].element.__tabsterCacheId;r.containerBoundingRectCache={}},50)),p}function fM(n,e,t){const r=M1(e);if(!r)return!1;const i=N1(n,r),a=e.getBoundingClientRect(),c=a.height*(1-t),u=Math.max(0,i.top-a.top),d=Math.max(0,a.bottom-i.bottom),f=u+d;return f===0||f<=c}function PV(n,e,t){const r=M1(e);if(r){const i=N1(n,r),a=e.getBoundingClientRect();t?r.scrollTop+=a.top-i.top:r.scrollTop+=a.bottom-i.bottom}}function M1(n){const e=n.ownerDocument;if(e){for(let t=fe.getParentElement(n);t;t=fe.getParentElement(t))if(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)return t;return e.documentElement}return null}function xV(n){n.__shouldIgnoreFocus=!0}function P1(n){return!!n.__shouldIgnoreFocus}function DV(n){const e=new Uint32Array(4);if(n.crypto&&n.crypto.getRandomValues)n.crypto.getRandomValues(e);else if(n.msCrypto&&n.msCrypto.getRandomValues)n.msCrypto.getRandomValues(e);else for(let r=0;r<e.length;r++)e[r]=4294967295*Math.random();const t=[];for(let r=0;r<e.length;r++)t.push(e[r].toString(36));return t.push("|"),t.push((++kV).toString(36)),t.push("|"),t.push(Date.now().toString(36)),t.join("")}function Gv(n,e){const t=Aa(n);let r=e.__tabsterElementUID;return r||(r=e.__tabsterElementUID=DV(n())),!t.elementByUId[r]&&Uw(e.ownerDocument,e)&&(t.elementByUId[r]=new ci(n,e)),r}function pM(n,e){const t=Aa(n);for(const r of Object.keys(t.elementByUId)){const i=t.elementByUId[r],a=i&&i.get();a&&e&&!fe.nodeContains(e,a)||delete t.elementByUId[r]}}function Uw(n,e){return fe.nodeContains(n==null?void 0:n.body,e)}function x1(n,e){const t=n.matches||n.matchesSelector||n.msMatchesSelector||n.webkitMatchesSelector;return t&&t.call(n,e)}function LV(n){const e=Aa(n);if(e.basics.Promise)return e.basics.Promise;throw new Error("No Promise defined.")}function UV(n){return n.basics.WeakRef}let zV=0;class kg{constructor(e,t,r){const i=e.getWindow;this._tabster=e,this._element=new ci(i,t),this._props={...r},this.id="i"+ ++zV}getElement(){return this._element.get()}getProps(){return this._props}setProps(e){this._props={...e}}}class Ty{constructor(e,t,r,i,a){var c;this._focusIn=p=>{if(this._fixedTarget){const v=this._fixedTarget.get();v&&Po(v);return}const g=this.input;if(this.onFocusIn&&g){const v=p.relatedTarget;this.onFocusIn(this,this._isBackward(!0,g,v),v)}},this._focusOut=p=>{if(this._fixedTarget)return;this.useDefaultAction=!1;const g=this.input;if(this.onFocusOut&&g){const v=p.relatedTarget;this.onFocusOut(this,this._isBackward(!1,g,v),v)}};const u=e(),d=u.document.createElement("i");d.tabIndex=0,d.setAttribute("role","none"),d.setAttribute(K4,""),d.setAttribute("aria-hidden","true");const f=d.style;f.position="fixed",f.width=f.height="1px",f.opacity="0.001",f.zIndex="-1",f.setProperty("content-visibility","hidden"),xV(d),this.input=d,this.isFirst=r.isFirst,this.isOutside=t,this._isPhantom=(c=r.isPhantom)!==null&&c!==void 0?c:!1,this._fixedTarget=a,d.addEventListener("focusin",this._focusIn),d.addEventListener("focusout",this._focusOut),d.__tabsterDummyContainer=i,this._isPhantom&&(this._disposeTimer=u.setTimeout(()=>{delete this._disposeTimer,this.dispose()},0),this._clearDisposeTimeout=()=>{this._disposeTimer&&(u.clearTimeout(this._disposeTimer),delete this._disposeTimer),delete this._clearDisposeTimeout})}dispose(){var e;this._clearDisposeTimeout&&this._clearDisposeTimeout();const t=this.input;t&&(delete this._fixedTarget,delete this.onFocusIn,delete this.onFocusOut,delete this.input,t.removeEventListener("focusin",this._focusIn),t.removeEventListener("focusout",this._focusOut),delete t.__tabsterDummyContainer,(e=fe.getParentNode(t))===null||e===void 0||e.removeChild(t))}setTopLeft(e,t){var r;const i=(r=this.input)===null||r===void 0?void 0:r.style;i&&(i.top=`${e}px`,i.left=`${t}px`)}_isBackward(e,t,r){return e&&!r?!this.isFirst:!!(r&&t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING)}}const G_={Root:1,Modalizer:2,Mover:3,Groupper:4};class pd{constructor(e,t,r,i,a,c){this._element=t,this._instance=new FV(e,t,this,r,i,a,c)}_setHandlers(e,t){this._onFocusIn=e,this._onFocusOut=t}moveOut(e){var t;(t=this._instance)===null||t===void 0||t.moveOut(e)}moveOutWithDefaultAction(e,t){var r;(r=this._instance)===null||r===void 0||r.moveOutWithDefaultAction(e,t)}getHandler(e){return e?this._onFocusIn:this._onFocusOut}setTabbable(e){var t;(t=this._instance)===null||t===void 0||t.setTabbable(this,e)}dispose(){this._instance&&(this._instance.dispose(this),delete this._instance),delete this._onFocusIn,delete this._onFocusOut}static moveWithPhantomDummy(e,t,r,i,a){const u=new Ty(e.getWindow,!0,{isPhantom:!0,isFirst:!0}).input;if(u){let d,f;if(t.tagName==="BODY")d=t,f=r&&i||!r&&!i?fe.getFirstElementChild(t):null;else{r&&(!i||i&&!e.focusable.isFocusable(t,!1,!0,!0))?(d=t,f=i?t.firstElementChild:null):(d=fe.getParentElement(t),f=r&&i||!r&&!i?t:fe.getNextElementSibling(t));let p,g;do p=r&&i||!r&&!i?fe.getPreviousElementSibling(f):f,g=gd(p),g===t?f=r&&i||!r&&!i?p:fe.getNextElementSibling(p):g=null;while(g)}d!=null&&d.dispatchEvent(new As({by:"root",owner:d,next:null,relatedEvent:a}))&&(fe.insertBefore(d,u,f),Po(u))}}static addPhantomDummyWithTarget(e,t,r,i){const c=new Ty(e.getWindow,!0,{isPhantom:!0,isFirst:!0},void 0,new ci(e.getWindow,i)).input;if(c){let u,d;NV(t)&&!r?(u=t,d=fe.getFirstElementChild(t)):(u=fe.getParentElement(t),d=r?t:fe.getNextElementSibling(t)),u&&fe.insertBefore(u,c,d)}}}class HV{constructor(e){this._updateQueue=new Set,this._lastUpdateQueueTime=0,this._changedParents=new WeakSet,this._dummyElements=[],this._dummyCallbacks=new WeakMap,this._domChanged=t=>{var r;this._changedParents.has(t)||(this._changedParents.add(t),!this._updateDummyInputsTimer&&(this._updateDummyInputsTimer=(r=this._win)===null||r===void 0?void 0:r.call(this).setTimeout(()=>{delete this._updateDummyInputsTimer;for(const i of this._dummyElements){const a=i.get();if(a){const c=this._dummyCallbacks.get(a);if(c){const u=fe.getParentNode(a);(!u||this._changedParents.has(u))&&c()}}}this._changedParents=new WeakSet},aS)))},this._win=e}add(e,t){!this._dummyCallbacks.has(e)&&this._win&&(this._dummyElements.push(new ci(this._win,e)),this._dummyCallbacks.set(e,t),this.domChanged=this._domChanged)}remove(e){this._dummyElements=this._dummyElements.filter(t=>{const r=t.get();return r&&r!==e}),this._dummyCallbacks.delete(e),this._dummyElements.length===0&&delete this.domChanged}dispose(){var e;const t=(e=this._win)===null||e===void 0?void 0:e.call(this);this._updateTimer&&(t==null||t.clearTimeout(this._updateTimer),delete this._updateTimer),this._updateDummyInputsTimer&&(t==null||t.clearTimeout(this._updateDummyInputsTimer),delete this._updateDummyInputsTimer),this._changedParents=new WeakSet,this._dummyCallbacks=new WeakMap,this._dummyElements=[],this._updateQueue.clear(),delete this.domChanged,delete this._win}updatePositions(e){this._win&&(this._updateQueue.add(e),this._lastUpdateQueueTime=Date.now(),this._scheduledUpdatePositions())}_scheduledUpdatePositions(){var e;this._updateTimer||(this._updateTimer=(e=this._win)===null||e===void 0?void 0:e.call(this).setTimeout(()=>{if(delete this._updateTimer,this._lastUpdateQueueTime+aS<=Date.now()){const t=new Map,r=[];for(const i of this._updateQueue)r.push(i(t));this._updateQueue.clear();for(const i of r)i();t.clear()}else this._scheduledUpdatePositions()},aS))}}class FV{constructor(e,t,r,i,a,c,u){this._wrappers=[],this._isOutside=!1,this._transformElements=new Set,this._onFocusIn=(y,b,C)=>{this._onFocus(!0,y,b,C)},this._onFocusOut=(y,b,C)=>{this._onFocus(!1,y,b,C)},this.moveOut=y=>{var b;const C=this._firstDummy,E=this._lastDummy;if(C&&E){this._ensurePosition();const S=C.input,w=E.input,A=(b=this._element)===null||b===void 0?void 0:b.get();if(S&&w&&A){let k;y?(S.tabIndex=0,k=S):(w.tabIndex=0,k=w),k&&Po(k)}}},this.moveOutWithDefaultAction=(y,b)=>{var C;const E=this._firstDummy,S=this._lastDummy;if(E&&S){this._ensurePosition();const w=E.input,A=S.input,k=(C=this._element)===null||C===void 0?void 0:C.get();if(w&&A&&k){let O;y?!E.isOutside&&this._tabster.focusable.isFocusable(k,!0,!0,!0)?O=k:(E.useDefaultAction=!0,w.tabIndex=0,O=w):(S.useDefaultAction=!0,A.tabIndex=0,O=A),O&&k.dispatchEvent(new As({by:"root",owner:k,next:null,relatedEvent:b}))&&Po(O)}}},this.setTabbable=(y,b)=>{var C,E;for(const w of this._wrappers)if(w.manager===y){w.tabbable=b;break}const S=this._getCurrent();if(S){const w=S.tabbable?0:-1;let A=(C=this._firstDummy)===null||C===void 0?void 0:C.input;A&&(A.tabIndex=w),A=(E=this._lastDummy)===null||E===void 0?void 0:E.input,A&&(A.tabIndex=w)}},this._addDummyInputs=()=>{this._addTimer||(this._addTimer=this._getWindow().setTimeout(()=>{delete this._addTimer,this._ensurePosition(),this._addTransformOffsets()},0))},this._addTransformOffsets=()=>{this._tabster._dummyObserver.updatePositions(this._computeTransformOffsets)},this._computeTransformOffsets=y=>{var b,C;const E=((b=this._firstDummy)===null||b===void 0?void 0:b.input)||((C=this._lastDummy)===null||C===void 0?void 0:C.input),S=this._transformElements,w=new Set;let A=0,k=0;const O=this._getWindow();for(let D=E;D&&D.nodeType===Node.ELEMENT_NODE;D=fe.getParentElement(D)){let M=y.get(D);if(M===void 0){const N=O.getComputedStyle(D).transform;N&&N!=="none"&&(M={scrollTop:D.scrollTop,scrollLeft:D.scrollLeft}),y.set(D,M||null)}M&&(w.add(D),S.has(D)||D.addEventListener("scroll",this._addTransformOffsets),A+=M.scrollTop,k+=M.scrollLeft)}for(const D of S)w.has(D)||D.removeEventListener("scroll",this._addTransformOffsets);return this._transformElements=w,()=>{var D,M;(D=this._firstDummy)===null||D===void 0||D.setTopLeft(A,k),(M=this._lastDummy)===null||M===void 0||M.setTopLeft(A,k)}};const d=t.get();if(!d)throw new Error("No element");this._tabster=e,this._getWindow=e.getWindow,this._callForDefaultAction=u;const f=d.__tabsterDummy;if((f||this)._wrappers.push({manager:r,priority:i,tabbable:!0}),f)return f;d.__tabsterDummy=this;const p=a==null?void 0:a.dummyInputsPosition,g=d.tagName;this._isOutside=p?p===$4.Outside:(c||g==="UL"||g==="OL"||g==="TABLE")&&!(g==="LI"||g==="TD"||g==="TH"),this._firstDummy=new Ty(this._getWindow,this._isOutside,{isFirst:!0},t),this._lastDummy=new Ty(this._getWindow,this._isOutside,{isFirst:!1},t);const v=this._firstDummy.input;v&&e._dummyObserver.add(v,this._addDummyInputs),this._firstDummy.onFocusIn=this._onFocusIn,this._firstDummy.onFocusOut=this._onFocusOut,this._lastDummy.onFocusIn=this._onFocusIn,this._lastDummy.onFocusOut=this._onFocusOut,this._element=t,this._addDummyInputs()}dispose(e,t){var r,i,a,c;if((this._wrappers=this._wrappers.filter(d=>d.manager!==e&&!t)).length===0){delete((r=this._element)===null||r===void 0?void 0:r.get()).__tabsterDummy;for(const p of this._transformElements)p.removeEventListener("scroll",this._addTransformOffsets);this._transformElements.clear();const d=this._getWindow();this._addTimer&&(d.clearTimeout(this._addTimer),delete this._addTimer);const f=(i=this._firstDummy)===null||i===void 0?void 0:i.input;f&&this._tabster._dummyObserver.remove(f),(a=this._firstDummy)===null||a===void 0||a.dispose(),(c=this._lastDummy)===null||c===void 0||c.dispose()}}_onFocus(e,t,r,i){var a;const c=this._getCurrent();c&&(!t.useDefaultAction||this._callForDefaultAction)&&((a=c.manager.getHandler(e))===null||a===void 0||a(t,r,i))}_getCurrent(){return this._wrappers.sort((e,t)=>e.tabbable!==t.tabbable?e.tabbable?-1:1:e.priority-t.priority),this._wrappers[0]}_ensurePosition(){var e,t,r;const i=(e=this._element)===null||e===void 0?void 0:e.get(),a=(t=this._firstDummy)===null||t===void 0?void 0:t.input,c=(r=this._lastDummy)===null||r===void 0?void 0:r.input;if(!(!i||!a||!c))if(this._isOutside){const u=fe.getParentNode(i);if(u){const d=fe.getNextSibling(i);d!==c&&fe.insertBefore(u,c,d),fe.getPreviousElementSibling(i)!==a&&fe.insertBefore(u,a,i)}}else{fe.getLastElementChild(i)!==c&&fe.appendChild(i,c);const u=fe.getFirstElementChild(i);u&&u!==a&&u.parentNode&&fe.insertBefore(u.parentNode,a,u)}}}function D1(n){let e=null;for(let t=fe.getLastElementChild(n);t;t=fe.getLastElementChild(t))e=t;return e||void 0}function BV(n,e){let t=n,r=null;for(;t&&!r;)r=e?fe.getPreviousElementSibling(t):fe.getNextElementSibling(t),t=fe.getParentElement(t);return r||void 0}function sS(n,e,t,r){const i=n.storageEntry(e,!0);let a=!1;if(!i.aug){if(r===void 0)return a;i.aug={}}if(r===void 0){if(t in i.aug){const c=i.aug[t];delete i.aug[t],c===null?e.removeAttribute(t):e.setAttribute(t,c),a=!0}}else{let c;t in i.aug||(c=e.getAttribute(t)),c!==void 0&&c!==r&&(i.aug[t]=c,r===null?e.removeAttribute(t):e.setAttribute(t,r),a=!0)}return r===void 0&&Object.keys(i.aug).length===0&&(delete i.aug,n.storageEntry(e,!1)),a}function KV(n){var e,t;const r=n.ownerDocument,i=(e=r.defaultView)===null||e===void 0?void 0:e.getComputedStyle(n);return n.offsetParent===null&&r.body!==n&&(i==null?void 0:i.position)!=="fixed"||(i==null?void 0:i.visibility)==="hidden"||(i==null?void 0:i.position)==="fixed"&&(i.display==="none"||((t=n.parentElement)===null||t===void 0?void 0:t.offsetParent)===null&&r.body!==n.parentElement)}function rA(n){return n.tagName==="INPUT"&&!!n.name&&n.type==="radio"}function qV(n){if(!rA(n))return;const e=n.name;let t=Array.from(fe.getElementsByName(n,e)),r;return t=t.filter(i=>rA(i)?(i.checked&&(r=i),!0):!1),{name:e,buttons:new Set(t),checked:r}}function gd(n){var e;return((e=n==null?void 0:n.__tabsterDummyContainer)===null||e===void 0?void 0:e.get())||null}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function $V(n,e){const t=JSON.stringify(n);return e===!0?t:{[Ts]:t}}function jV(n,e){for(const t of Object.keys(e)){const r=e[t];r?n[t]=r:delete n[t]}}function GV(n,e,t){let r;{const i=n.getAttribute(Ts);if(i)try{r=JSON.parse(i)}catch{}}r||(r={}),jV(r,e),Object.keys(r).length>0?n.setAttribute(Ts,$V(r,!0)):n.removeAttribute(Ts)}class gM extends pd{constructor(e,t,r,i){super(e,t,G_.Root,i,void 0,!0),this._onDummyInputFocus=a=>{var c;if(a.useDefaultAction)this._setFocused(!1);else{this._tabster.keyboardNavigation.setNavigatingWithKeyboard(!0);const u=this._element.get();if(u){this._setFocused(!0);const d=this._tabster.focusedElement.getFirstOrLastTabbable(a.isFirst,{container:u,ignoreAccessibility:!0});if(d){Po(d);return}}(c=a.input)===null||c===void 0||c.blur()}},this._setHandlers(this._onDummyInputFocus),this._tabster=e,this._setFocused=r}}class VV extends kg{constructor(e,t,r,i,a){super(e,t,i),this._isFocused=!1,this._setFocused=f=>{var p;if(this._setFocusedTimer&&(this._tabster.getWindow().clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),this._isFocused===f)return;const g=this._element.get();g&&(f?(this._isFocused=!0,(p=this._dummyManager)===null||p===void 0||p.setTabbable(!1),g.dispatchEvent(new iV({element:g}))):this._setFocusedTimer=this._tabster.getWindow().setTimeout(()=>{var v;delete this._setFocusedTimer,this._isFocused=!1,(v=this._dummyManager)===null||v===void 0||v.setTabbable(!0),g.dispatchEvent(new oV({element:g}))},0))},this._onFocusIn=f=>{const p=this._tabster.getParent,g=this._element.get();let v=f.composedPath()[0];do{if(v===g){this._setFocused(!0);return}v=v&&p(v)}while(v)},this._onFocusOut=()=>{this._setFocused(!1)},this._onDispose=r;const c=e.getWindow;this.uid=Gv(c,t),this._sys=a,(e.controlTab||e.rootDummyInputs)&&this.addDummyInputs();const d=c().document;d.addEventListener(qc,this._onFocusIn),d.addEventListener(Gf,this._onFocusOut),this._add()}addDummyInputs(){this._dummyManager||(this._dummyManager=new gM(this._tabster,this._element,this._setFocused,this._sys))}dispose(){var e;this._onDispose(this);const t=this._tabster.getWindow(),r=t.document;r.removeEventListener(qc,this._onFocusIn),r.removeEventListener(Gf,this._onFocusOut),this._setFocusedTimer&&(t.clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),(e=this._dummyManager)===null||e===void 0||e.dispose(),this._remove()}moveOutWithDefaultAction(e,t){const r=this._dummyManager;if(r)r.moveOutWithDefaultAction(e,t);else{const i=this.getElement();i&&gM.moveWithPhantomDummy(this._tabster,i,!0,e,t)}}_add(){}_remove(){}}class Ht{constructor(e,t){this._autoRootWaiting=!1,this._roots={},this._forceDummy=!1,this.rootById={},this._autoRootCreate=()=>{var r;const i=this._win().document,a=i.body;if(a){this._autoRootUnwait(i);const c=this._autoRoot;if(c)return GV(a,{root:c}),R1(this._tabster,a),(r=rr(this._tabster,a))===null||r===void 0?void 0:r.root}else this._autoRootWaiting||(this._autoRootWaiting=!0,i.addEventListener("readystatechange",this._autoRootCreate))},this._onRootDispose=r=>{delete this._roots[r.id]},this._tabster=e,this._win=e.getWindow,this._autoRoot=t,e.queueInit(()=>{this._autoRoot&&this._autoRootCreate()})}_autoRootUnwait(e){e.removeEventListener("readystatechange",this._autoRootCreate),this._autoRootWaiting=!1}dispose(){const e=this._win();this._autoRootUnwait(e.document),delete this._autoRoot,Object.keys(this._roots).forEach(t=>{this._roots[t]&&(this._roots[t].dispose(),delete this._roots[t])}),this.rootById={}}createRoot(e,t,r){const i=new VV(this._tabster,e,this._onRootDispose,t,r);return this._roots[i.id]=i,this._forceDummy&&i.addDummyInputs(),i}addDummyInputs(){this._forceDummy=!0;const e=this._roots;for(const t of Object.keys(e))e[t].addDummyInputs()}static getRootByUId(e,t){const r=e().__tabsterInstance;return r&&r.root.rootById[t]}static getTabsterContext(e,t,r){r===void 0&&(r={});var i,a,c,u;if(!t.ownerDocument)return;const{checkRtl:d,referenceElement:f}=r,p=e.getParent;e.drainInitQueue();let g,v,y,b,C=!1,E,S,w,A,k=f||t;const O={};for(;k&&(!g||d);){const M=rr(e,k);if(d&&w===void 0){const ue=k.dir;ue&&(w=ue.toLowerCase()==="rtl")}if(!M){k=p(k);continue}const N=k.tagName;(M.uncontrolled||N==="IFRAME"||N==="WEBVIEW")&&e.focusable.isVisible(k)&&(A=k),!b&&(!((i=M.focusable)===null||i===void 0)&&i.excludeFromMover)&&!y&&(C=!0);const K=M.modalizer,F=M.groupper,oe=M.mover;!v&&K&&(v=K),!y&&F&&(!v||K)&&(v?(!F.isActive()&&F.getProps().tabbability&&v.userId!==((a=e.modalizer)===null||a===void 0?void 0:a.activeId)&&(v=void 0,y=F),S=F):y=F),!b&&oe&&(!v||K)&&(!F||k!==t)&&k.contains(t)&&(b=oe,E=!!y&&y!==F),M.root&&(g=M.root),!((c=M.focusable)===null||c===void 0)&&c.ignoreKeydown&&Object.assign(O,M.focusable.ignoreKeydown),k=p(k)}if(!g){const M=e.root;M._autoRoot&&!((u=t.ownerDocument)===null||u===void 0)&&u.body&&(g=M._autoRootCreate())}return y&&!b&&(E=!0),g?{root:g,modalizer:v,groupper:y,mover:b,groupperBeforeMover:E,modalizerInGroupper:S,rtl:d?!!w:void 0,uncontrolled:A,excludedFromMover:C,ignoreKeydown:M=>!!O[M.key]}:void 0}static getRoot(e,t){var r;const i=e.getParent;for(let a=t;a;a=i(a)){const c=(r=rr(e,a))===null||r===void 0?void 0:r.root;if(c)return c}}onRoot(e,t){t?delete this.rootById[e.uid]:this.rootById[e.uid]=e}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class L1{constructor(){this._callbacks=[]}dispose(){this._callbacks=[],delete this._val}subscribe(e){const t=this._callbacks;t.indexOf(e)<0&&t.push(e)}subscribeFirst(e){const t=this._callbacks,r=t.indexOf(e);r>=0&&t.splice(r,1),t.unshift(e)}unsubscribe(e){const t=this._callbacks.indexOf(e);t>=0&&this._callbacks.splice(t,1)}setVal(e,t){this._val!==e&&(this._val=e,this._callCallbacks(e,t))}getVal(){return this._val}trigger(e,t){this._callCallbacks(e,t)}_callCallbacks(e,t){this._callbacks.forEach(r=>r(e,t))}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class YV{constructor(e){this._tabster=e}dispose(){}getProps(e){const t=rr(this._tabster,e);return t&&t.focusable||{}}isFocusable(e,t,r,i){return x1(e,w1)&&(t||e.tabIndex!==-1)?(r||this.isVisible(e))&&(i||this.isAccessible(e)):!1}isVisible(e){if(!e.ownerDocument||e.nodeType!==Node.ELEMENT_NODE||KV(e))return!1;const t=e.ownerDocument.body.getBoundingClientRect();return!(t.width===0&&t.height===0)}isAccessible(e){var t;for(let r=e;r;r=fe.getParentElement(r)){const i=rr(this._tabster,r);if(this._isHidden(r)||!((t=i==null?void 0:i.focusable)===null||t===void 0?void 0:t.ignoreAriaDisabled)&&this._isDisabled(r))return!1}return!0}_isDisabled(e){return e.hasAttribute("disabled")}_isHidden(e){var t;const r=e.getAttribute("aria-hidden");return!!(r&&r.toLowerCase()==="true"&&!(!((t=this._tabster.modalizer)===null||t===void 0)&&t.isAugmented(e)))}findFirst(e,t){return this.findElement({...e},t)}findLast(e,t){return this.findElement({isBackward:!0,...e},t)}findNext(e,t){return this.findElement({...e},t)}findPrev(e,t){return this.findElement({...e,isBackward:!0},t)}findDefault(e,t){return this.findElement({...e,acceptCondition:r=>this.isFocusable(r,e.includeProgrammaticallyFocusable)&&!!this.getProps(r).isDefault},t)||null}findAll(e){return this._findElements(!0,e)||[]}findElement(e,t){const r=this._findElements(!1,e,t);return r&&r[0]}_findElements(e,t,r){var i,a,c;const{container:u,currentElement:d=null,includeProgrammaticallyFocusable:f,useActiveModalizer:p,ignoreAccessibility:g,modalizerId:v,isBackward:y,onElement:b}=t;r||(r={});const C=[];let{acceptCondition:E}=t;const S=!!E;if(!u)return null;E||(E=O=>this.isFocusable(O,f,!1,g));const w={container:u,modalizerUserId:v===void 0&&p?(i=this._tabster.modalizer)===null||i===void 0?void 0:i.activeId:v||((c=(a=Ht.getTabsterContext(this._tabster,u))===null||a===void 0?void 0:a.modalizer)===null||c===void 0?void 0:c.userId),from:d||u,isBackward:y,isFindAll:e,acceptCondition:E,hasCustomCondition:S,includeProgrammaticallyFocusable:f,ignoreAccessibility:g,cachedGrouppers:{},cachedRadioGroups:{}},A=Lw(u.ownerDocument,u,O=>this._acceptElement(O,w));if(!A)return null;const k=O=>{var D,M;const N=(D=w.foundElement)!==null&&D!==void 0?D:w.foundBackward;return N&&C.push(N),e?N&&(w.found=!1,delete w.foundElement,delete w.foundBackward,delete w.fromCtx,w.from=N,b&&!b(N))?!1:!!(N||O):(N&&r&&(r.uncontrolled=(M=Ht.getTabsterContext(this._tabster,N))===null||M===void 0?void 0:M.uncontrolled),!!(O&&!N))};if(d||(r.outOfDOMOrder=!0),d&&fe.nodeContains(u,d))A.currentNode=d;else if(y){const O=D1(u);if(!O)return null;if(this._acceptElement(O,w)===NodeFilter.FILTER_ACCEPT&&!k(!0))return w.skippedFocusable&&(r.outOfDOMOrder=!0),C;A.currentNode=O}do y?A.previousNode():A.nextNode();while(k());return w.skippedFocusable&&(r.outOfDOMOrder=!0),C.length?C:null}_acceptElement(e,t){var r,i,a;if(t.found)return NodeFilter.FILTER_ACCEPT;const c=t.foundBackward;if(c&&(e===c||!fe.nodeContains(c,e)))return t.found=!0,t.foundElement=c,NodeFilter.FILTER_ACCEPT;const u=t.container;if(e===u)return NodeFilter.FILTER_SKIP;if(!fe.nodeContains(u,e)||gd(e)||fe.nodeContains(t.rejectElementsFrom,e))return NodeFilter.FILTER_REJECT;const d=t.currentCtx=Ht.getTabsterContext(this._tabster,e);if(!d)return NodeFilter.FILTER_SKIP;if(P1(e))return this.isFocusable(e,void 0,!0,!0)&&(t.skippedFocusable=!0),NodeFilter.FILTER_SKIP;if(!t.hasCustomCondition&&(e.tagName==="IFRAME"||e.tagName==="WEBVIEW"))return this.isVisible(e)&&((r=d.modalizer)===null||r===void 0?void 0:r.userId)===((i=this._tabster.modalizer)===null||i===void 0?void 0:i.activeId)?(t.found=!0,t.rejectElementsFrom=t.foundElement=e,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT;if(!t.ignoreAccessibility&&!this.isAccessible(e))return this.isFocusable(e,!1,!0,!0)&&(t.skippedFocusable=!0),NodeFilter.FILTER_REJECT;let f,p=t.fromCtx;p||(p=t.fromCtx=Ht.getTabsterContext(this._tabster,t.from));const g=p==null?void 0:p.mover;let v=d.groupper,y=d.mover;if(f=(a=this._tabster.modalizer)===null||a===void 0?void 0:a.acceptElement(e,t),f!==void 0&&(t.skippedFocusable=!0),f===void 0&&(v||y||g)){const b=v==null?void 0:v.getElement(),C=g==null?void 0:g.getElement();let E=y==null?void 0:y.getElement();if(E&&fe.nodeContains(C,E)&&fe.nodeContains(u,C)&&(!b||!y||fe.nodeContains(C,b))&&(y=g,E=C),b){if(b===u||!fe.nodeContains(u,b))v=void 0;else if(!fe.nodeContains(b,e))return NodeFilter.FILTER_REJECT}if(E){if(!fe.nodeContains(u,E))y=void 0;else if(!fe.nodeContains(E,e))return NodeFilter.FILTER_REJECT}v&&y&&(E&&b&&!fe.nodeContains(b,E)?y=void 0:v=void 0),v&&(f=v.acceptElement(e,t)),y&&(f=y.acceptElement(e,t))}if(f===void 0&&(f=t.acceptCondition(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,f===NodeFilter.FILTER_SKIP&&this.isFocusable(e,!1,!0,!0)&&(t.skippedFocusable=!0)),f===NodeFilter.FILTER_ACCEPT&&!t.found){if(!t.isFindAll&&rA(e)&&!e.checked){const b=e.name;let C=t.cachedRadioGroups[b];if(C||(C=qV(e),C&&(t.cachedRadioGroups[b]=C)),C!=null&&C.checked&&C.checked!==e)return NodeFilter.FILTER_SKIP}t.isBackward?(t.foundBackward=e,f=NodeFilter.FILTER_SKIP):(t.found=!0,t.foundElement=e)}return f}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const bn={Tab:"Tab",Enter:"Enter",Escape:"Escape",PageUp:"PageUp",PageDown:"PageDown",End:"End",Home:"Home",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown"};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function QV(n,e){var t;const r=n.getParent;let i=e;do{const a=(t=rr(n,i))===null||t===void 0?void 0:t.uncontrolled;if(a&&n.uncontrolled.isUncontrolledCompletely(i,!!a.completely))return i;i=r(i)}while(i)}const mM={[la.Restorer]:0,[la.Deloser]:1,[la.EscapeGroupper]:2};class En extends L1{constructor(e,t){super(),this._init=()=>{const r=this._win(),i=r.document;i.addEventListener(qc,this._onFocusIn,!0),i.addEventListener(Gf,this._onFocusOut,!0),r.addEventListener("keydown",this._onKeyDown,!0);const a=fe.getActiveElement(i);a&&a!==i.body&&this._setFocusedElement(a),this.subscribe(this._onChanged)},this._onFocusIn=r=>{const i=r.composedPath()[0];i&&this._setFocusedElement(i,r.detail.relatedTarget,r.detail.isFocusedProgrammatically)},this._onFocusOut=r=>{var i;this._setFocusedElement(void 0,(i=r.detail)===null||i===void 0?void 0:i.originalEvent.relatedTarget)},this._validateFocusedElement=r=>{},this._onKeyDown=r=>{if(r.key!==bn.Tab||r.ctrlKey)return;const i=this.getVal();if(!i||!i.ownerDocument||i.contentEditable==="true")return;const a=this._tabster,c=a.controlTab,u=Ht.getTabsterContext(a,i);if(!u||u.ignoreKeydown(r))return;const d=r.shiftKey,f=En.findNextTabbable(a,u,void 0,i,void 0,d,!0),p=u.root.getElement();if(!p)return;const g=f==null?void 0:f.element,v=QV(a,i);if(g){const y=f.uncontrolled;if(u.uncontrolled||fe.nodeContains(y,i)){if(!f.outOfDOMOrder&&y===u.uncontrolled||v&&!fe.nodeContains(v,g))return;pd.addPhantomDummyWithTarget(a,i,d,g);return}if(y&&a.focusable.isVisible(y)||g.tagName==="IFRAME"&&a.focusable.isVisible(g)){p.dispatchEvent(new As({by:"root",owner:p,next:g,relatedEvent:r}))&&pd.moveWithPhantomDummy(a,y??g,!1,d,r);return}(c||f!=null&&f.outOfDOMOrder)&&p.dispatchEvent(new As({by:"root",owner:p,next:g,relatedEvent:r}))&&(r.preventDefault(),r.stopImmediatePropagation(),Po(g))}else!v&&p.dispatchEvent(new As({by:"root",owner:p,next:null,relatedEvent:r}))&&u.root.moveOutWithDefaultAction(d,r)},this._onChanged=(r,i)=>{var a,c;if(r)r.dispatchEvent(new eV(i));else{const u=(a=this._lastVal)===null||a===void 0?void 0:a.get();if(u){const d={...i},f=Ht.getTabsterContext(this._tabster,u),p=(c=f==null?void 0:f.modalizer)===null||c===void 0?void 0:c.userId;p&&(d.modalizerId=p),u.dispatchEvent(new tV(d))}}},this._tabster=e,this._win=t,e.queueInit(this._init)}dispose(){super.dispose();const e=this._win(),t=e.document;t.removeEventListener(qc,this._onFocusIn,!0),t.removeEventListener(Gf,this._onFocusOut,!0),e.removeEventListener("keydown",this._onKeyDown,!0),this.unsubscribe(this._onChanged);const r=this._asyncFocus;r&&(e.clearTimeout(r.timeout),delete this._asyncFocus),delete En._lastResetElement,delete this._nextVal,delete this._lastVal}static forgetMemorized(e,t){var r,i;let a=En._lastResetElement,c=a&&a.get();c&&fe.nodeContains(t,c)&&delete En._lastResetElement,c=(i=(r=e._nextVal)===null||r===void 0?void 0:r.element)===null||i===void 0?void 0:i.get(),c&&fe.nodeContains(t,c)&&delete e._nextVal,a=e._lastVal,c=a&&a.get(),c&&fe.nodeContains(t,c)&&delete e._lastVal}getFocusedElement(){return this.getVal()}getLastFocusedElement(){var e;let t=(e=this._lastVal)===null||e===void 0?void 0:e.get();return(!t||t&&!Uw(t.ownerDocument,t))&&(this._lastVal=t=void 0),t}focus(e,t,r,i){return this._tabster.focusable.isFocusable(e,t,!1,r)?(e.focus({preventScroll:i}),!0):!1}focusDefault(e){const t=this._tabster.focusable.findDefault({container:e});return t?(this._tabster.focusedElement.focus(t),!0):!1}getFirstOrLastTabbable(e,t){var r;const{container:i,ignoreAccessibility:a}=t;let c;if(i){const u=Ht.getTabsterContext(this._tabster,i);u&&(c=(r=En.findNextTabbable(this._tabster,u,i,void 0,void 0,!e,a))===null||r===void 0?void 0:r.element)}return c&&!fe.nodeContains(i,c)&&(c=void 0),c||void 0}_focusFirstOrLast(e,t){const r=this.getFirstOrLastTabbable(e,t);return r?(this.focus(r,!1,!0),!0):!1}focusFirst(e){return this._focusFirstOrLast(!0,e)}focusLast(e){return this._focusFirstOrLast(!1,e)}resetFocus(e){if(!this._tabster.focusable.isVisible(e))return!1;if(this._tabster.focusable.isFocusable(e,!0,!0,!0))this.focus(e);else{const t=e.getAttribute("tabindex"),r=e.getAttribute("aria-hidden");e.tabIndex=-1,e.setAttribute("aria-hidden","true"),En._lastResetElement=new ci(this._win,e),this.focus(e,!0,!0),this._setOrRemoveAttribute(e,"tabindex",t),this._setOrRemoveAttribute(e,"aria-hidden",r)}return!0}requestAsyncFocus(e,t,r){const i=this._tabster.getWindow(),a=this._asyncFocus;if(a){if(mM[e]>mM[a.source])return;i.clearTimeout(a.timeout)}this._asyncFocus={source:e,callback:t,timeout:i.setTimeout(()=>{this._asyncFocus=void 0,t()},r)}}cancelAsyncFocus(e){const t=this._asyncFocus;(t==null?void 0:t.source)===e&&(this._tabster.getWindow().clearTimeout(t.timeout),this._asyncFocus=void 0)}_setOrRemoveAttribute(e,t,r){r===null?e.removeAttribute(t):e.setAttribute(t,r)}_setFocusedElement(e,t,r){var i,a;if(this._tabster._noop)return;const c={relatedTarget:t};if(e){const d=(i=En._lastResetElement)===null||i===void 0?void 0:i.get();if(En._lastResetElement=void 0,d===e||P1(e))return;c.isFocusedProgrammatically=r;const f=Ht.getTabsterContext(this._tabster,e),p=(a=f==null?void 0:f.modalizer)===null||a===void 0?void 0:a.userId;p&&(c.modalizerId=p)}const u=this._nextVal={element:e?new ci(this._win,e):void 0,detail:c};e&&e!==this._val&&this._validateFocusedElement(e),this._nextVal===u&&this.setVal(e,c),this._nextVal=void 0}setVal(e,t){super.setVal(e,t),e&&(this._lastVal=new ci(this._win,e))}static findNextTabbable(e,t,r,i,a,c,u){const d=r||t.root.getElement();if(!d)return null;let f=null;const p=En._isTabbingTimer,g=e.getWindow();p&&g.clearTimeout(p),En.isTabbing=!0,En._isTabbingTimer=g.setTimeout(()=>{delete En._isTabbingTimer,En.isTabbing=!1},0);const v=t.modalizer,y=t.groupper,b=t.mover,C=E=>{if(f=E.findNextTabbable(i,a,c,u),i&&!(f!=null&&f.element)){const S=E!==v&&fe.getParentElement(E.getElement());if(S){const w=Ht.getTabsterContext(e,i,{referenceElement:S});if(w){const A=E.getElement(),k=c?A:A&&D1(A)||A;k&&(f=En.findNextTabbable(e,w,r,k,S,c,u),f&&(f.outOfDOMOrder=!0))}}}};if(y&&b)C(t.groupperBeforeMover?y:b);else if(y)C(y);else if(b)C(b);else if(v)C(v);else{const E={container:d,currentElement:i,referenceElement:a,ignoreAccessibility:u,useActiveModalizer:!0},S={};f={element:e.focusable[c?"findPrev":"findNext"](E,S),outOfDOMOrder:S.outOfDOMOrder,uncontrolled:S.uncontrolled}}return f}}En.isTabbing=!1;/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class ZV extends pd{constructor(e,t,r,i){super(r,e,G_.Groupper,i,!0),this._setHandlers((a,c,u)=>{var d,f;const p=e.get(),g=a.input;if(p&&g){const v=Ht.getTabsterContext(r,g);if(v){let y;y=(d=t.findNextTabbable(u||void 0,void 0,c,!0))===null||d===void 0?void 0:d.element,y||(y=(f=En.findNextTabbable(r,v,void 0,a.isOutside?g:BV(p,!c),void 0,c,!0))===null||f===void 0?void 0:f.element),y&&Po(y)}}})}}class WV extends kg{constructor(e,t,r,i,a){super(e,t,i),this._shouldTabInside=!1,this.makeTabbable(!1),this._onDispose=r,e.controlTab||(this.dummyManager=new ZV(this._element,this,e,a))}dispose(){var e;this._onDispose(this),this._element.get(),(e=this.dummyManager)===null||e===void 0||e.dispose(),delete this.dummyManager,delete this._first}findNextTabbable(e,t,r,i){const a=this.getElement();if(!a)return null;const c=gd(e)===a;if(!this._shouldTabInside&&e&&fe.nodeContains(a,e)&&!c)return{element:void 0,outOfDOMOrder:!0};const u=this.getFirst(!0);if(!e||!fe.nodeContains(a,e)||c)return{element:u,outOfDOMOrder:!0};const d=this._tabster;let f=null,p=!1,g;if(this._shouldTabInside&&u){const v={container:a,currentElement:e,referenceElement:t,ignoreAccessibility:i,useActiveModalizer:!0},y={};f=d.focusable[r?"findPrev":"findNext"](v,y),p=!!y.outOfDOMOrder,!f&&this._props.tabbability===q4.LimitedTrapFocus&&(f=d.focusable[r?"findLast":"findFirst"]({container:a,ignoreAccessibility:i,useActiveModalizer:!0},y),p=!0),g=y.uncontrolled}return{element:f,uncontrolled:g,outOfDOMOrder:p}}makeTabbable(e){this._shouldTabInside=e||!this._props.tabbability}isActive(e){var t;const r=this.getElement()||null;let i=!0;for(let c=fe.getParentElement(r);c;c=fe.getParentElement(c)){const u=(t=rr(this._tabster,c))===null||t===void 0?void 0:t.groupper;u&&(u._shouldTabInside||(i=!1))}let a=i?this._props.tabbability?this._shouldTabInside:!1:void 0;if(a&&e){const c=this._tabster.focusedElement.getFocusedElement();c&&(a=c!==this.getFirst(!0))}return a}getFirst(e){var t;const r=this.getElement();let i;if(r){if(e&&this._tabster.focusable.isFocusable(r))return r;i=(t=this._first)===null||t===void 0?void 0:t.get(),i||(i=this._tabster.focusable.findFirst({container:r,useActiveModalizer:!0})||void 0,i&&this.setFirst(i))}return i}setFirst(e){e?this._first=new ci(this._tabster.getWindow,e):delete this._first}acceptElement(e,t){const r=t.cachedGrouppers,i=fe.getParentElement(this.getElement()),a=i&&Ht.getTabsterContext(this._tabster,i),c=a==null?void 0:a.groupper,u=a!=null&&a.groupperBeforeMover?c:void 0;let d;const f=v=>{let y=r[v.id],b;return y?b=y.isActive:(b=this.isActive(!0),y=r[v.id]={isActive:b}),b};if(u&&(d=u.getElement(),!f(u)&&d&&t.container!==d&&fe.nodeContains(t.container,d)))return t.skippedFocusable=!0,NodeFilter.FILTER_REJECT;const p=f(this),g=this.getElement();if(g&&p!==!0){if(g===e&&c&&(d||(d=c.getElement()),d&&!f(c)&&fe.nodeContains(t.container,d)&&d!==t.container)||g!==e&&fe.nodeContains(g,e))return t.skippedFocusable=!0,NodeFilter.FILTER_REJECT;const v=r[this.id];let y;if("first"in v?y=v.first:y=v.first=this.getFirst(!0),y&&t.acceptCondition(y))return t.rejectElementsFrom=g,t.skippedFocusable=!0,y!==t.from?(t.found=!0,t.foundElement=y,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT}}}class XV{constructor(e,t){this._current={},this._grouppers={},this._init=()=>{const r=this._win();this._tabster.focusedElement.subscribeFirst(this._onFocus);const i=r.document,a=fe.getActiveElement(i);a&&this._onFocus(a),i.addEventListener("mousedown",this._onMouseDown,!0),r.addEventListener("keydown",this._onKeyDown,!0),r.addEventListener(lM,this._onMoveFocus)},this._onGroupperDispose=r=>{delete this._grouppers[r.id]},this._onFocus=r=>{r&&this._updateCurrent(r)},this._onMouseDown=r=>{let i=r.target;for(;i&&!this._tabster.focusable.isFocusable(i);)i=this._tabster.getParent(i);i&&this._updateCurrent(i)},this._onKeyDown=r=>{if(r.key!==bn.Enter&&r.key!==bn.Escape||r.ctrlKey||r.altKey||r.shiftKey||r.metaKey)return;const i=this._tabster.focusedElement.getFocusedElement();i&&this.handleKeyPress(i,r)},this._onMoveFocus=r=>{var i;const a=r.composedPath()[0],c=(i=r.detail)===null||i===void 0?void 0:i.action;a&&c!==void 0&&!r.defaultPrevented&&(c===aM.Enter?this._enterGroupper(a):this._escapeGroupper(a),r.stopImmediatePropagation())},this._tabster=e,this._win=t,e.queueInit(this._init)}dispose(){const e=this._win();this._tabster.focusedElement.cancelAsyncFocus(la.EscapeGroupper),this._current={},this._updateTimer&&(e.clearTimeout(this._updateTimer),delete this._updateTimer),this._tabster.focusedElement.unsubscribe(this._onFocus),e.document.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("keydown",this._onKeyDown,!0),e.removeEventListener(lM,this._onMoveFocus),Object.keys(this._grouppers).forEach(t=>{this._grouppers[t]&&(this._grouppers[t].dispose(),delete this._grouppers[t])})}createGroupper(e,t,r){const i=this._tabster,a=new WV(i,e,this._onGroupperDispose,t,r);this._grouppers[a.id]=a;const c=i.focusedElement.getFocusedElement();return c&&fe.nodeContains(e,c)&&!this._updateTimer&&(this._updateTimer=this._win().setTimeout(()=>{delete this._updateTimer,c===i.focusedElement.getFocusedElement()&&this._updateCurrent(c)},0)),a}forgetCurrentGrouppers(){this._current={}}_updateCurrent(e){var t;this._updateTimer&&(this._win().clearTimeout(this._updateTimer),delete this._updateTimer);const r=this._tabster,i={};for(let a=r.getParent(e);a;a=r.getParent(a)){const c=(t=rr(r,a))===null||t===void 0?void 0:t.groupper;if(c){i[c.id]=!0,this._current[c.id]=c;const u=c.isActive()||e!==a&&(!c.getProps().delegated||c.getFirst(!1)!==e);c.makeTabbable(u)}}for(const a of Object.keys(this._current)){const c=this._current[a];c.id in i||(c.makeTabbable(!1),c.setFirst(void 0),delete this._current[a])}}_enterGroupper(e,t){const r=this._tabster,i=Ht.getTabsterContext(r,e),a=(i==null?void 0:i.groupper)||(i==null?void 0:i.modalizerInGroupper),c=a==null?void 0:a.getElement();if(a&&c&&(e===c||a.getProps().delegated&&e===a.getFirst(!1))){const u=r.focusable.findNext({container:c,currentElement:e,useActiveModalizer:!0});if(u&&(!t||t&&c.dispatchEvent(new As({by:"groupper",owner:c,next:u,relatedEvent:t}))))return t&&(t.preventDefault(),t.stopImmediatePropagation()),u.focus(),u}return null}_escapeGroupper(e,t,r){const i=this._tabster,a=Ht.getTabsterContext(i,e);let c=(a==null?void 0:a.groupper)||(a==null?void 0:a.modalizerInGroupper);const u=c==null?void 0:c.getElement();if(c&&u&&fe.nodeContains(u,e)){let d;if(e!==u||r)d=c.getFirst(!0);else{const f=fe.getParentElement(u),p=f?Ht.getTabsterContext(i,f):void 0;c=p==null?void 0:p.groupper,d=c==null?void 0:c.getFirst(!0)}if(d&&(!t||t&&u.dispatchEvent(new As({by:"groupper",owner:u,next:d,relatedEvent:t}))))return c&&c.makeTabbable(!1),d.focus(),d}return null}moveFocus(e,t){return t===aM.Enter?this._enterGroupper(e):this._escapeGroupper(e)}handleKeyPress(e,t,r){const i=this._tabster,a=Ht.getTabsterContext(i,e);if(a&&(a!=null&&a.groupper||a!=null&&a.modalizerInGroupper)){if(i.focusedElement.cancelAsyncFocus(la.EscapeGroupper),a.ignoreKeydown(t))return;if(t.key===bn.Enter)this._enterGroupper(e,t);else if(t.key===bn.Escape){const c=i.focusedElement.getFocusedElement();i.focusedElement.requestAsyncFocus(la.EscapeGroupper,()=>{c!==i.focusedElement.getFocusedElement()&&(r&&!c||!r)||this._escapeGroupper(e,t,r)},0)}}}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class JV extends L1{constructor(e){super(),this._onChange=t=>{this.setVal(t,void 0)},this._keyborg=F4(e()),this._keyborg.subscribe(this._onChange)}dispose(){super.dispose(),this._keyborg&&(this._keyborg.unsubscribe(this._onChange),B4(this._keyborg),delete this._keyborg)}setNavigatingWithKeyboard(e){var t;(t=this._keyborg)===null||t===void 0||t.setVal(e)}isNavigatingWithKeyboard(){var e;return!!(!((e=this._keyborg)===null||e===void 0)&&e.isNavigatingWithKeyboard())}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let e6=0;const cS="aria-hidden";class t6 extends pd{constructor(e,t,r){super(t,e,G_.Modalizer,r),this._setHandlers((i,a)=>{var c,u;const d=e.get(),f=d&&((c=Ht.getRoot(t,d))===null||c===void 0?void 0:c.getElement()),p=i.input;let g;if(f&&p){const v=gd(p),y=Ht.getTabsterContext(t,v||p);y&&(g=(u=En.findNextTabbable(t,y,f,p,void 0,a,!0))===null||u===void 0?void 0:u.element),g&&Po(g)}})}}class n6 extends kg{constructor(e,t,r,i,a,c){super(e,t,i),this._wasFocused=0,this.userId=i.id,this._onDispose=r,this._activeElements=c,e.controlTab||(this.dummyManager=new t6(this._element,e,a))}makeActive(e){if(this._isActive!==e){this._isActive=e;const t=this.getElement();if(t){const r=this._activeElements,i=r.map(a=>a.get()).indexOf(t);e?i<0&&r.push(new ci(this._tabster.getWindow,t)):i>=0&&r.splice(i,1)}this._dispatchEvent(e)}}focused(e){return e||(this._wasFocused=++e6),this._wasFocused}setProps(e){e.id&&(this.userId=e.id),this._props={...e}}dispose(){var e;this.makeActive(!1),this._onDispose(this),(e=this.dummyManager)===null||e===void 0||e.dispose(),delete this.dummyManager,this._activeElements=[],this._remove()}isActive(){return!!this._isActive}contains(e){return fe.nodeContains(this.getElement(),e)}findNextTabbable(e,t,r,i){var a,c;if(!this.getElement())return null;const d=this._tabster;let f=null,p=!1,g;const v=e&&((a=Ht.getRoot(d,e))===null||a===void 0?void 0:a.getElement());if(v){const y={container:v,currentElement:e,referenceElement:t,ignoreAccessibility:i,useActiveModalizer:!0},b={};f=d.focusable[r?"findPrev":"findNext"](y,b),!f&&this._props.isTrapped&&(!((c=d.modalizer)===null||c===void 0)&&c.activeId)?(f=d.focusable[r?"findLast":"findFirst"]({container:v,ignoreAccessibility:i,useActiveModalizer:!0},b),f===null&&(f=e),p=!0):p=!!b.outOfDOMOrder,g=b.uncontrolled}return{element:f,uncontrolled:g,outOfDOMOrder:p}}_dispatchEvent(e,t){const r=this.getElement();let i=!1;if(r){const a=t?this._activeElements.map(c=>c.get()):[r];for(const c of a)if(c){const u={id:this.userId,element:r},d=e?new nV(u):new rV(u);c.dispatchEvent(d),d.defaultPrevented&&(i=!0)}}return i}_remove(){}}class r6{constructor(e,t,r){this._onModalizerDispose=a=>{const c=a.id,u=a.userId,d=this._parts[u];if(delete this._modalizers[c],d&&(delete d[c],Object.keys(d).length===0)){delete this._parts[u];const f=this._activationHistory,p=[];let g;for(let v=f.length;v--;){const y=f[v];y!==u&&y!==g&&(g=y,(y||p.length>0)&&p.unshift(y))}if(this._activationHistory=p,this.activeId===u){const v=p[0],y=v?Object.values(this._parts[v])[0]:void 0;this.setActive(y)}}},this._onKeyDown=a=>{var c;if(a.key!==bn.Escape)return;const u=this._tabster,d=u.focusedElement.getFocusedElement();if(d){const f=Ht.getTabsterContext(u,d),p=f==null?void 0:f.modalizer;if(f&&!f.groupper&&(p!=null&&p.isActive())&&!f.ignoreKeydown(a)){const g=p.userId;if(g){const v=this._parts[g];if(v){const y=Object.keys(v).map(b=>{var C;const E=v[b],S=E.getElement();let w;return S&&(w=(C=rr(u,S))===null||C===void 0?void 0:C.groupper),E&&S&&w?{el:S,focusedSince:E.focused(!0)}:{focusedSince:0}}).filter(b=>b.focusedSince>0).sort((b,C)=>b.focusedSince>C.focusedSince?-1:b.focusedSince<C.focusedSince?1:0);if(y.length){const b=y[0].el;b&&((c=u.groupper)===null||c===void 0||c.handleKeyPress(b,a,!0))}}}}}},this._onFocus=(a,c)=>{var u;const d=this._tabster,f=a&&Ht.getTabsterContext(d,a);if(!f||!a)return;const p=this._augMap;for(let b=a;b;b=fe.getParentElement(b))p.has(b)&&(p.delete(b),sS(d,b,cS));let g=f.modalizer;const v=rr(d,a),y=v==null?void 0:v.modalizer;if(y&&(y.focused(),y.userId===this.activeId&&v.groupper)){const b=d.getParent(a),C=b&&((u=Ht.getTabsterContext(d,b))===null||u===void 0?void 0:u.modalizer);if(C)g=C;else{this.setActive(void 0);return}}if(g==null||g.focused(),(g==null?void 0:g.userId)===this.activeId){this.currentIsOthersAccessible=g==null?void 0:g.getProps().isOthersAccessible;return}if(c.isFocusedProgrammatically||this.currentIsOthersAccessible||g!=null&&g.getProps().isAlwaysAccessible)this.setActive(g);else{const b=this._win();b.clearTimeout(this._restoreModalizerFocusTimer),this._restoreModalizerFocusTimer=b.setTimeout(()=>this._restoreModalizerFocus(a),100)}},this._tabster=e,this._win=e.getWindow,this._modalizers={},this._parts={},this._augMap=new WeakMap,this._aug=[],this._alwaysAccessibleSelector=t,this._accessibleCheck=r,this._activationHistory=[],this.activeElements=[],e.controlTab||e.root.addDummyInputs(),this._win().addEventListener("keydown",this._onKeyDown,!0),e.queueInit(()=>{this._tabster.focusedElement.subscribe(this._onFocus)})}dispose(){const e=this._win();e.removeEventListener("keydown",this._onKeyDown,!0),Object.keys(this._modalizers).forEach(t=>{this._modalizers[t]&&(this._modalizers[t].dispose(),delete this._modalizers[t])}),e.clearTimeout(this._restoreModalizerFocusTimer),e.clearTimeout(this._hiddenUpdateTimer),this._parts={},delete this.activeId,this.activeElements=[],this._augMap=new WeakMap,this._aug=[],this._tabster.focusedElement.unsubscribe(this._onFocus)}createModalizer(e,t,r){var i;const a=new n6(this._tabster,e,this._onModalizerDispose,t,r,this.activeElements),c=a.id,u=t.id;this._modalizers[c]=a;let d=this._parts[u];d||(d=this._parts[u]={}),d[c]=a;const f=(i=this._tabster.focusedElement.getFocusedElement())!==null&&i!==void 0?i:null;return e!==f&&fe.nodeContains(e,f)&&(u!==this.activeId?this.setActive(a):a.makeActive(!0)),a}isAugmented(e){return this._augMap.has(e)}hiddenUpdate(){this._hiddenUpdateTimer||(this._hiddenUpdateTimer=this._win().setTimeout(()=>{delete this._hiddenUpdateTimer,this._hiddenUpdate()},250))}setActive(e){const t=e==null?void 0:e.userId,r=this.activeId;if(r===t)return;if(this.activeId=t,r){const a=this._parts[r];if(a)for(const c of Object.keys(a))a[c].makeActive(!1)}if(t){const a=this._parts[t];if(a)for(const c of Object.keys(a))a[c].makeActive(!0)}this.currentIsOthersAccessible=e==null?void 0:e.getProps().isOthersAccessible,this.hiddenUpdate();const i=this._activationHistory;i[0]!==t&&(t!==void 0||i.length>0)&&i.unshift(t)}focus(e,t,r){const i=this._tabster,a=Ht.getTabsterContext(i,e),c=a==null?void 0:a.modalizer;if(c){this.setActive(c);const u=c.getProps(),d=c.getElement();if(d){if(t===void 0&&(t=u.isNoFocusFirst),!t&&i.keyboardNavigation.isNavigatingWithKeyboard()&&i.focusedElement.focusFirst({container:d})||(r===void 0&&(r=u.isNoFocusDefault),!r&&i.focusedElement.focusDefault(d)))return!0;i.focusedElement.resetFocus(d)}}return!1}activate(e){var t;const r=e?(t=Ht.getTabsterContext(this._tabster,e))===null||t===void 0?void 0:t.modalizer:void 0;return!e||r?(this.setActive(r),!0):!1}acceptElement(e,t){var r;const i=t.modalizerUserId,a=(r=t.currentCtx)===null||r===void 0?void 0:r.modalizer;if(i)for(const u of this.activeElements){const d=u.get();if(d&&(fe.nodeContains(e,d)||d===e))return NodeFilter.FILTER_SKIP}const c=i===(a==null?void 0:a.userId)||!i&&(a!=null&&a.getProps().isAlwaysAccessible)?void 0:NodeFilter.FILTER_SKIP;return c!==void 0&&(t.skippedFocusable=!0),c}_hiddenUpdate(){var e;const t=this._tabster,r=t.getWindow().document.body,i=this.activeId,a=this._parts,c=[],u=[],d=this._alwaysAccessibleSelector,f=d?Array.from(fe.querySelectorAll(r,d)):[],p=[];for(const S of Object.keys(a)){const w=a[S];for(const A of Object.keys(w)){const k=w[A],O=k.getElement(),M=k.getProps().isAlwaysAccessible;O&&(S===i?(p.push(O),this.currentIsOthersAccessible||c.push(O)):M?f.push(O):u.push(O))}}const g=this._augMap,v=c.length>0?[...c,...f]:void 0,y=[],b=new WeakMap,C=(S,w)=>{var A;const k=S.tagName;if(k==="SCRIPT"||k==="STYLE")return;let O=!1;g.has(S)?w?O=!0:(g.delete(S),sS(t,S,cS)):w&&!(!((A=this._accessibleCheck)===null||A===void 0)&&A.call(this,S,p))&&sS(t,S,cS,"true")&&(g.set(S,!0),O=!0),O&&(y.push(new ci(t.getWindow,S)),b.set(S,!0))},E=S=>{var w;for(let A=fe.getFirstElementChild(S);A;A=fe.getNextElementSibling(A)){let k=!1,O=!1,D=!1;if(v){const M=t.getParent(A);for(const N of v){if(A===N){k=!0;break}if(fe.nodeContains(A,N)){O=!0;break}else fe.nodeContains(N,M)&&(D=!0)}O||!((w=A.__tabsterElementFlags)===null||w===void 0)&&w.noDirectAriaHidden?E(A):!k&&!D&&C(A,!0)}else C(A,!1)}};v||f.forEach(S=>C(S,!1)),u.forEach(S=>C(S,!0)),r&&E(r),(e=this._aug)===null||e===void 0||e.map(S=>S.get()).forEach(S=>{S&&!b.get(S)&&C(S,!1)}),this._aug=y,this._augMap=b}_restoreModalizerFocus(e){var t;const r=e==null?void 0:e.ownerDocument;if(!e||!r)return;const i=this._tabster.focusedElement.getFocusedElement(),a=i&&((t=Ht.getTabsterContext(this._tabster,i))===null||t===void 0?void 0:t.modalizer);if(!i||i&&(a==null?void 0:a.userId)===this.activeId)return;const c=this._tabster,u=Ht.getTabsterContext(c,e),d=u==null?void 0:u.modalizer,f=this.activeId;if(!d&&!f||d&&f===d.userId)return;const p=u==null?void 0:u.root.getElement();if(p){let g=c.focusable.findFirst({container:p,useActiveModalizer:!0});if(g){if(e.compareDocumentPosition(g)&document.DOCUMENT_POSITION_PRECEDING&&(g=c.focusable.findLast({container:p,useActiveModalizer:!0}),!g))throw new Error("Something went wrong.");c.focusedElement.focus(g);return}}e.blur()}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const i6=["input","textarea","*[contenteditable]"].join(", ");class o6 extends pd{constructor(e,t,r,i){super(t,e,G_.Mover,i),this._onFocusDummyInput=a=>{var c,u;const d=this._element.get(),f=a.input;if(d&&f){const p=Ht.getTabsterContext(this._tabster,d);let g;p&&(g=(c=En.findNextTabbable(this._tabster,p,void 0,f,void 0,!a.isFirst,!0))===null||c===void 0?void 0:c.element);const v=(u=this._getMemorized())===null||u===void 0?void 0:u.get();v&&this._tabster.focusable.isFocusable(v)&&(g=v),g&&Po(g)}},this._tabster=t,this._getMemorized=r,this._setHandlers(this._onFocusDummyInput)}}const lS=1,vM=2,yM=3;class a6 extends kg{constructor(e,t,r,i,a){var c;super(e,t,i),this._visible={},this._onIntersection=d=>{for(const f of d){const p=f.target,g=Gv(this._win,p);let v,y=this._fullyVisible;if(f.intersectionRatio>=.25?(v=f.intersectionRatio>=.75?Qa.Visible:Qa.PartiallyVisible,v===Qa.Visible&&(y=g)):v=Qa.Invisible,this._visible[g]!==v){v===void 0?(delete this._visible[g],y===g&&delete this._fullyVisible):(this._visible[g]=v,this._fullyVisible=y);const b=this.getState(p);b&&p.dispatchEvent(new uM(b))}}},this._win=e.getWindow,this.visibilityTolerance=(c=i.visibilityTolerance)!==null&&c!==void 0?c:.8,(this._props.trackState||this._props.visibilityAware)&&(this._intersectionObserver=new IntersectionObserver(this._onIntersection,{threshold:[0,.25,.5,.75,1]}),this._observeState()),this._onDispose=r;const u=()=>i.memorizeCurrent?this._current:void 0;e.controlTab||(this.dummyManager=new o6(this._element,e,u,a))}dispose(){var e;this._onDispose(this),this._intersectionObserver&&(this._intersectionObserver.disconnect(),delete this._intersectionObserver),delete this._current,delete this._fullyVisible,delete this._allElements,delete this._updateQueue,this._unobserve&&(this._unobserve(),delete this._unobserve);const t=this._win();this._setCurrentTimer&&(t.clearTimeout(this._setCurrentTimer),delete this._setCurrentTimer),this._updateTimer&&(t.clearTimeout(this._updateTimer),delete this._updateTimer),(e=this.dummyManager)===null||e===void 0||e.dispose(),delete this.dummyManager}setCurrent(e){e?this._current=new ci(this._win,e):this._current=void 0,(this._props.trackState||this._props.visibilityAware)&&!this._setCurrentTimer&&(this._setCurrentTimer=this._win().setTimeout(()=>{var t;delete this._setCurrentTimer;const r=[];this._current!==this._prevCurrent&&(r.push(this._current),r.push(this._prevCurrent),this._prevCurrent=this._current);for(const i of r){const a=i==null?void 0:i.get();if(a&&((t=this._allElements)===null||t===void 0?void 0:t.get(a))===this){const c=this._props;if(a&&(c.visibilityAware!==void 0||c.trackState)){const u=this.getState(a);u&&a.dispatchEvent(new uM(u))}}}}))}getCurrent(){var e;return((e=this._current)===null||e===void 0?void 0:e.get())||null}findNextTabbable(e,t,r,i){const a=this.getElement(),c=a&&gd(e)===a;if(!a)return null;let u=null,d=!1,f;if(this._props.tabbable||c||e&&!fe.nodeContains(a,e)){const p={currentElement:e,referenceElement:t,container:a,ignoreAccessibility:i,useActiveModalizer:!0},g={};u=this._tabster.focusable[r?"findPrev":"findNext"](p,g),d=!!g.outOfDOMOrder,f=g.uncontrolled}return{element:u,uncontrolled:f,outOfDOMOrder:d}}acceptElement(e,t){var r,i;if(!En.isTabbing)return!((r=t.currentCtx)===null||r===void 0)&&r.excludedFromMover?NodeFilter.FILTER_REJECT:void 0;const{memorizeCurrent:a,visibilityAware:c,hasDefault:u=!0}=this._props,d=this.getElement();if(d&&(a||c||u)&&(!fe.nodeContains(d,t.from)||gd(t.from)===d)){let f;if(a){const p=(i=this._current)===null||i===void 0?void 0:i.get();p&&t.acceptCondition(p)&&(f=p)}if(!f&&u&&(f=this._tabster.focusable.findDefault({container:d,useActiveModalizer:!0})),!f&&c&&(f=this._tabster.focusable.findElement({container:d,useActiveModalizer:!0,isBackward:t.isBackward,acceptCondition:p=>{var g;const v=Gv(this._win,p),y=this._visible[v];return d!==p&&!!(!((g=this._allElements)===null||g===void 0)&&g.get(p))&&t.acceptCondition(p)&&(y===Qa.Visible||y===Qa.PartiallyVisible&&(c===Qa.PartiallyVisible||!this._fullyVisible))}})),f)return t.found=!0,t.foundElement=f,t.rejectElementsFrom=d,t.skippedFocusable=!0,NodeFilter.FILTER_ACCEPT}}_observeState(){const e=this.getElement();if(this._unobserve||!e||typeof MutationObserver>"u")return;const t=this._win(),r=this._allElements=new WeakMap,i=this._tabster.focusable;let a=this._updateQueue=[];const c=fe.createMutationObserver(y=>{for(const b of y){const C=b.target,E=b.removedNodes,S=b.addedNodes;if(b.type==="attributes")b.attributeName==="tabindex"&&a.push({element:C,type:vM});else{for(let w=0;w<E.length;w++)a.push({element:E[w],type:yM});for(let w=0;w<S.length;w++)a.push({element:S[w],type:lS})}}g()}),u=(y,b)=>{var C,E;const S=r.get(y);S&&b&&((C=this._intersectionObserver)===null||C===void 0||C.unobserve(y),r.delete(y)),!S&&!b&&(r.set(y,this),(E=this._intersectionObserver)===null||E===void 0||E.observe(y))},d=y=>{const b=i.isFocusable(y);r.get(y)?b||u(y,!0):b&&u(y)},f=y=>{const{mover:b}=v(y);if(b&&b!==this)if(b.getElement()===y&&i.isFocusable(y))u(y);else return;const C=Lw(t.document,y,E=>{const{mover:S,groupper:w}=v(E);if(S&&S!==this)return NodeFilter.FILTER_REJECT;const A=w==null?void 0:w.getFirst(!0);return w&&w.getElement()!==E&&A&&A!==E?NodeFilter.FILTER_REJECT:(i.isFocusable(E)&&u(E),NodeFilter.FILTER_SKIP)});if(C)for(C.currentNode=y;C.nextNode(););},p=y=>{r.get(y)&&u(y,!0);for(let C=fe.getFirstElementChild(y);C;C=fe.getNextElementSibling(C))p(C)},g=()=>{!this._updateTimer&&a.length&&(this._updateTimer=t.setTimeout(()=>{delete this._updateTimer;for(const{element:y,type:b}of a)switch(b){case vM:d(y);break;case lS:f(y);break;case yM:p(y);break}a=this._updateQueue=[]},0))},v=y=>{const b={};for(let C=y;C;C=fe.getParentElement(C)){const E=rr(this._tabster,C);if(E&&(E.groupper&&!b.groupper&&(b.groupper=E.groupper),E.mover)){b.mover=E.mover;break}}return b};a.push({element:e,type:lS}),g(),c.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["tabindex"]}),this._unobserve=()=>{c.disconnect()}}getState(e){const t=Gv(this._win,e);if(t in this._visible){const r=this._visible[t]||Qa.Invisible;return{isCurrent:this._current?this._current.get()===e:void 0,visibility:r}}}}function s6(n,e,t,r,i,a,c,u){const d=t<i?i-t:c<n?n-c:0,f=r<a?a-r:u<e?e-u:0;return d===0?f:f===0?d:Math.sqrt(d*d+f*f)}class c6{constructor(e,t){this._init=()=>{const r=this._win();r.addEventListener("keydown",this._onKeyDown,!0),r.addEventListener(sM,this._onMoveFocus),r.addEventListener(cM,this._onMemorizedElement),this._tabster.focusedElement.subscribe(this._onFocus)},this._onMoverDispose=r=>{delete this._movers[r.id]},this._onFocus=r=>{var i;let a=r,c=r;for(let u=fe.getParentElement(r);u;u=fe.getParentElement(u)){const d=(i=rr(this._tabster,u))===null||i===void 0?void 0:i.mover;d&&(d.setCurrent(c),a=void 0),!a&&this._tabster.focusable.isFocusable(u)&&(a=c=u)}},this._onKeyDown=async r=>{var i;if(this._ignoredInputTimer&&(this._win().clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),(i=this._ignoredInputResolve)===null||i===void 0||i.call(this,!1),r.ctrlKey||r.altKey||r.shiftKey||r.metaKey)return;const a=r.key;let c;if(a===bn.ArrowDown?c=An.ArrowDown:a===bn.ArrowRight?c=An.ArrowRight:a===bn.ArrowUp?c=An.ArrowUp:a===bn.ArrowLeft?c=An.ArrowLeft:a===bn.PageDown?c=An.PageDown:a===bn.PageUp?c=An.PageUp:a===bn.Home?c=An.Home:a===bn.End&&(c=An.End),!c)return;const u=this._tabster.focusedElement.getFocusedElement();!u||await this._isIgnoredInput(u,a)||this._moveFocus(u,c,r)},this._onMoveFocus=r=>{var i;const a=r.composedPath()[0],c=(i=r.detail)===null||i===void 0?void 0:i.key;a&&c!==void 0&&!r.defaultPrevented&&(this._moveFocus(a,c),r.stopImmediatePropagation())},this._onMemorizedElement=r=>{var i;const a=r.composedPath()[0];let c=(i=r.detail)===null||i===void 0?void 0:i.memorizedElement;if(a){const u=Ht.getTabsterContext(this._tabster,a),d=u==null?void 0:u.mover;d&&(c&&!fe.nodeContains(d.getElement(),c)&&(c=void 0),d.setCurrent(c),r.stopImmediatePropagation())}},this._tabster=e,this._win=t,this._movers={},e.queueInit(this._init)}dispose(){var e;const t=this._win();this._tabster.focusedElement.unsubscribe(this._onFocus),(e=this._ignoredInputResolve)===null||e===void 0||e.call(this,!1),this._ignoredInputTimer&&(t.clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),t.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener(sM,this._onMoveFocus),t.removeEventListener(cM,this._onMemorizedElement),Object.keys(this._movers).forEach(r=>{this._movers[r]&&(this._movers[r].dispose(),delete this._movers[r])})}createMover(e,t,r){const i=new a6(this._tabster,e,this._onMoverDispose,t,r);return this._movers[i.id]=i,i}moveFocus(e,t){return this._moveFocus(e,t)}_moveFocus(e,t,r){var i,a;const c=this._tabster,u=Ht.getTabsterContext(c,e,{checkRtl:!0});if(!u||!u.mover||u.excludedFromMover||r&&u.ignoreKeydown(r))return null;const d=u.mover,f=d.getElement();if(u.groupperBeforeMover){const N=u.groupper;if(N&&!N.isActive(!0)){for(let K=fe.getParentElement(N.getElement());K&&K!==f;K=fe.getParentElement(K))if(!((a=(i=rr(c,K))===null||i===void 0?void 0:i.groupper)===null||a===void 0)&&a.isActive(!0))return null}else return null}if(!f)return null;const p=c.focusable,g=d.getProps(),v=g.direction||su.Both,y=v===su.Both,b=y||v===su.Vertical,C=y||v===su.Horizontal,E=v===su.GridLinear,S=E||v===su.Grid,w=g.cyclic;let A,k,O,D=0,M=0;if(S&&(O=e.getBoundingClientRect(),D=Math.ceil(O.left),M=Math.floor(O.right)),u.rtl&&(t===An.ArrowRight?t=An.ArrowLeft:t===An.ArrowLeft&&(t=An.ArrowRight)),t===An.ArrowDown&&b||t===An.ArrowRight&&(C||S))if(A=p.findNext({currentElement:e,container:f,useActiveModalizer:!0}),A&&S){const N=Math.ceil(A.getBoundingClientRect().left);!E&&M>N&&(A=void 0)}else!A&&w&&(A=p.findFirst({container:f,useActiveModalizer:!0}));else if(t===An.ArrowUp&&b||t===An.ArrowLeft&&(C||S))if(A=p.findPrev({currentElement:e,container:f,useActiveModalizer:!0}),A&&S){const N=Math.floor(A.getBoundingClientRect().right);!E&&N>D&&(A=void 0)}else!A&&w&&(A=p.findLast({container:f,useActiveModalizer:!0}));else if(t===An.Home)S?p.findElement({container:f,currentElement:e,useActiveModalizer:!0,isBackward:!0,acceptCondition:N=>{var K;if(!p.isFocusable(N))return!1;const F=Math.ceil((K=N.getBoundingClientRect().left)!==null&&K!==void 0?K:0);return N!==e&&D<=F?!0:(A=N,!1)}}):A=p.findFirst({container:f,useActiveModalizer:!0});else if(t===An.End)S?p.findElement({container:f,currentElement:e,useActiveModalizer:!0,acceptCondition:N=>{var K;if(!p.isFocusable(N))return!1;const F=Math.ceil((K=N.getBoundingClientRect().left)!==null&&K!==void 0?K:0);return N!==e&&D>=F?!0:(A=N,!1)}}):A=p.findLast({container:f,useActiveModalizer:!0});else if(t===An.PageUp){if(p.findElement({currentElement:e,container:f,useActiveModalizer:!0,isBackward:!0,acceptCondition:N=>p.isFocusable(N)?fM(this._win,N,d.visibilityTolerance)?(A=N,!1):!0:!1}),S&&A){const N=Math.ceil(A.getBoundingClientRect().left);p.findElement({currentElement:A,container:f,useActiveModalizer:!0,acceptCondition:K=>{if(!p.isFocusable(K))return!1;const F=Math.ceil(K.getBoundingClientRect().left);return D<F||N>=F?!0:(A=K,!1)}})}k=!1}else if(t===An.PageDown){if(p.findElement({currentElement:e,container:f,useActiveModalizer:!0,acceptCondition:N=>p.isFocusable(N)?fM(this._win,N,d.visibilityTolerance)?(A=N,!1):!0:!1}),S&&A){const N=Math.ceil(A.getBoundingClientRect().left);p.findElement({currentElement:A,container:f,useActiveModalizer:!0,isBackward:!0,acceptCondition:K=>{if(!p.isFocusable(K))return!1;const F=Math.ceil(K.getBoundingClientRect().left);return D>F||N<=F?!0:(A=K,!1)}})}k=!0}else if(S){const N=t===An.ArrowUp,K=D,F=Math.ceil(O.top),oe=M,ue=Math.floor(O.bottom);let me,X,he=0;p.findAll({container:f,currentElement:e,isBackward:N,onElement:z=>{const L=z.getBoundingClientRect(),V=Math.ceil(L.left),_e=Math.ceil(L.top),I=Math.floor(L.right),W=Math.floor(L.bottom);if(N&&F<W||!N&&ue>_e)return!0;const Q=Math.ceil(Math.min(oe,I))-Math.floor(Math.max(K,V)),ce=Math.ceil(Math.min(oe-K,I-V));if(Q>0&&ce>=Q){const ve=Q/ce;ve>he&&(me=z,he=ve)}else if(he===0){const ve=s6(K,F,oe,ue,V,_e,I,W);(X===void 0||ve<X)&&(X=ve,me=z)}else if(he>0)return!1;return!0}}),A=me}return A&&(!r||r&&f.dispatchEvent(new As({by:"mover",owner:f,next:A,relatedEvent:r})))?(k!==void 0&&PV(this._win,A,k),r&&(r.preventDefault(),r.stopImmediatePropagation()),Po(A),A):null}async _isIgnoredInput(e,t){if(e.getAttribute("aria-expanded")==="true"&&e.hasAttribute("aria-activedescendant"))return!0;if(x1(e,i6)){let r=0,i=0,a=0,c;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"){const u=e.type;if(a=(e.value||"").length,u==="email"||u==="number"){if(a){const f=fe.getSelection(e);if(f){const p=f.toString().length,g=t===bn.ArrowLeft||t===bn.ArrowUp;if(f.modify("extend",g?"backward":"forward","character"),p!==f.toString().length)return f.modify("extend",g?"forward":"backward","character"),!0;a=0}}}else{const f=e.selectionStart;if(f===null)return u==="hidden";r=f||0,i=e.selectionEnd||0}}else e.contentEditable==="true"&&(c=new(LV(this._win))(u=>{this._ignoredInputResolve=y=>{delete this._ignoredInputResolve,u(y)};const d=this._win();this._ignoredInputTimer&&d.clearTimeout(this._ignoredInputTimer);const{anchorNode:f,focusNode:p,anchorOffset:g,focusOffset:v}=fe.getSelection(e)||{};this._ignoredInputTimer=d.setTimeout(()=>{var y,b,C;delete this._ignoredInputTimer;const{anchorNode:E,focusNode:S,anchorOffset:w,focusOffset:A}=fe.getSelection(e)||{};if(E!==f||S!==p||w!==g||A!==v){(y=this._ignoredInputResolve)===null||y===void 0||y.call(this,!1);return}if(r=w||0,i=A||0,a=((b=e.textContent)===null||b===void 0?void 0:b.length)||0,E&&S&&fe.nodeContains(e,E)&&fe.nodeContains(e,S)&&E!==e){let k=!1;const O=D=>{if(D===E)k=!0;else if(D===S)return!0;const M=D.textContent;if(M&&!fe.getFirstChild(D)){const K=M.length;k?S!==E&&(i+=K):(r+=K,i+=K)}let N=!1;for(let K=fe.getFirstChild(D);K&&!N;K=K.nextSibling)N=O(K);return N};O(e)}(C=this._ignoredInputResolve)===null||C===void 0||C.call(this,!0)},0)}));if(c&&!await c||r!==i||r>0&&(t===bn.ArrowLeft||t===bn.ArrowUp||t===bn.Home)||r<a&&(t===bn.ArrowRight||t===bn.ArrowDown||t===bn.End))return!0}return!1}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function l6(n,e,t,r){if(typeof MutationObserver>"u")return()=>{};const i=e.getWindow;let a;const c=p=>{var g,v,y,b,C;const E=new Set;for(const S of p){const w=S.target,A=S.removedNodes,k=S.addedNodes;if(S.type==="attributes")S.attributeName===Ts&&(E.has(w)||t(e,w));else{for(let O=0;O<A.length;O++){const D=A[O];E.add(D),u(D,!0),(v=(g=e._dummyObserver).domChanged)===null||v===void 0||v.call(g,w)}for(let O=0;O<k.length;O++)u(k[O]),(b=(y=e._dummyObserver).domChanged)===null||b===void 0||b.call(y,w)}}E.clear(),(C=e.modalizer)===null||C===void 0||C.hiddenUpdate()};function u(p,g){a||(a=Aa(i).elementByUId),d(p,g);const v=Lw(n,p,y=>d(y,g));if(v)for(;v.nextNode(););}function d(p,g){var v;if(!p.getAttribute)return NodeFilter.FILTER_SKIP;const y=p.__tabsterElementUID;return y&&a&&(g?delete a[y]:(v=a[y])!==null&&v!==void 0||(a[y]=new ci(i,p))),(rr(e,p)||p.hasAttribute(Ts))&&t(e,p,g),NodeFilter.FILTER_SKIP}const f=fe.createMutationObserver(c);return r&&u(i().document.body),f.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[Ts]}),()=>{f.disconnect()}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class u6{constructor(e){this._isUncontrolledCompletely=e}isUncontrolledCompletely(e,t){var r;const i=(r=this._isUncontrolledCompletely)===null||r===void 0?void 0:r.call(this,e,t);return i===void 0?t:i}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class d6 extends kg{constructor(e,t,r){var i;if(super(e,t,r),this._hasFocus=!1,this._onFocusOut=a=>{var c;const u=(c=this._element)===null||c===void 0?void 0:c.get();u&&a.relatedTarget===null&&u.dispatchEvent(new dM),u&&!fe.nodeContains(u,a.relatedTarget)&&(this._hasFocus=!1)},this._onFocusIn=()=>{this._hasFocus=!0},this._props.type===Sy.Source){const a=(i=this._element)===null||i===void 0?void 0:i.get();a==null||a.addEventListener("focusout",this._onFocusOut),a==null||a.addEventListener("focusin",this._onFocusIn),this._hasFocus=fe.nodeContains(a,a&&fe.getActiveElement(a.ownerDocument))}}dispose(){var e;if(this._props.type===Sy.Source){const t=(e=this._element)===null||e===void 0?void 0:e.get();t==null||t.removeEventListener("focusout",this._onFocusOut),t==null||t.removeEventListener("focusin",this._onFocusIn),this._hasFocus&&this._tabster.getWindow().document.body.dispatchEvent(new dM)}}}class V_{constructor(e){this._stack=[],this._getWindow=e}push(e){var t;((t=this._stack[this._stack.length-1])===null||t===void 0?void 0:t.get())!==e&&(this._stack.length>V_.DEPTH&&this._stack.shift(),this._stack.push(new ci(this._getWindow,e)))}pop(e){e===void 0&&(e=()=>!0);var t;const r=this._getWindow().document;for(let i=this._stack.length-1;i>=0;i--){const a=(t=this._stack.pop())===null||t===void 0?void 0:t.get();if(a&&fe.nodeContains(r.body,fe.getParentElement(a))&&e(a))return a}}}V_.DEPTH=10;class h6{constructor(e){this._onRestoreFocus=t=>{var r,i;this._focusedElementState.cancelAsyncFocus(la.Restorer);const a=t.composedPath()[0];if(a){const c=(i=(r=rr(this._tabster,a))===null||r===void 0?void 0:r.restorer)===null||i===void 0?void 0:i.getProps().id;this._focusedElementState.requestAsyncFocus(la.Restorer,()=>this._restoreFocus(a,c),0)}},this._onFocusIn=t=>{var r;if(!t)return;const i=rr(this._tabster,t);((r=i==null?void 0:i.restorer)===null||r===void 0?void 0:r.getProps().type)===Sy.Target&&this._history.push(t)},this._restoreFocus=(t,r)=>{var i;const a=this._getWindow().document;if(fe.getActiveElement(a)!==a.body||!this._keyboardNavState.isNavigatingWithKeyboard()&&fe.nodeContains(a.body,t))return;const c=u=>{var d,f;const p=(f=(d=rr(this._tabster,u))===null||d===void 0?void 0:d.restorer)===null||f===void 0?void 0:f.getProps();return p?p.id:null};(i=this._history.pop(u=>r===c(u)))===null||i===void 0||i.focus()},this._tabster=e,this._getWindow=e.getWindow,this._getWindow().addEventListener(tA,this._onRestoreFocus),this._history=new V_(this._getWindow),this._keyboardNavState=e.keyboardNavigation,this._focusedElementState=e.focusedElement,this._focusedElementState.subscribe(this._onFocusIn)}dispose(){const e=this._getWindow();this._focusedElementState.unsubscribe(this._onFocusIn),this._focusedElementState.cancelAsyncFocus(la.Restorer),e.removeEventListener(tA,this._onRestoreFocus)}createRestorer(e,t){const r=new d6(this._tabster,e,t);return t.type===Sy.Target&&fe.getActiveElement(e.ownerDocument)===e&&this._history.push(e),r}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class f6{constructor(e){this.keyboardNavigation=e.keyboardNavigation,this.focusedElement=e.focusedElement,this.focusable=e.focusable,this.root=e.root,this.uncontrolled=e.uncontrolled,this.core=e}}class p6{constructor(e,t){var r,i;this._forgetMemorizedElements=[],this._wrappers=new Set,this._initQueue=[],this._version="8.5.6",this._noop=!1,this.getWindow=()=>{if(!this._win)throw new Error("Using disposed Tabster.");return this._win},this._storage=OV(e),this._win=e;const a=this.getWindow;t!=null&&t.DOMAPI&&RV({...t.DOMAPI}),this.keyboardNavigation=new JV(a),this.focusedElement=new En(this,a),this.focusable=new YV(this),this.root=new Ht(this,t==null?void 0:t.autoRoot),this.uncontrolled=new u6((t==null?void 0:t.checkUncontrolledCompletely)||(t==null?void 0:t.checkUncontrolledTrappingFocus)),this.controlTab=(r=t==null?void 0:t.controlTab)!==null&&r!==void 0?r:!0,this.rootDummyInputs=!!(t!=null&&t.rootDummyInputs),this._dummyObserver=new HV(a),this.getParent=(i=t==null?void 0:t.getParent)!==null&&i!==void 0?i:fe.getParentNode,this.internal={stopObserver:()=>{this._unobserve&&(this._unobserve(),delete this._unobserve)},resumeObserver:c=>{if(!this._unobserve){const u=a().document;this._unobserve=l6(u,this,R1,c)}}},O1(a),this.queueInit(()=>{this.internal.resumeObserver(!0)})}_mergeProps(e){var t;e&&(this.getParent=(t=e.getParent)!==null&&t!==void 0?t:this.getParent)}createTabster(e,t){const r=new f6(this);return e||this._wrappers.add(r),this._mergeProps(t),r}disposeTabster(e,t){t?this._wrappers.clear():this._wrappers.delete(e),this._wrappers.size===0&&this.dispose()}dispose(){var e,t,r,i,a,c,u,d;this.internal.stopObserver();const f=this._win;f==null||f.clearTimeout(this._initTimer),delete this._initTimer,this._initQueue=[],this._forgetMemorizedElements=[],f&&this._forgetMemorizedTimer&&(f.clearTimeout(this._forgetMemorizedTimer),delete this._forgetMemorizedTimer),(e=this.outline)===null||e===void 0||e.dispose(),(t=this.crossOrigin)===null||t===void 0||t.dispose(),(r=this.deloser)===null||r===void 0||r.dispose(),(i=this.groupper)===null||i===void 0||i.dispose(),(a=this.mover)===null||a===void 0||a.dispose(),(c=this.modalizer)===null||c===void 0||c.dispose(),(u=this.observedElement)===null||u===void 0||u.dispose(),(d=this.restorer)===null||d===void 0||d.dispose(),this.keyboardNavigation.dispose(),this.focusable.dispose(),this.focusedElement.dispose(),this.root.dispose(),this._dummyObserver.dispose(),MV(this.getWindow),pM(this.getWindow),this._storage=new WeakMap,this._wrappers.clear(),f&&(IV(f),delete f.__tabsterInstance,delete this._win)}storageEntry(e,t){const r=this._storage;let i=r.get(e);return i?t===!1&&Object.keys(i).length===0&&r.delete(e):t===!0&&(i={},r.set(e,i)),i}forceCleanup(){this._win&&(this._forgetMemorizedElements.push(this._win.document.body),!this._forgetMemorizedTimer&&(this._forgetMemorizedTimer=this._win.setTimeout(()=>{delete this._forgetMemorizedTimer;for(let e=this._forgetMemorizedElements.shift();e;e=this._forgetMemorizedElements.shift())pM(this.getWindow,e),En.forgetMemorized(this.focusedElement,e)},0),I1(this.getWindow,!0)))}queueInit(e){var t;this._win&&(this._initQueue.push(e),this._initTimer||(this._initTimer=(t=this._win)===null||t===void 0?void 0:t.setTimeout(()=>{delete this._initTimer,this.drainInitQueue()},0)))}drainInitQueue(){if(!this._win)return;const e=this._initQueue;this._initQueue=[],e.forEach(t=>t())}}function Dee(n,e){let t=g6(n);return t?t.createTabster(!1,e):(t=new p6(n,e),n.__tabsterInstance=t,t.createTabster())}function Lee(n){const e=n.core;return e.groupper||(e.groupper=new XV(e,e.getWindow)),e.groupper}function Uee(n){const e=n.core;return e.mover||(e.mover=new c6(e,e.getWindow)),e.mover}function zee(n,e,t){const r=n.core;return r.modalizer||(r.modalizer=new r6(r,e,t)),r.modalizer}function Hee(n){const e=n.core;return e.restorer||(e.restorer=new h6(e)),e.restorer}function Fee(n,e){n.core.disposeTabster(n,e)}function g6(n){return n.__tabsterInstance}var lv;function U1(n){return lv=lv||document.createElement("textarea"),lv.innerHTML="&"+n+";",lv.value}var m6=Object.prototype.hasOwnProperty;function v6(n,e){return n?m6.call(n,e):!1}function z1(n){var e=[].slice.call(arguments,1);return e.forEach(function(t){if(t){if(typeof t!="object")throw new TypeError(t+"must be object");Object.keys(t).forEach(function(r){n[r]=t[r]})}}),n}var y6=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function Vf(n){return n.indexOf("\\")<0?n:n.replace(y6,"$1")}function H1(n){return!(n>=55296&&n<=57343||n>=64976&&n<=65007||(n&65535)===65535||(n&65535)===65534||n>=0&&n<=8||n===11||n>=14&&n<=31||n>=127&&n<=159||n>1114111)}function iA(n){if(n>65535){n-=65536;var e=55296+(n>>10),t=56320+(n&1023);return String.fromCharCode(e,t)}return String.fromCharCode(n)}var _6=/&([a-z#][a-z0-9]{1,31});/gi,b6=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function E6(n,e){var t=0,r=U1(e);return e!==r?r:e.charCodeAt(0)===35&&b6.test(e)&&(t=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10),H1(t))?iA(t):n}function $c(n){return n.indexOf("&")<0?n:n.replace(_6,E6)}var C6=/[&<>"]/,S6=/[&<>"]/g,T6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function A6(n){return T6[n]}function Kr(n){return C6.test(n)?n.replace(S6,A6):n}var Ne={};Ne.blockquote_open=function(){return`<blockquote>
`};Ne.blockquote_close=function(n,e){return"</blockquote>"+fl(n,e)};Ne.code=function(n,e){return n[e].block?"<pre><code>"+Kr(n[e].content)+"</code></pre>"+fl(n,e):"<code>"+Kr(n[e].content)+"</code>"};Ne.fence=function(n,e,t,r,i){var a=n[e],c="",u=t.langPrefix,d="",f,p,g;if(a.params){if(f=a.params.split(/\s+/g),p=f.join(" "),v6(i.rules.fence_custom,f[0]))return i.rules.fence_custom[f[0]](n,e,t,r,i);d=Kr($c(Vf(p))),c=' class="'+u+d+'"'}return t.highlight?g=t.highlight.apply(t.highlight,[a.content].concat(f))||Kr(a.content):g=Kr(a.content),"<pre><code"+c+">"+g+"</code></pre>"+fl(n,e)};Ne.fence_custom={};Ne.heading_open=function(n,e){return"<h"+n[e].hLevel+">"};Ne.heading_close=function(n,e){return"</h"+n[e].hLevel+`>
`};Ne.hr=function(n,e,t){return(t.xhtmlOut?"<hr />":"<hr>")+fl(n,e)};Ne.bullet_list_open=function(){return`<ul>
`};Ne.bullet_list_close=function(n,e){return"</ul>"+fl(n,e)};Ne.list_item_open=function(){return"<li>"};Ne.list_item_close=function(){return`</li>
`};Ne.ordered_list_open=function(n,e){var t=n[e],r=t.order>1?' start="'+t.order+'"':"";return"<ol"+r+`>
`};Ne.ordered_list_close=function(n,e){return"</ol>"+fl(n,e)};Ne.paragraph_open=function(n,e){return n[e].tight?"":"<p>"};Ne.paragraph_close=function(n,e){var t=!(n[e].tight&&e&&n[e-1].type==="inline"&&!n[e-1].content);return(n[e].tight?"":"</p>")+(t?fl(n,e):"")};Ne.link_open=function(n,e,t){var r=n[e].title?' title="'+Kr($c(n[e].title))+'"':"",i=t.linkTarget?' target="'+t.linkTarget+'"':"";return'<a href="'+Kr(n[e].href)+'"'+r+i+">"};Ne.link_close=function(){return"</a>"};Ne.image=function(n,e,t){var r=' src="'+Kr(n[e].src)+'"',i=n[e].title?' title="'+Kr($c(n[e].title))+'"':"",a=' alt="'+(n[e].alt?Kr($c(Vf(n[e].alt))):"")+'"',c=t.xhtmlOut?" /":"";return"<img"+r+a+i+c+">"};Ne.table_open=function(){return`<table>
`};Ne.table_close=function(){return`</table>
`};Ne.thead_open=function(){return`<thead>
`};Ne.thead_close=function(){return`</thead>
`};Ne.tbody_open=function(){return`<tbody>
`};Ne.tbody_close=function(){return`</tbody>
`};Ne.tr_open=function(){return"<tr>"};Ne.tr_close=function(){return`</tr>
`};Ne.th_open=function(n,e){var t=n[e];return"<th"+(t.align?' style="text-align:'+t.align+'"':"")+">"};Ne.th_close=function(){return"</th>"};Ne.td_open=function(n,e){var t=n[e];return"<td"+(t.align?' style="text-align:'+t.align+'"':"")+">"};Ne.td_close=function(){return"</td>"};Ne.strong_open=function(){return"<strong>"};Ne.strong_close=function(){return"</strong>"};Ne.em_open=function(){return"<em>"};Ne.em_close=function(){return"</em>"};Ne.del_open=function(){return"<del>"};Ne.del_close=function(){return"</del>"};Ne.ins_open=function(){return"<ins>"};Ne.ins_close=function(){return"</ins>"};Ne.mark_open=function(){return"<mark>"};Ne.mark_close=function(){return"</mark>"};Ne.sub=function(n,e){return"<sub>"+Kr(n[e].content)+"</sub>"};Ne.sup=function(n,e){return"<sup>"+Kr(n[e].content)+"</sup>"};Ne.hardbreak=function(n,e,t){return t.xhtmlOut?`<br />
`:`<br>
`};Ne.softbreak=function(n,e,t){return t.breaks?t.xhtmlOut?`<br />
`:`<br>
`:`
`};Ne.text=function(n,e){return Kr(n[e].content)};Ne.htmlblock=function(n,e){return n[e].content};Ne.htmltag=function(n,e){return n[e].content};Ne.abbr_open=function(n,e){return'<abbr title="'+Kr($c(n[e].title))+'">'};Ne.abbr_close=function(){return"</abbr>"};Ne.footnote_ref=function(n,e){var t=Number(n[e].id+1).toString(),r="fnref"+t;return n[e].subId>0&&(r+=":"+n[e].subId),'<sup class="footnote-ref"><a href="#fn'+t+'" id="'+r+'">['+t+"]</a></sup>"};Ne.footnote_block_open=function(n,e,t){var r=t.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`;return r+`<section class="footnotes">
<ol class="footnotes-list">
`};Ne.footnote_block_close=function(){return`</ol>
</section>
`};Ne.footnote_open=function(n,e){var t=Number(n[e].id+1).toString();return'<li id="fn'+t+'"  class="footnote-item">'};Ne.footnote_close=function(){return`</li>
`};Ne.footnote_anchor=function(n,e){var t=Number(n[e].id+1).toString(),r="fnref"+t;return n[e].subId>0&&(r+=":"+n[e].subId),' <a href="#'+r+'" class="footnote-backref"></a>'};Ne.dl_open=function(){return`<dl>
`};Ne.dt_open=function(){return"<dt>"};Ne.dd_open=function(){return"<dd>"};Ne.dl_close=function(){return`</dl>
`};Ne.dt_close=function(){return`</dt>
`};Ne.dd_close=function(){return`</dd>
`};function F1(n,e){return++e>=n.length-2?e:n[e].type==="paragraph_open"&&n[e].tight&&n[e+1].type==="inline"&&n[e+1].content.length===0&&n[e+2].type==="paragraph_close"&&n[e+2].tight?F1(n,e+2):e}var fl=Ne.getBreak=function(e,t){return t=F1(e,t),t<e.length&&e[t].type==="list_item_close"?"":`
`};function zw(){this.rules=z1({},Ne),this.getBreak=Ne.getBreak}zw.prototype.renderInline=function(n,e,t){for(var r=this.rules,i=n.length,a=0,c="";i--;)c+=r[n[a].type](n,a++,e,t,this);return c};zw.prototype.render=function(n,e,t){for(var r=this.rules,i=n.length,a=-1,c="";++a<i;)n[a].type==="inline"?c+=this.renderInline(n[a].children,e,t):c+=r[n[a].type](n,a,e,t,this);return c};function di(){this.__rules__=[],this.__cache__=null}di.prototype.__find__=function(n){for(var e=this.__rules__.length,t=-1;e--;)if(this.__rules__[++t].name===n)return t;return-1};di.prototype.__compile__=function(){var n=this,e=[""];n.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),n.__cache__={},e.forEach(function(t){n.__cache__[t]=[],n.__rules__.forEach(function(r){r.enabled&&(t&&r.alt.indexOf(t)<0||n.__cache__[t].push(r.fn))})})};di.prototype.at=function(n,e,t){var r=this.__find__(n),i=t||{};if(r===-1)throw new Error("Parser rule not found: "+n);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null};di.prototype.before=function(n,e,t,r){var i=this.__find__(n),a=r||{};if(i===-1)throw new Error("Parser rule not found: "+n);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:t,alt:a.alt||[]}),this.__cache__=null};di.prototype.after=function(n,e,t,r){var i=this.__find__(n),a=r||{};if(i===-1)throw new Error("Parser rule not found: "+n);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:t,alt:a.alt||[]}),this.__cache__=null};di.prototype.push=function(n,e,t){var r=t||{};this.__rules__.push({name:n,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};di.prototype.enable=function(n,e){n=Array.isArray(n)?n:[n],e&&this.__rules__.forEach(function(t){t.enabled=!1}),n.forEach(function(t){var r=this.__find__(t);if(r<0)throw new Error("Rules manager: invalid rule name "+t);this.__rules__[r].enabled=!0},this),this.__cache__=null};di.prototype.disable=function(n){n=Array.isArray(n)?n:[n],n.forEach(function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!1},this),this.__cache__=null};di.prototype.getRules=function(n){return this.__cache__===null&&this.__compile__(),this.__cache__[n]||[]};function w6(n){n.inlineMode?n.tokens.push({type:"inline",content:n.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):n.block.parse(n.src,n.options,n.env,n.tokens)}function pl(n,e,t,r,i){this.src=n,this.env=r,this.options=t,this.parser=e,this.tokens=i,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}pl.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""};pl.prototype.push=function(n){this.pending&&this.pushPending(),this.tokens.push(n),this.pendingLevel=this.level};pl.prototype.cacheSet=function(n,e){for(var t=this.cache.length;t<=n;t++)this.cache.push(0);this.cache[n]=e};pl.prototype.cacheGet=function(n){return n<this.cache.length?this.cache[n]:0};function Yf(n,e){var t,r,i,a=-1,c=n.posMax,u=n.pos,d=n.isInLabel;if(n.isInLabel)return-1;if(n.labelUnmatchedScopes)return n.labelUnmatchedScopes--,-1;for(n.pos=e+1,n.isInLabel=!0,t=1;n.pos<c;){if(i=n.src.charCodeAt(n.pos),i===91)t++;else if(i===93&&(t--,t===0)){r=!0;break}n.parser.skipToken(n)}return r?(a=n.pos,n.labelUnmatchedScopes=0):n.labelUnmatchedScopes=t-1,n.pos=u,n.isInLabel=d,a}function R6(n,e,t,r){var i,a,c,u,d,f;if(n.charCodeAt(0)!==42||n.charCodeAt(1)!==91||n.indexOf("]:")===-1||(i=new pl(n,e,t,r,[]),a=Yf(i,1),a<0||n.charCodeAt(a+1)!==58))return-1;for(u=i.posMax,c=a+2;c<u&&i.src.charCodeAt(c)!==10;c++);return d=n.slice(2,a),f=n.slice(a+2,c).trim(),f.length===0?-1:(r.abbreviations||(r.abbreviations={}),typeof r.abbreviations[":"+d]>"u"&&(r.abbreviations[":"+d]=f),c)}function k6(n){var e=n.tokens,t,r,i,a;if(!n.inlineMode){for(t=1,r=e.length-1;t<r;t++)if(e[t-1].type==="paragraph_open"&&e[t].type==="inline"&&e[t+1].type==="paragraph_close"){for(i=e[t].content;i.length&&(a=R6(i,n.inline,n.options,n.env),!(a<0));)i=i.slice(a).trim();e[t].content=i,i.length||(e[t-1].tight=!0,e[t+1].tight=!0)}}}function oA(n){var e=$c(n);try{e=decodeURI(e)}catch{}return encodeURI(e)}function B1(n,e){var t,r,i,a=e,c=n.posMax;if(n.src.charCodeAt(e)===60){for(e++;e<c;){if(t=n.src.charCodeAt(e),t===10)return!1;if(t===62)return i=oA(Vf(n.src.slice(a+1,e))),n.parser.validateLink(i)?(n.pos=e+1,n.linkContent=i,!0):!1;if(t===92&&e+1<c){e+=2;continue}e++}return!1}for(r=0;e<c&&(t=n.src.charCodeAt(e),!(t===32||t<32||t===127));){if(t===92&&e+1<c){e+=2;continue}if(t===40&&(r++,r>1)||t===41&&(r--,r<0))break;e++}return a===e||(i=Vf(n.src.slice(a,e)),!n.parser.validateLink(i))?!1:(n.linkContent=i,n.pos=e,!0)}function K1(n,e){var t,r=e,i=n.posMax,a=n.src.charCodeAt(e);if(a!==34&&a!==39&&a!==40)return!1;for(e++,a===40&&(a=41);e<i;){if(t=n.src.charCodeAt(e),t===a)return n.pos=e+1,n.linkContent=Vf(n.src.slice(r+1,e)),!0;if(t===92&&e+1<i){e+=2;continue}e++}return!1}function q1(n){return n.trim().replace(/\s+/g," ").toUpperCase()}function I6(n,e,t,r){var i,a,c,u,d,f,p,g,v;if(n.charCodeAt(0)!==91||n.indexOf("]:")===-1||(i=new pl(n,e,t,r,[]),a=Yf(i,0),a<0||n.charCodeAt(a+1)!==58))return-1;for(u=i.posMax,c=a+2;c<u&&(d=i.src.charCodeAt(c),!(d!==32&&d!==10));c++);if(!B1(i,c))return-1;for(p=i.linkContent,c=i.pos,f=c,c=c+1;c<u&&(d=i.src.charCodeAt(c),!(d!==32&&d!==10));c++);for(c<u&&f!==c&&K1(i,c)?(g=i.linkContent,c=i.pos):(g="",c=f);c<u&&i.src.charCodeAt(c)===32;)c++;return c<u&&i.src.charCodeAt(c)!==10?-1:(v=q1(n.slice(1,a)),typeof r.references[v]>"u"&&(r.references[v]={title:g,href:p}),c)}function O6(n){var e=n.tokens,t,r,i,a;if(n.env.references=n.env.references||{},!n.inlineMode){for(t=1,r=e.length-1;t<r;t++)if(e[t].type==="inline"&&e[t-1].type==="paragraph_open"&&e[t+1].type==="paragraph_close"){for(i=e[t].content;i.length&&(a=I6(i,n.inline,n.options,n.env),!(a<0));)i=i.slice(a).trim();e[t].content=i,i.length||(e[t-1].tight=!0,e[t+1].tight=!0)}}}function N6(n){var e=n.tokens,t,r,i;for(r=0,i=e.length;r<i;r++)t=e[r],t.type==="inline"&&n.inline.parse(t.content,n.options,n.env,t.children)}function M6(n){var e,t,r,i,a,c,u,d,f,p=0,g=!1,v={};if(n.env.footnotes&&(n.tokens=n.tokens.filter(function(y){return y.type==="footnote_reference_open"?(g=!0,d=[],f=y.label,!1):y.type==="footnote_reference_close"?(g=!1,v[":"+f]=d,!1):(g&&d.push(y),!g)}),!!n.env.footnotes.list)){for(c=n.env.footnotes.list,n.tokens.push({type:"footnote_block_open",level:p++}),e=0,t=c.length;e<t;e++){for(n.tokens.push({type:"footnote_open",id:e,level:p++}),c[e].tokens?(u=[],u.push({type:"paragraph_open",tight:!1,level:p++}),u.push({type:"inline",content:"",level:p,children:c[e].tokens}),u.push({type:"paragraph_close",tight:!1,level:--p})):c[e].label&&(u=v[":"+c[e].label]),n.tokens=n.tokens.concat(u),n.tokens[n.tokens.length-1].type==="paragraph_close"?a=n.tokens.pop():a=null,i=c[e].count>0?c[e].count:1,r=0;r<i;r++)n.tokens.push({type:"footnote_anchor",id:e,subId:r,level:p});a&&n.tokens.push(a),n.tokens.push({type:"footnote_close",level:--p})}n.tokens.push({type:"footnote_block_close",level:--p})}}var _M=` 
()[]'".,!?-`;function uS(n){return n.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function P6(n){var e,t,r,i,a,c,u,d,f,p,g,v,y=n.tokens;if(n.env.abbreviations){for(n.env.abbrRegExp||(v="(^|["+_M.split("").map(uS).join("")+"])("+Object.keys(n.env.abbreviations).map(function(b){return b.substr(1)}).sort(function(b,C){return C.length-b.length}).map(uS).join("|")+")($|["+_M.split("").map(uS).join("")+"])",n.env.abbrRegExp=new RegExp(v,"g")),p=n.env.abbrRegExp,t=0,r=y.length;t<r;t++)if(y[t].type==="inline"){for(i=y[t].children,e=i.length-1;e>=0;e--)if(a=i[e],a.type==="text"){for(d=0,c=a.content,p.lastIndex=0,f=a.level,u=[];g=p.exec(c);)p.lastIndex>d&&u.push({type:"text",content:c.slice(d,g.index+g[1].length),level:f}),u.push({type:"abbr_open",title:n.env.abbreviations[":"+g[2]],level:f++}),u.push({type:"text",content:g[2],level:f}),u.push({type:"abbr_close",level:--f}),d=p.lastIndex-g[3].length;u.length&&(d<c.length&&u.push({type:"text",content:c.slice(d),level:f}),y[t].children=i=[].concat(i.slice(0,e),u,i.slice(e+1)))}}}}var x6=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,D6=/\((c|tm|r|p)\)/ig,L6={c:"",r:"",p:"",tm:""};function U6(n){return n.indexOf("(")<0?n:n.replace(D6,function(e,t){return L6[t.toLowerCase()]})}function z6(n){var e,t,r,i,a;if(n.options.typographer){for(a=n.tokens.length-1;a>=0;a--)if(n.tokens[a].type==="inline")for(i=n.tokens[a].children,e=i.length-1;e>=0;e--)t=i[e],t.type==="text"&&(r=t.content,r=U6(r),x6.test(r)&&(r=r.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/mg,"$1$2").replace(/(^|\s)--(\s|$)/mg,"$1$2").replace(/(^|[^-\s])--([^-\s]|$)/mg,"$1$2")),t.content=r)}}var H6=/['"]/,bM=/['"]/g,F6=/[-\s()\[\]]/,EM="";function CM(n,e){return e<0||e>=n.length?!1:!F6.test(n[e])}function cu(n,e,t){return n.substr(0,e)+t+n.substr(e+1)}function B6(n){var e,t,r,i,a,c,u,d,f,p,g,v,y,b,C,E,S;if(n.options.typographer){for(S=[],C=n.tokens.length-1;C>=0;C--)if(n.tokens[C].type==="inline"){for(E=n.tokens[C].children,S.length=0,e=0;e<E.length;e++)if(t=E[e],!(t.type!=="text"||H6.test(t.text))){for(u=E[e].level,y=S.length-1;y>=0&&!(S[y].level<=u);y--);S.length=y+1,r=t.content,a=0,c=r.length;e:for(;a<c&&(bM.lastIndex=a,i=bM.exec(r),!!i);){if(d=!CM(r,i.index-1),a=i.index+1,b=i[0]==="'",f=!CM(r,a),!f&&!d){b&&(t.content=cu(t.content,i.index,EM));continue}if(g=!f,v=!d,v){for(y=S.length-1;y>=0&&(p=S[y],!(S[y].level<u));y--)if(p.single===b&&S[y].level===u){p=S[y],b?(E[p.token].content=cu(E[p.token].content,p.pos,n.options.quotes[2]),t.content=cu(t.content,i.index,n.options.quotes[3])):(E[p.token].content=cu(E[p.token].content,p.pos,n.options.quotes[0]),t.content=cu(t.content,i.index,n.options.quotes[1])),S.length=y;continue e}}g?S.push({token:e,pos:i.index,single:b,level:u}):v&&b&&(t.content=cu(t.content,i.index,EM))}}}}}var dS=[["block",w6],["abbr",k6],["references",O6],["inline",N6],["footnote_tail",M6],["abbr2",P6],["replacements",z6],["smartquotes",B6]];function $1(){this.options={},this.ruler=new di;for(var n=0;n<dS.length;n++)this.ruler.push(dS[n][0],dS[n][1])}$1.prototype.process=function(n){var e,t,r;for(r=this.ruler.getRules(""),e=0,t=r.length;e<t;e++)r[e](n)};function gl(n,e,t,r,i){var a,c,u,d,f,p,g;for(this.src=n,this.parser=e,this.options=t,this.env=r,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",c=this.src,p=0,g=!1,u=d=p=0,f=c.length;d<f;d++){if(a=c.charCodeAt(d),!g)if(a===32){p++;continue}else g=!0;(a===10||d===f-1)&&(a!==10&&d++,this.bMarks.push(u),this.eMarks.push(d),this.tShift.push(p),g=!1,p=0,u=d+1)}this.bMarks.push(c.length),this.eMarks.push(c.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}gl.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};gl.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};gl.prototype.skipSpaces=function(e){for(var t=this.src.length;e<t&&this.src.charCodeAt(e)===32;e++);return e};gl.prototype.skipChars=function(e,t){for(var r=this.src.length;e<r&&this.src.charCodeAt(e)===t;e++);return e};gl.prototype.skipCharsBack=function(e,t,r){if(e<=r)return e;for(;e>r;)if(t!==this.src.charCodeAt(--e))return e+1;return e};gl.prototype.getLines=function(e,t,r,i){var a,c,u,d,f,p=e;if(e>=t)return"";if(p+1===t)return c=this.bMarks[p]+Math.min(this.tShift[p],r),u=i?this.eMarks[p]+1:this.eMarks[p],this.src.slice(c,u);for(d=new Array(t-e),a=0;p<t;p++,a++)f=this.tShift[p],f>r&&(f=r),f<0&&(f=0),c=this.bMarks[p]+f,p+1<t||i?u=this.eMarks[p]+1:u=this.eMarks[p],d[a]=this.src.slice(c,u);return d.join("")};function K6(n,e,t){var r,i;if(n.tShift[e]-n.blkIndent<4)return!1;for(i=r=e+1;r<t;){if(n.isEmpty(r)){r++;continue}if(n.tShift[r]-n.blkIndent>=4){r++,i=r;continue}break}return n.line=r,n.tokens.push({type:"code",content:n.getLines(e,i,4+n.blkIndent,!0),block:!0,lines:[e,n.line],level:n.level}),!0}function q6(n,e,t,r){var i,a,c,u,d,f=!1,p=n.bMarks[e]+n.tShift[e],g=n.eMarks[e];if(p+3>g||(i=n.src.charCodeAt(p),i!==126&&i!==96)||(d=p,p=n.skipChars(p,i),a=p-d,a<3)||(c=n.src.slice(p,g).trim(),c.indexOf("`")>=0))return!1;if(r)return!0;for(u=e;u++,!(u>=t||(p=d=n.bMarks[u]+n.tShift[u],g=n.eMarks[u],p<g&&n.tShift[u]<n.blkIndent));)if(n.src.charCodeAt(p)===i&&!(n.tShift[u]-n.blkIndent>=4)&&(p=n.skipChars(p,i),!(p-d<a)&&(p=n.skipSpaces(p),!(p<g)))){f=!0;break}return a=n.tShift[e],n.line=u+(f?1:0),n.tokens.push({type:"fence",params:c,content:n.getLines(e+1,u,a,!0),lines:[e,n.line],level:n.level}),!0}function $6(n,e,t,r){var i,a,c,u,d,f,p,g,v,y,b,C=n.bMarks[e]+n.tShift[e],E=n.eMarks[e];if(C>E||n.src.charCodeAt(C++)!==62||n.level>=n.options.maxNesting)return!1;if(r)return!0;for(n.src.charCodeAt(C)===32&&C++,d=n.blkIndent,n.blkIndent=0,u=[n.bMarks[e]],n.bMarks[e]=C,C=C<E?n.skipSpaces(C):C,a=C>=E,c=[n.tShift[e]],n.tShift[e]=C-n.bMarks[e],g=n.parser.ruler.getRules("blockquote"),i=e+1;i<t&&(C=n.bMarks[i]+n.tShift[i],E=n.eMarks[i],!(C>=E));i++){if(n.src.charCodeAt(C++)===62){n.src.charCodeAt(C)===32&&C++,u.push(n.bMarks[i]),n.bMarks[i]=C,C=C<E?n.skipSpaces(C):C,a=C>=E,c.push(n.tShift[i]),n.tShift[i]=C-n.bMarks[i];continue}if(a)break;for(b=!1,v=0,y=g.length;v<y;v++)if(g[v](n,i,t,!0)){b=!0;break}if(b)break;u.push(n.bMarks[i]),c.push(n.tShift[i]),n.tShift[i]=-1337}for(f=n.parentType,n.parentType="blockquote",n.tokens.push({type:"blockquote_open",lines:p=[e,0],level:n.level++}),n.parser.tokenize(n,e,i),n.tokens.push({type:"blockquote_close",level:--n.level}),n.parentType=f,p[1]=n.line,v=0;v<c.length;v++)n.bMarks[v+e]=u[v],n.tShift[v+e]=c[v];return n.blkIndent=d,!0}function j6(n,e,t,r){var i,a,c,u=n.bMarks[e],d=n.eMarks[e];if(u+=n.tShift[e],u>d||(i=n.src.charCodeAt(u++),i!==42&&i!==45&&i!==95))return!1;for(a=1;u<d;){if(c=n.src.charCodeAt(u++),c!==i&&c!==32)return!1;c===i&&a++}return a<3?!1:(r||(n.line=e+1,n.tokens.push({type:"hr",lines:[e,n.line],level:n.level})),!0)}function SM(n,e){var t,r,i;return r=n.bMarks[e]+n.tShift[e],i=n.eMarks[e],r>=i||(t=n.src.charCodeAt(r++),t!==42&&t!==45&&t!==43)||r<i&&n.src.charCodeAt(r)!==32?-1:r}function TM(n,e){var t,r=n.bMarks[e]+n.tShift[e],i=n.eMarks[e];if(r+1>=i||(t=n.src.charCodeAt(r++),t<48||t>57))return-1;for(;;){if(r>=i)return-1;if(t=n.src.charCodeAt(r++),!(t>=48&&t<=57)){if(t===41||t===46)break;return-1}}return r<i&&n.src.charCodeAt(r)!==32?-1:r}function G6(n,e){var t,r,i=n.level+2;for(t=e+2,r=n.tokens.length-2;t<r;t++)n.tokens[t].level===i&&n.tokens[t].type==="paragraph_open"&&(n.tokens[t+2].tight=!0,n.tokens[t].tight=!0,t+=2)}function V6(n,e,t,r){var i,a,c,u,d,f,p,g,v,y,b,C,E,S,w,A,k,O,D=!0,M,N,K,F;if((g=TM(n,e))>=0)E=!0;else if((g=SM(n,e))>=0)E=!1;else return!1;if(n.level>=n.options.maxNesting)return!1;if(C=n.src.charCodeAt(g-1),r)return!0;for(w=n.tokens.length,E?(p=n.bMarks[e]+n.tShift[e],b=Number(n.src.substr(p,g-p-1)),n.tokens.push({type:"ordered_list_open",order:b,lines:k=[e,0],level:n.level++})):n.tokens.push({type:"bullet_list_open",lines:k=[e,0],level:n.level++}),i=e,A=!1,M=n.parser.ruler.getRules("list");i<t&&(S=n.skipSpaces(g),v=n.eMarks[i],S>=v?y=1:y=S-g,y>4&&(y=1),y<1&&(y=1),a=g-n.bMarks[i]+y,n.tokens.push({type:"list_item_open",lines:O=[e,0],level:n.level++}),u=n.blkIndent,d=n.tight,c=n.tShift[e],f=n.parentType,n.tShift[e]=S-n.bMarks[e],n.blkIndent=a,n.tight=!0,n.parentType="list",n.parser.tokenize(n,e,t,!0),(!n.tight||A)&&(D=!1),A=n.line-e>1&&n.isEmpty(n.line-1),n.blkIndent=u,n.tShift[e]=c,n.tight=d,n.parentType=f,n.tokens.push({type:"list_item_close",level:--n.level}),i=e=n.line,O[1]=i,S=n.bMarks[e],!(i>=t||n.isEmpty(i)||n.tShift[i]<n.blkIndent));){for(F=!1,N=0,K=M.length;N<K;N++)if(M[N](n,i,t,!0)){F=!0;break}if(F)break;if(E){if(g=TM(n,i),g<0)break}else if(g=SM(n,i),g<0)break;if(C!==n.src.charCodeAt(g-1))break}return n.tokens.push({type:E?"ordered_list_close":"bullet_list_close",level:--n.level}),k[1]=i,n.line=i,D&&G6(n,w),!0}function Y6(n,e,t,r){var i,a,c,u,d,f=n.bMarks[e]+n.tShift[e],p=n.eMarks[e];if(f+4>p||n.src.charCodeAt(f)!==91||n.src.charCodeAt(f+1)!==94||n.level>=n.options.maxNesting)return!1;for(u=f+2;u<p;u++){if(n.src.charCodeAt(u)===32)return!1;if(n.src.charCodeAt(u)===93)break}return u===f+2||u+1>=p||n.src.charCodeAt(++u)!==58?!1:(r||(u++,n.env.footnotes||(n.env.footnotes={}),n.env.footnotes.refs||(n.env.footnotes.refs={}),d=n.src.slice(f+2,u-2),n.env.footnotes.refs[":"+d]=-1,n.tokens.push({type:"footnote_reference_open",label:d,level:n.level++}),i=n.bMarks[e],a=n.tShift[e],c=n.parentType,n.tShift[e]=n.skipSpaces(u)-u,n.bMarks[e]=u,n.blkIndent+=4,n.parentType="footnote",n.tShift[e]<n.blkIndent&&(n.tShift[e]+=n.blkIndent,n.bMarks[e]-=n.blkIndent),n.parser.tokenize(n,e,t,!0),n.parentType=c,n.blkIndent-=4,n.tShift[e]=a,n.bMarks[e]=i,n.tokens.push({type:"footnote_reference_close",level:--n.level})),!0)}function Q6(n,e,t,r){var i,a,c,u=n.bMarks[e]+n.tShift[e],d=n.eMarks[e];if(u>=d||(i=n.src.charCodeAt(u),i!==35||u>=d))return!1;for(a=1,i=n.src.charCodeAt(++u);i===35&&u<d&&a<=6;)a++,i=n.src.charCodeAt(++u);return a>6||u<d&&i!==32?!1:(r||(d=n.skipCharsBack(d,32,u),c=n.skipCharsBack(d,35,u),c>u&&n.src.charCodeAt(c-1)===32&&(d=c),n.line=e+1,n.tokens.push({type:"heading_open",hLevel:a,lines:[e,n.line],level:n.level}),u<d&&n.tokens.push({type:"inline",content:n.src.slice(u,d).trim(),level:n.level+1,lines:[e,n.line],children:[]}),n.tokens.push({type:"heading_close",hLevel:a,level:n.level})),!0)}function Z6(n,e,t){var r,i,a,c=e+1;return c>=t||n.tShift[c]<n.blkIndent||n.tShift[c]-n.blkIndent>3||(i=n.bMarks[c]+n.tShift[c],a=n.eMarks[c],i>=a)||(r=n.src.charCodeAt(i),r!==45&&r!==61)||(i=n.skipChars(i,r),i=n.skipSpaces(i),i<a)?!1:(i=n.bMarks[e]+n.tShift[e],n.line=c+1,n.tokens.push({type:"heading_open",hLevel:r===61?1:2,lines:[e,n.line],level:n.level}),n.tokens.push({type:"inline",content:n.src.slice(i,n.eMarks[e]).trim(),level:n.level+1,lines:[e,n.line-1],children:[]}),n.tokens.push({type:"heading_close",hLevel:r===61?1:2,level:n.level}),!0)}var j1={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(n){j1[n]=!0});var W6=/^<([a-zA-Z]{1,15})[\s\/>]/,X6=/^<\/([a-zA-Z]{1,15})[\s>]/;function J6(n){var e=n|32;return e>=97&&e<=122}function eY(n,e,t,r){var i,a,c,u=n.bMarks[e],d=n.eMarks[e],f=n.tShift[e];if(u+=f,!n.options.html||f>3||u+2>=d||n.src.charCodeAt(u)!==60)return!1;if(i=n.src.charCodeAt(u+1),i===33||i===63){if(r)return!0}else if(i===47||J6(i)){if(i===47){if(a=n.src.slice(u,d).match(X6),!a)return!1}else if(a=n.src.slice(u,d).match(W6),!a)return!1;if(j1[a[1].toLowerCase()]!==!0)return!1;if(r)return!0}else return!1;for(c=e+1;c<n.lineMax&&!n.isEmpty(c);)c++;return n.line=c,n.tokens.push({type:"htmlblock",level:n.level,lines:[e,n.line],content:n.getLines(e,c,0,!0)}),!0}function hS(n,e){var t=n.bMarks[e]+n.blkIndent,r=n.eMarks[e];return n.src.substr(t,r-t)}function tY(n,e,t,r){var i,a,c,u,d,f,p,g,v,y,b;if(e+2>t||(d=e+1,n.tShift[d]<n.blkIndent)||(c=n.bMarks[d]+n.tShift[d],c>=n.eMarks[d])||(i=n.src.charCodeAt(c),i!==124&&i!==45&&i!==58)||(a=hS(n,e+1),!/^[-:| ]+$/.test(a))||(f=a.split("|"),f<=2))return!1;for(g=[],u=0;u<f.length;u++){if(v=f[u].trim(),!v){if(u===0||u===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(v))return!1;v.charCodeAt(v.length-1)===58?g.push(v.charCodeAt(0)===58?"center":"right"):v.charCodeAt(0)===58?g.push("left"):g.push("")}if(a=hS(n,e).trim(),a.indexOf("|")===-1||(f=a.replace(/^\||\|$/g,"").split("|"),g.length!==f.length))return!1;if(r)return!0;for(n.tokens.push({type:"table_open",lines:y=[e,0],level:n.level++}),n.tokens.push({type:"thead_open",lines:[e,e+1],level:n.level++}),n.tokens.push({type:"tr_open",lines:[e,e+1],level:n.level++}),u=0;u<f.length;u++)n.tokens.push({type:"th_open",align:g[u],lines:[e,e+1],level:n.level++}),n.tokens.push({type:"inline",content:f[u].trim(),lines:[e,e+1],level:n.level,children:[]}),n.tokens.push({type:"th_close",level:--n.level});for(n.tokens.push({type:"tr_close",level:--n.level}),n.tokens.push({type:"thead_close",level:--n.level}),n.tokens.push({type:"tbody_open",lines:b=[e+2,0],level:n.level++}),d=e+2;d<t&&!(n.tShift[d]<n.blkIndent||(a=hS(n,d).trim(),a.indexOf("|")===-1));d++){for(f=a.replace(/^\||\|$/g,"").split("|"),n.tokens.push({type:"tr_open",level:n.level++}),u=0;u<f.length;u++)n.tokens.push({type:"td_open",align:g[u],level:n.level++}),p=f[u].substring(f[u].charCodeAt(0)===124?1:0,f[u].charCodeAt(f[u].length-1)===124?f[u].length-1:f[u].length).trim(),n.tokens.push({type:"inline",content:p,level:n.level,children:[]}),n.tokens.push({type:"td_close",level:--n.level});n.tokens.push({type:"tr_close",level:--n.level})}return n.tokens.push({type:"tbody_close",level:--n.level}),n.tokens.push({type:"table_close",level:--n.level}),y[1]=b[1]=d,n.line=d,!0}function uv(n,e){var t,r,i=n.bMarks[e]+n.tShift[e],a=n.eMarks[e];return i>=a||(r=n.src.charCodeAt(i++),r!==126&&r!==58)||(t=n.skipSpaces(i),i===t)||t>=a?-1:t}function nY(n,e){var t,r,i=n.level+2;for(t=e+2,r=n.tokens.length-2;t<r;t++)n.tokens[t].level===i&&n.tokens[t].type==="paragraph_open"&&(n.tokens[t+2].tight=!0,n.tokens[t].tight=!0,t+=2)}function rY(n,e,t,r){var i,a,c,u,d,f,p,g,v,y,b,C,E,S;if(r)return n.ddIndent<0?!1:uv(n,e)>=0;if(p=e+1,n.isEmpty(p)&&++p>t||n.tShift[p]<n.blkIndent||(i=uv(n,p),i<0)||n.level>=n.options.maxNesting)return!1;f=n.tokens.length,n.tokens.push({type:"dl_open",lines:d=[e,0],level:n.level++}),c=e,a=p;e:for(;;){for(S=!0,E=!1,n.tokens.push({type:"dt_open",lines:[c,c],level:n.level++}),n.tokens.push({type:"inline",content:n.getLines(c,c+1,n.blkIndent,!1).trim(),level:n.level+1,lines:[c,c],children:[]}),n.tokens.push({type:"dt_close",level:--n.level});;){if(n.tokens.push({type:"dd_open",lines:u=[p,0],level:n.level++}),C=n.tight,v=n.ddIndent,g=n.blkIndent,b=n.tShift[a],y=n.parentType,n.blkIndent=n.ddIndent=n.tShift[a]+2,n.tShift[a]=i-n.bMarks[a],n.tight=!0,n.parentType="deflist",n.parser.tokenize(n,a,t,!0),(!n.tight||E)&&(S=!1),E=n.line-a>1&&n.isEmpty(n.line-1),n.tShift[a]=b,n.tight=C,n.parentType=y,n.blkIndent=g,n.ddIndent=v,n.tokens.push({type:"dd_close",level:--n.level}),u[1]=p=n.line,p>=t||n.tShift[p]<n.blkIndent)break e;if(i=uv(n,p),i<0)break;a=p}if(p>=t||(c=p,n.isEmpty(c))||n.tShift[c]<n.blkIndent||(a=c+1,a>=t)||(n.isEmpty(a)&&a++,a>=t)||n.tShift[a]<n.blkIndent||(i=uv(n,a),i<0))break}return n.tokens.push({type:"dl_close",level:--n.level}),d[1]=p,n.line=p,S&&nY(n,f),!0}function iY(n,e){var t,r,i,a,c,u=e+1,d;if(t=n.lineMax,u<t&&!n.isEmpty(u)){for(d=n.parser.ruler.getRules("paragraph");u<t&&!n.isEmpty(u);u++)if(!(n.tShift[u]-n.blkIndent>3)){for(i=!1,a=0,c=d.length;a<c;a++)if(d[a](n,u,t,!0)){i=!0;break}if(i)break}}return r=n.getLines(e,u,n.blkIndent,!1).trim(),n.line=u,r.length&&(n.tokens.push({type:"paragraph_open",tight:!1,lines:[e,n.line],level:n.level}),n.tokens.push({type:"inline",content:r,level:n.level+1,lines:[e,n.line],children:[]}),n.tokens.push({type:"paragraph_close",tight:!1,level:n.level})),!0}var dv=[["code",K6],["fences",q6,["paragraph","blockquote","list"]],["blockquote",$6,["paragraph","blockquote","list"]],["hr",j6,["paragraph","blockquote","list"]],["list",V6,["paragraph","blockquote"]],["footnote",Y6,["paragraph"]],["heading",Q6,["paragraph","blockquote"]],["lheading",Z6],["htmlblock",eY,["paragraph","blockquote"]],["table",tY,["paragraph"]],["deflist",rY,["paragraph"]],["paragraph",iY]];function Hw(){this.ruler=new di;for(var n=0;n<dv.length;n++)this.ruler.push(dv[n][0],dv[n][1],{alt:(dv[n][2]||[]).slice()})}Hw.prototype.tokenize=function(n,e,t){for(var r=this.ruler.getRules(""),i=r.length,a=e,c=!1,u,d;a<t&&(n.line=a=n.skipEmptyLines(a),!(a>=t||n.tShift[a]<n.blkIndent));){for(d=0;d<i&&(u=r[d](n,a,t,!1),!u);d++);if(n.tight=!c,n.isEmpty(n.line-1)&&(c=!0),a=n.line,a<t&&n.isEmpty(a)){if(c=!0,a++,a<t&&n.parentType==="list"&&n.isEmpty(a))break;n.line=a}}};var oY=/[\n\t]/g,aY=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,sY=/\u00a0/g;Hw.prototype.parse=function(n,e,t,r){var i,a=0,c=0;if(!n)return[];n=n.replace(sY," "),n=n.replace(aY,`
`),n.indexOf("	")>=0&&(n=n.replace(oY,function(u,d){var f;return n.charCodeAt(d)===10?(a=d+1,c=0,u):(f="    ".slice((d-a-c)%4),c=d-a+1,f)})),i=new gl(n,this,e,t,r),this.tokenize(i,i.line,i.lineMax)};function cY(n){switch(n){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}function lY(n,e){for(var t=n.pos;t<n.posMax&&!cY(n.src.charCodeAt(t));)t++;return t===n.pos?!1:(e||(n.pending+=n.src.slice(n.pos,t)),n.pos=t,!0)}function uY(n,e){var t,r,i=n.pos;if(n.src.charCodeAt(i)!==10)return!1;if(t=n.pending.length-1,r=n.posMax,!e)if(t>=0&&n.pending.charCodeAt(t)===32)if(t>=1&&n.pending.charCodeAt(t-1)===32){for(var a=t-2;a>=0;a--)if(n.pending.charCodeAt(a)!==32){n.pending=n.pending.substring(0,a+1);break}n.push({type:"hardbreak",level:n.level})}else n.pending=n.pending.slice(0,-1),n.push({type:"softbreak",level:n.level});else n.push({type:"softbreak",level:n.level});for(i++;i<r&&n.src.charCodeAt(i)===32;)i++;return n.pos=i,!0}var Fw=[];for(var AM=0;AM<256;AM++)Fw.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(n){Fw[n.charCodeAt(0)]=1});function dY(n,e){var t,r=n.pos,i=n.posMax;if(n.src.charCodeAt(r)!==92)return!1;if(r++,r<i){if(t=n.src.charCodeAt(r),t<256&&Fw[t]!==0)return e||(n.pending+=n.src[r]),n.pos+=2,!0;if(t===10){for(e||n.push({type:"hardbreak",level:n.level}),r++;r<i&&n.src.charCodeAt(r)===32;)r++;return n.pos=r,!0}}return e||(n.pending+="\\"),n.pos++,!0}function hY(n,e){var t,r,i,a,c,u=n.pos,d=n.src.charCodeAt(u);if(d!==96)return!1;for(t=u,u++,r=n.posMax;u<r&&n.src.charCodeAt(u)===96;)u++;for(i=n.src.slice(t,u),a=c=u;(a=n.src.indexOf("`",c))!==-1;){for(c=a+1;c<r&&n.src.charCodeAt(c)===96;)c++;if(c-a===i.length)return e||n.push({type:"code",content:n.src.slice(u,a).replace(/[ \n]+/g," ").trim(),block:!1,level:n.level}),n.pos=c,!0}return e||(n.pending+=i),n.pos+=i.length,!0}function fY(n,e){var t,r,i,a=n.posMax,c=n.pos,u,d;if(n.src.charCodeAt(c)!==126||e||c+4>=a||n.src.charCodeAt(c+1)!==126||n.level>=n.options.maxNesting||(u=c>0?n.src.charCodeAt(c-1):-1,d=n.src.charCodeAt(c+2),u===126)||d===126||d===32||d===10)return!1;for(r=c+2;r<a&&n.src.charCodeAt(r)===126;)r++;if(r>c+3)return n.pos+=r-c,e||(n.pending+=n.src.slice(c,r)),!0;for(n.pos=c+2,i=1;n.pos+1<a;){if(n.src.charCodeAt(n.pos)===126&&n.src.charCodeAt(n.pos+1)===126&&(u=n.src.charCodeAt(n.pos-1),d=n.pos+2<a?n.src.charCodeAt(n.pos+2):-1,d!==126&&u!==126&&(u!==32&&u!==10?i--:d!==32&&d!==10&&i++,i<=0))){t=!0;break}n.parser.skipToken(n)}return t?(n.posMax=n.pos,n.pos=c+2,e||(n.push({type:"del_open",level:n.level++}),n.parser.tokenize(n),n.push({type:"del_close",level:--n.level})),n.pos=n.posMax+2,n.posMax=a,!0):(n.pos=c,!1)}function pY(n,e){var t,r,i,a=n.posMax,c=n.pos,u,d;if(n.src.charCodeAt(c)!==43||e||c+4>=a||n.src.charCodeAt(c+1)!==43||n.level>=n.options.maxNesting||(u=c>0?n.src.charCodeAt(c-1):-1,d=n.src.charCodeAt(c+2),u===43)||d===43||d===32||d===10)return!1;for(r=c+2;r<a&&n.src.charCodeAt(r)===43;)r++;if(r!==c+2)return n.pos+=r-c,e||(n.pending+=n.src.slice(c,r)),!0;for(n.pos=c+2,i=1;n.pos+1<a;){if(n.src.charCodeAt(n.pos)===43&&n.src.charCodeAt(n.pos+1)===43&&(u=n.src.charCodeAt(n.pos-1),d=n.pos+2<a?n.src.charCodeAt(n.pos+2):-1,d!==43&&u!==43&&(u!==32&&u!==10?i--:d!==32&&d!==10&&i++,i<=0))){t=!0;break}n.parser.skipToken(n)}return t?(n.posMax=n.pos,n.pos=c+2,e||(n.push({type:"ins_open",level:n.level++}),n.parser.tokenize(n),n.push({type:"ins_close",level:--n.level})),n.pos=n.posMax+2,n.posMax=a,!0):(n.pos=c,!1)}function gY(n,e){var t,r,i,a=n.posMax,c=n.pos,u,d;if(n.src.charCodeAt(c)!==61||e||c+4>=a||n.src.charCodeAt(c+1)!==61||n.level>=n.options.maxNesting||(u=c>0?n.src.charCodeAt(c-1):-1,d=n.src.charCodeAt(c+2),u===61)||d===61||d===32||d===10)return!1;for(r=c+2;r<a&&n.src.charCodeAt(r)===61;)r++;if(r!==c+2)return n.pos+=r-c,e||(n.pending+=n.src.slice(c,r)),!0;for(n.pos=c+2,i=1;n.pos+1<a;){if(n.src.charCodeAt(n.pos)===61&&n.src.charCodeAt(n.pos+1)===61&&(u=n.src.charCodeAt(n.pos-1),d=n.pos+2<a?n.src.charCodeAt(n.pos+2):-1,d!==61&&u!==61&&(u!==32&&u!==10?i--:d!==32&&d!==10&&i++,i<=0))){t=!0;break}n.parser.skipToken(n)}return t?(n.posMax=n.pos,n.pos=c+2,e||(n.push({type:"mark_open",level:n.level++}),n.parser.tokenize(n),n.push({type:"mark_close",level:--n.level})),n.pos=n.posMax+2,n.posMax=a,!0):(n.pos=c,!1)}function wM(n){return n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122}function RM(n,e){var t=e,r,i,a,c=!0,u=!0,d=n.posMax,f=n.src.charCodeAt(e);for(r=e>0?n.src.charCodeAt(e-1):-1;t<d&&n.src.charCodeAt(t)===f;)t++;return t>=d&&(c=!1),a=t-e,a>=4?c=u=!1:(i=t<d?n.src.charCodeAt(t):-1,(i===32||i===10)&&(c=!1),(r===32||r===10)&&(u=!1),f===95&&(wM(r)&&(c=!1),wM(i)&&(u=!1))),{can_open:c,can_close:u,delims:a}}function mY(n,e){var t,r,i,a,c,u,d,f=n.posMax,p=n.pos,g=n.src.charCodeAt(p);if(g!==95&&g!==42||e)return!1;if(d=RM(n,p),t=d.delims,!d.can_open)return n.pos+=t,e||(n.pending+=n.src.slice(p,n.pos)),!0;if(n.level>=n.options.maxNesting)return!1;for(n.pos=p+t,u=[t];n.pos<f;){if(n.src.charCodeAt(n.pos)===g){if(d=RM(n,n.pos),r=d.delims,d.can_close){for(a=u.pop(),c=r;a!==c;){if(c<a){u.push(a-c);break}if(c-=a,u.length===0)break;n.pos+=a,a=u.pop()}if(u.length===0){t=a,i=!0;break}n.pos+=r;continue}d.can_open&&u.push(r),n.pos+=r;continue}n.parser.skipToken(n)}return i?(n.posMax=n.pos,n.pos=p+t,e||((t===2||t===3)&&n.push({type:"strong_open",level:n.level++}),(t===1||t===3)&&n.push({type:"em_open",level:n.level++}),n.parser.tokenize(n),(t===1||t===3)&&n.push({type:"em_close",level:--n.level}),(t===2||t===3)&&n.push({type:"strong_close",level:--n.level})),n.pos=n.posMax+t,n.posMax=f,!0):(n.pos=p,!1)}var vY=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function yY(n,e){var t,r,i=n.posMax,a=n.pos;if(n.src.charCodeAt(a)!==126||e||a+2>=i||n.level>=n.options.maxNesting)return!1;for(n.pos=a+1;n.pos<i;){if(n.src.charCodeAt(n.pos)===126){t=!0;break}n.parser.skipToken(n)}return!t||a+1===n.pos||(r=n.src.slice(a+1,n.pos),r.match(/(^|[^\\])(\\\\)*\s/))?(n.pos=a,!1):(n.posMax=n.pos,n.pos=a+1,e||n.push({type:"sub",level:n.level,content:r.replace(vY,"$1")}),n.pos=n.posMax+1,n.posMax=i,!0)}var _Y=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function bY(n,e){var t,r,i=n.posMax,a=n.pos;if(n.src.charCodeAt(a)!==94||e||a+2>=i||n.level>=n.options.maxNesting)return!1;for(n.pos=a+1;n.pos<i;){if(n.src.charCodeAt(n.pos)===94){t=!0;break}n.parser.skipToken(n)}return!t||a+1===n.pos||(r=n.src.slice(a+1,n.pos),r.match(/(^|[^\\])(\\\\)*\s/))?(n.pos=a,!1):(n.posMax=n.pos,n.pos=a+1,e||n.push({type:"sup",level:n.level,content:r.replace(_Y,"$1")}),n.pos=n.posMax+1,n.posMax=i,!0)}function EY(n,e){var t,r,i,a,c,u,d,f,p=!1,g=n.pos,v=n.posMax,y=n.pos,b=n.src.charCodeAt(y);if(b===33&&(p=!0,b=n.src.charCodeAt(++y)),b!==91||n.level>=n.options.maxNesting||(t=y+1,r=Yf(n,y),r<0))return!1;if(u=r+1,u<v&&n.src.charCodeAt(u)===40){for(u++;u<v&&(f=n.src.charCodeAt(u),!(f!==32&&f!==10));u++);if(u>=v)return!1;for(y=u,B1(n,u)?(a=n.linkContent,u=n.pos):a="",y=u;u<v&&(f=n.src.charCodeAt(u),!(f!==32&&f!==10));u++);if(u<v&&y!==u&&K1(n,u))for(c=n.linkContent,u=n.pos;u<v&&(f=n.src.charCodeAt(u),!(f!==32&&f!==10));u++);else c="";if(u>=v||n.src.charCodeAt(u)!==41)return n.pos=g,!1;u++}else{if(n.linkLevel>0)return!1;for(;u<v&&(f=n.src.charCodeAt(u),!(f!==32&&f!==10));u++);if(u<v&&n.src.charCodeAt(u)===91&&(y=u+1,u=Yf(n,u),u>=0?i=n.src.slice(y,u++):u=y-1),i||(typeof i>"u"&&(u=r+1),i=n.src.slice(t,r)),d=n.env.references[q1(i)],!d)return n.pos=g,!1;a=d.href,c=d.title}return e||(n.pos=t,n.posMax=r,p?n.push({type:"image",src:a,title:c,alt:n.src.substr(t,r-t),level:n.level}):(n.push({type:"link_open",href:a,title:c,level:n.level++}),n.linkLevel++,n.parser.tokenize(n),n.linkLevel--,n.push({type:"link_close",level:--n.level}))),n.pos=u,n.posMax=v,!0}function CY(n,e){var t,r,i,a,c=n.posMax,u=n.pos;return u+2>=c||n.src.charCodeAt(u)!==94||n.src.charCodeAt(u+1)!==91||n.level>=n.options.maxNesting||(t=u+2,r=Yf(n,u+1),r<0)?!1:(e||(n.env.footnotes||(n.env.footnotes={}),n.env.footnotes.list||(n.env.footnotes.list=[]),i=n.env.footnotes.list.length,n.pos=t,n.posMax=r,n.push({type:"footnote_ref",id:i,level:n.level}),n.linkLevel++,a=n.tokens.length,n.parser.tokenize(n),n.env.footnotes.list[i]={tokens:n.tokens.splice(a)},n.linkLevel--),n.pos=r+1,n.posMax=c,!0)}function SY(n,e){var t,r,i,a,c=n.posMax,u=n.pos;if(u+3>c||!n.env.footnotes||!n.env.footnotes.refs||n.src.charCodeAt(u)!==91||n.src.charCodeAt(u+1)!==94||n.level>=n.options.maxNesting)return!1;for(r=u+2;r<c;r++){if(n.src.charCodeAt(r)===32||n.src.charCodeAt(r)===10)return!1;if(n.src.charCodeAt(r)===93)break}return r===u+2||r>=c||(r++,t=n.src.slice(u+2,r-1),typeof n.env.footnotes.refs[":"+t]>"u")?!1:(e||(n.env.footnotes.list||(n.env.footnotes.list=[]),n.env.footnotes.refs[":"+t]<0?(i=n.env.footnotes.list.length,n.env.footnotes.list[i]={label:t,count:0},n.env.footnotes.refs[":"+t]=i):i=n.env.footnotes.refs[":"+t],a=n.env.footnotes.list[i].count,n.env.footnotes.list[i].count++,n.push({type:"footnote_ref",id:i,subId:a,level:n.level})),n.pos=r,n.posMax=c,!0)}var TY=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],AY=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,wY=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function RY(n,e){var t,r,i,a,c,u=n.pos;return n.src.charCodeAt(u)!==60||(t=n.src.slice(u),t.indexOf(">")<0)?!1:(r=t.match(wY),r?TY.indexOf(r[1].toLowerCase())<0||(a=r[0].slice(1,-1),c=oA(a),!n.parser.validateLink(a))?!1:(e||(n.push({type:"link_open",href:c,level:n.level}),n.push({type:"text",content:a,level:n.level+1}),n.push({type:"link_close",level:n.level})),n.pos+=r[0].length,!0):(i=t.match(AY),i?(a=i[0].slice(1,-1),c=oA("mailto:"+a),n.parser.validateLink(c)?(e||(n.push({type:"link_open",href:c,level:n.level}),n.push({type:"text",content:a,level:n.level+1}),n.push({type:"link_close",level:n.level})),n.pos+=i[0].length,!0):!1):!1))}function Y_(n,e){return n=n.source,e=e||"",function t(r,i){return r?(i=i.source||i,n=n.replace(r,i),t):new RegExp(n,e)}}var kY=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,IY=/[^"'=<>`\x00-\x20]+/,OY=/'[^']*'/,NY=/"[^"]*"/,MY=Y_(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",IY)("single_quoted",OY)("double_quoted",NY)(),PY=Y_(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",kY)("attr_value",MY)(),xY=Y_(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",PY)(),DY=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,LY=/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,UY=/<[?].*?[?]>/,zY=/<![A-Z]+\s+[^>]*>/,HY=/<!\[CDATA\[[\s\S]*?\]\]>/,FY=Y_(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",xY)("close_tag",DY)("comment",LY)("processing",UY)("declaration",zY)("cdata",HY)();function BY(n){var e=n|32;return e>=97&&e<=122}function KY(n,e){var t,r,i,a=n.pos;return!n.options.html||(i=n.posMax,n.src.charCodeAt(a)!==60||a+2>=i)||(t=n.src.charCodeAt(a+1),t!==33&&t!==63&&t!==47&&!BY(t))||(r=n.src.slice(a).match(FY),!r)?!1:(e||n.push({type:"htmltag",content:n.src.slice(a,a+r[0].length),level:n.level}),n.pos+=r[0].length,!0)}var qY=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,$Y=/^&([a-z][a-z0-9]{1,31});/i;function jY(n,e){var t,r,i,a=n.pos,c=n.posMax;if(n.src.charCodeAt(a)!==38)return!1;if(a+1<c){if(t=n.src.charCodeAt(a+1),t===35){if(i=n.src.slice(a).match(qY),i)return e||(r=i[1][0].toLowerCase()==="x"?parseInt(i[1].slice(1),16):parseInt(i[1],10),n.pending+=H1(r)?iA(r):iA(65533)),n.pos+=i[0].length,!0}else if(i=n.src.slice(a).match($Y),i){var u=U1(i[1]);if(i[1]!==u)return e||(n.pending+=u),n.pos+=i[0].length,!0}}return e||(n.pending+="&"),n.pos++,!0}var fS=[["text",lY],["newline",uY],["escape",dY],["backticks",hY],["del",fY],["ins",pY],["mark",gY],["emphasis",mY],["sub",yY],["sup",bY],["links",EY],["footnote_inline",CY],["footnote_ref",SY],["autolink",RY],["htmltag",KY],["entity",jY]];function Q_(){this.ruler=new di;for(var n=0;n<fS.length;n++)this.ruler.push(fS[n][0],fS[n][1]);this.validateLink=GY}Q_.prototype.skipToken=function(n){var e=this.ruler.getRules(""),t=e.length,r=n.pos,i,a;if((a=n.cacheGet(r))>0){n.pos=a;return}for(i=0;i<t;i++)if(e[i](n,!0)){n.cacheSet(r,n.pos);return}n.pos++,n.cacheSet(r,n.pos)};Q_.prototype.tokenize=function(n){for(var e=this.ruler.getRules(""),t=e.length,r=n.posMax,i,a;n.pos<r;){for(a=0;a<t&&(i=e[a](n,!1),!i);a++);if(i){if(n.pos>=r)break;continue}n.pending+=n.src[n.pos++]}n.pending&&n.pushPending()};Q_.prototype.parse=function(n,e,t,r){var i=new pl(n,this,e,t,r);this.tokenize(i)};function GY(n){var e=["vbscript","javascript","file","data"],t=n.trim().toLowerCase();return t=$c(t),!(t.indexOf(":")!==-1&&e.indexOf(t.split(":")[0])!==-1)}var VY={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},YY={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},QY={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}},ZY={default:VY,full:YY,commonmark:QY};function G1(n,e,t){this.src=e,this.env=t,this.options=n.options,this.tokens=[],this.inlineMode=!1,this.inline=n.inline,this.block=n.block,this.renderer=n.renderer,this.typographer=n.typographer}function ml(n,e){typeof n!="string"&&(e=n,n="default"),e&&e.linkify!=null&&console.warn(`linkify option is removed. Use linkify plugin instead:

import Remarkable from 'remarkable';
import linkify from 'remarkable/linkify';
new Remarkable().use(linkify)
`),this.inline=new Q_,this.block=new Hw,this.core=new $1,this.renderer=new zw,this.ruler=new di,this.options={},this.configure(ZY[n]),this.set(e||{})}ml.prototype.set=function(n){z1(this.options,n)};ml.prototype.configure=function(n){var e=this;if(!n)throw new Error("Wrong `remarkable` preset, check name/content");n.options&&e.set(n.options),n.components&&Object.keys(n.components).forEach(function(t){n.components[t].rules&&e[t].ruler.enable(n.components[t].rules,!0)})};ml.prototype.use=function(n,e){return n(this,e),this};ml.prototype.parse=function(n,e){var t=new G1(this,n,e);return this.core.process(t),t.tokens};ml.prototype.render=function(n,e){return e=e||{},this.renderer.render(this.parse(n,e),this.options,e)};ml.prototype.parseInline=function(n,e){var t=new G1(this,n,e);return t.inlineMode=!0,this.core.process(t),t.tokens};ml.prototype.renderInline=function(n,e){return e=e||{},this.renderer.render(this.parseInline(n,e),this.options,e)};var WY="function",Bw="object",Kw="undefined",kf="prototype",qw=Object,XY=qw[kf];/*! https://github.com/nevware21/ts-utils v0.11.5 */function wa(n,e){return n||e}function kr(n,e){return n[e]}var ii=void 0,Gn=null,$w="",Z_="function",Ig="object",ua="prototype",aA="__proto__",gc="undefined",Ay="constructor",jw="Symbol",JY="_polyfill",Oc="length",wy="name",ir="call",W_="toString",zi=wa(Object),Gw=kr(zi,ua),V1=wa(String),vl=kr(V1,ua),e9=wa(Math),Y1=wa(Array),Q1=kr(Y1,ua),ma=kr(Q1,"slice");function or(n,e){try{return{v:n.apply(this,e)}}catch(t){return{e:t}}}function t9(n,e){var t=or(n);return t.e?e:t.v}var pS;function X_(n){return function(e){return typeof e===n}}function Z1(n){var e="[object "+n+"]";return function(t){return!!(t&&n9(t)===e)}}function n9(n){return Gw[W_].call(n)}function Vt(n){return typeof n===gc||n===gc}function r9(n){return!Vw(n)}function Yt(n){return n===Gn||Vt(n)}function i9(n){return n===Gn||!Vw(n)}function Vw(n){return!!n||n!==ii}function o9(n){return!pS&&(pS=["string","number","boolean",gc,"symbol","bigint"]),n!==Ig&&pS.indexOf(n)!==-1}var ar=X_("string"),Jt=X_(Z_);function md(n){return!n&&Yt(n)?!1:!!n&&typeof n===Ig}var vt=kr(Y1,"isArray"),a9=Z1("Date"),va=X_("number"),Os=X_("boolean"),s9=Z1("Error");function vd(n){return!!(n&&n.then&&Jt(n.then))}function kM(n){return!(!n||t9(function(){return!(n&&0+n)},!n))}var Yw=kr(zi,"getOwnPropertyDescriptor");function Mi(n,e){return!!n&&Gw.hasOwnProperty[ir](n,e)}var Bu=wa(kr(zi,"hasOwn"),c9);function c9(n,e){return Mi(n,e)||!!Yw(n,e)}function en(n,e,t){if(n&&md(n)){for(var r in n)if(Bu(n,r)&&e[ir](n,r,n[r])===-1)break}}var hv={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function W1(n){var e={};if(e[hv.c]=!0,e[hv.e]=!0,n.l){e.get=function(){return n.l.v};var t=Yw(n.l,"v");t&&t.set&&(e.set=function(r){n.l.v=r})}return en(n,function(r,i){e[hv[r]]=r9(i)?e[hv[r]]:i}),e}var ya=kr(zi,"defineProperty"),l9=kr(zi,"defineProperties");function ln(n,e,t){return ya(n,e,W1(t))}function X1(n,e){var t={};return en(e,function(r,i){t[r]=W1(i)}),l9(n,t)}function J1(n,e,t,r,i){var a={};return en(n,function(c,u){Ry(a,c,e?u:c),Ry(a,u,c)}),r?r(a):a}function Ry(n,e,t,r){ya(n,e,{value:t,enumerable:!0,writable:!1})}var Yi=wa(V1),u9="[object Error]";function Rt(n,e){var t=$w,r=Gw[W_][ir](n);r===u9&&(n={stack:Yi(n.stack),message:Yi(n.message),name:Yi(n.name)});try{t=JSON.stringify(n,Gn,e?typeof e=="number"?e:4:ii),t=(t?t.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):Gn)||Yi(n)}catch(i){t=" - "+Rt(i,e)}return r+": "+t}function Si(n){throw new Error(n)}function Hi(n){throw new TypeError(n)}var eL=kr(zi,"freeze");function d9(n){return n}function h9(n){return n[aA]||Gn}var IM=kr(zi,"assign"),da=kr(zi,"keys");function Wd(n){return eL&&en(n,function(e,t){(vt(t)||md(t))&&Wd(t)}),jc(n)}var jc=wa(eL,d9),sA=wa(kr(zi,"getPrototypeOf"),h9);function f9(n){return J1(n,1,0,jc)}function p9(n){return J1(n,0,0,jc)}function g9(n){var e={};return en(n,function(t,r){Ry(e,t,r[1]),Ry(e,r[0],r[1])}),jc(e)}function m9(n){return g9(n)}var tL=p9({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),OM="__tsUtils$gblCfg",gS;function nL(){var n;return typeof globalThis!==gc&&(n=globalThis),!n&&typeof self!==gc&&(n=self),!n&&typeof window!==gc&&(n=window),!n&&typeof global!==gc&&(n=global),n}function rL(){if(!gS){var n=or(nL).v||{};gS=n[OM]=n[OM]||{}}return gS}var J_=Og;function Og(n,e,t){var r=e?e[n]:Gn;return function(i){var a=(i?i[n]:Gn)||r;if(a||t){var c=arguments;return(a||t).apply(i,a?ma[ir](c,1):c)}Hi('"'+Yi(n)+'" not defined for '+Rt(i))}}function v9(n){return function(e){return e[n]}}var y9=kr(e9,"max"),NM=J_("slice",vl),vo=J_("substring",vl),bu=Og("substr",vl,_9);function _9(n,e,t){return Yt(n)&&Hi("Invalid "+Rt(n)),t<0?$w:(e=e||0,e<0&&(e=y9(e+n[Oc],0)),Vt(t)?NM(n,e):NM(n,e,e+t))}function Qw(n,e){return vo(n,0,e)}var MM="_urid",mS;function b9(){if(!mS){var n=rL();mS=n.gblSym=n.gblSym||{k:{},s:{}}}return mS}var fv;function Zw(n){var e={description:Yi(n),toString:function(){return jw+"("+n+")"}};return e[JY]=!0,e}function E9(n){var e=b9();if(!Bu(e.k,n)){var t=Zw(n),r=da(e.s).length;t[MM]=function(){return r+"_"+t[W_]()},e.k[n]=t,e.s[t[MM]()]=Yi(n)}return e.k[n]}function C9(n){!fv&&(fv={});var e,t=tL[n];return t&&(e=fv[t]=fv[t]||Zw(jw+"."+t)),e}var xn;function Hs(){xn=rL()}function S9(n){var e={};return!xn&&Hs(),e.b=xn.lzy,ya(e,"v",{configurable:!0,get:function(){var t=n();return xn.lzy||ya(e,"v",{value:t}),e.b=xn.lzy,t}}),e}function Fi(n){return ya({toJSON:function(){return n}},"v",{value:n})}var iL="window",If;function eb(n,e){var t;return function(){return!xn&&Hs(),(!t||xn.lzy)&&(t=Fi(or(n,e).v)),t.v}}function Xd(n){return!xn&&Hs(),(!If||n===!1||xn.lzy)&&(If=Fi(or(nL).v||Gn)),If.v}function Dn(n,e){var t;if(!If||e===!1?t=Xd(e):t=If.v,t&&t[n])return t[n];if(n===iL)try{return window}catch{}return Gn}function oL(){return!!_a()}var _a=eb(Dn,["document"]);function T9(){return!!Fs()}var Fs=eb(Dn,[iL]);function A9(){return!!Lo()}var Lo=eb(Dn,["navigator"]),w9=eb(function(){return!!or(function(){return process&&(process.versions||{}).node}).v}),yd,vS;function tb(){return yd=Fi(or(Dn,[jw]).v),yd}function R9(n){var e=(xn.lzy?0:yd)||tb();return e.v?e.v[n]:ii}function k9(){return!!I9()}function I9(){return!xn&&Hs(),((xn.lzy?0:yd)||tb()).v}function Ww(n,e){var t=tL[n];!xn&&Hs();var r=(xn.lzy?0:yd)||tb();return r.v?r.v[t||n]:C9(n)}function sf(n,e){!xn&&Hs();var t=(xn.lzy?0:yd)||tb();return t.v?t.v(n):Zw(n)}function Xw(n){return!xn&&Hs(),vS=(xn.lzy?0:vS)||Fi(or(R9,["for"]).v),(vS.v||E9)(n)}function cA(n){return!!n&&Jt(n.next)}function aL(n){return!i9(n)&&Jt(n[Ww(3)])}var pv;function Jw(n,e,t){if(n&&(cA(n)||(!pv&&(pv=Fi(Ww(3))),n=n[pv.v]?n[pv.v]():Gn),cA(n))){var r=ii,i=ii;try{for(var a=0;!(i=n.next()).done&&e[ir](t||n,i.value,a,n)!==-1;)a++}catch(c){r={e:c},n.throw&&(i=Gn,n.throw(r))}finally{try{i&&!i.done&&n.return&&n.return(i)}finally{if(r)throw r.e}}}}function Ou(n,e,t){return n.apply(e,t)}function _s(n,e){return!Vt(e)&&n&&(vt(e)?Ou(n.push,n,e):cA(e)||aL(e)?Jw(e,function(t){n.push(t)}):n.push(e)),n}function Ue(n,e,t){if(n)for(var r=n[Oc]>>>0,i=0;i<r&&!(i in n&&e[ir](n,n[i],i,n)===-1);i++);}var Pi=J_("indexOf",Q1);function nb(n,e,t){return((n?n.slice:Gn)||ma).apply(n,ma[ir](arguments,1))}var Ns=wa(kr(zi,"create"),O9);function O9(n){if(!n)return{};var e=typeof n;e!==Ig&&e!==Z_&&Hi("Prototype must be an Object or function: "+Rt(n));function t(){}return t[ua]=n,new t}var yS;function sL(n,e){var t=zi.setPrototypeOf||function(r,i){var a;!yS&&(yS=Fi((a={},a[aA]=[],a instanceof Array))),yS.v?r[aA]=i:en(i,function(c,u){return r[c]=u})};return t(n,e)}function N9(n,e,t){or(ln,[e,wy,{v:n,c:!0,e:!1}]),e=sL(e,t);function r(){this[Ay]=e,or(ln,[this,wy,{v:n,c:!0,e:!1}])}return e[ua]=t===Gn?Ns(t):(r[ua]=t[ua],new r),e}function PM(n,e){e&&(n[wy]=e)}function M9(n,e,t){var r=Error,i=r[ua][wy],a=Error.captureStackTrace;return N9(n,function(){var c=this,u=arguments;try{or(PM,[r,n]);var d=Ou(r,c,ma[ir](u))||c;if(d!==c){var f=sA(c);f!==sA(d)&&sL(d,f)}return a&&a(d,c[Ay]),e&&e(d,u),d}finally{or(PM,[r,i])}},r)}function Ms(){return(Date.now||P9)()}function P9(){return new Date().getTime()}function x9(n){return function(t){return Yt(t)&&Hi("strTrim called ["+Rt(t)+"]"),t&&t.replace&&(t=t.replace(n,$w)),t}}var D9=x9(/^\s+|(?=\s)\s+$/g),Br=Og("trim",vl,D9),_S,bS,ES;function Qi(n){if(!n||typeof n!==Ig)return!1;ES||(ES=T9()?Fs():!0);var e=!1;if(n!==ES){bS||(_S=Function[ua][W_],bS=_S[ir](zi));try{var t=sA(n);e=!t,e||(Mi(t,Ay)&&(t=t[Ay]),e=!!(t&&typeof t===Z_&&_S[ir](t)===bS))}catch{}}return e}function L9(n){return n.value&&lL(n),!0}var xM=[F9,lL,K9,B9];function U9(n,e,t,r){var i;return Ue(n,function(a){if(a.k===e)return i=a,-1}),i||(i={k:e,v:e},n.push(i),r(i)),i.v}function e0(n,e,t,r){var i=t.handler,a=t.path?r?t.path.concat(r):t.path:[],c={handler:t.handler,src:t.src,path:a},u=typeof e,d=!1,f=e===Gn;f||(e&&u===Ig?d=Qi(e):f=o9(u));var p={type:u,isPrim:f,isPlain:d,value:e,result:e,path:a,origin:t.src,copy:function(g,v){return e0(n,g,v?c:t,v)},copyTo:function(g,v){return cL(n,g,v,c)}};return p.isPrim?i&&i[ir](t,p)?p.result:e:U9(n,e,a,function(g){ln(p,"result",{g:function(){return g.v},s:function(b){g.v=b}});for(var v=0,y=i;!(y||(v<xM.length?xM[v++]:L9))[ir](t,p);)y=Gn})}function cL(n,e,t,r){if(!Yt(t))for(var i in t)e[i]=e0(n,t[i],r,i);return e}function z9(n,e,t){var r={handler:t,src:e,path:[]};return cL([],n,e,r)}function H9(n,e){var t={handler:e,src:n};return e0([],n,t)}function F9(n){var e=n.value;if(vt(e)){var t=n.result=[];return t.length=e.length,n.copyTo(t,e),!0}return!1}function B9(n){var e=n.value;return a9(e)?(n.result=new Date(e.getTime()),!0):!1}function K9(n){return n.type===Z_}function lL(n){var e=n.value;if(e&&n.isPlain){var t=n.result={};return n.copyTo(t,e),!0}return!1}function q9(n,e){return Ue(e,function(t){z9(n,t)}),n}function DM(n,e,t,r,i,a,c){return q9(H9(n)||{},ma[ir](arguments))}var $9=v9(Oc),CS;function j9(){return!xn&&Hs(),(!CS||xn.lzy)&&(CS=Fi(or(Dn,["performance"]).v)),CS.v}function G9(){var n=j9();return n&&n.now?n.now():Ms()}var V9=Og("endsWith",vl,Y9);function Y9(n,e,t){ar(n)||Hi("'"+Rt(n)+"' is not a string");var r=ar(e)?e:Yi(e),i=!Vt(t)&&t<n[Oc]?t:n[Oc];return vo(n,i-r[Oc],i)===r}var rb=J_("indexOf",vl),LM=Og("startsWith",vl,Q9);function Q9(n,e,t){ar(n)||Hi("'"+Rt(n)+"' is not a string");var r=ar(e)?e:Yi(e),i=t>0?t:0;return vo(n,i,i+r[Oc])===r}var SS="ref",TS="unref",AS="hasRef",Z9="enabled";function W9(n,e,t){var r=!0,i=n?e(Gn):Gn,a;function c(){return r=!1,i&&i[TS]&&i[TS](),a}function u(){i&&t(i),i=Gn}function d(){return i=e(i),r||c(),a}function f(p){!p&&i&&u(),p&&!i&&d()}return a={cancel:u,refresh:d},a[AS]=function(){return i&&i[AS]?i[AS]():r},a[SS]=function(){return r=!0,i&&i[SS]&&i[SS](),a},a[TS]=c,a=ya(a,Z9,{get:function(){return!!i},set:f}),{h:a,dn:function(){i=Gn}}}function t0(n,e,t){var r=vt(e),i=r?e.length:0,a=(i>0?e[0]:r?ii:e)||setTimeout,c=(i>1?e[1]:ii)||clearTimeout,u=t[0];t[0]=function(){d.dn(),Ou(u,ii,ma[ir](arguments))};var d=W9(n,function(f){if(f){if(f.refresh)return f.refresh(),f;Ou(c,ii,[f])}return Ou(a,ii,t)},function(f){Ou(c,ii,[f])});return d.h}function Gc(n,e){return t0(!0,ii,ma[ir](arguments))}function X9(n,e,t){return t0(!0,n,ma[ir](arguments,1))}function J9(n,e){return t0(!1,ii,ma[ir](arguments))}(Xd()||{}).Symbol;(Xd()||{}).Reflect;var eQ="hasOwnProperty",lA=function(n,e){return lA=qw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r[eQ](i)&&(t[i]=r[i])},lA(n,e)};function Ng(n,e){typeof e!==WY&&e!==null&&Hi("Class extends value "+String(e)+" is not a constructor or null"),lA(n,e);function t(){this.constructor=n}n[kf]=e===null?Ns(e):(t[kf]=e[kf],new t)}function UM(n,e){for(var t=0,r=e.length,i=n.length;t<r;t++,i++)n[i]=e[t];return n}var gv,ky="constructor",ba="prototype",Iy="function",Oy="_dynInstFuncs",uA="_isDynProxy",Ku="_dynClass",tQ="_dynCls$",dA="_dynInstChk",Qf=dA,uL="_dfOpts",zM="_unknown_",n0="__proto__",mv="_dyn"+n0,HM="__dynProto$Gbl",wS="_dynInstProto",Vv="useBaseInst",hA="setInstFuncs",r0=Object,Zf=r0.getPrototypeOf,FM=r0.getOwnPropertyNames,BM=Xd(),fA=BM[HM]||(BM[HM]={o:(gv={},gv[hA]=!0,gv[Vv]=!0,gv),n:1e3});function Yv(n){return n&&(n===r0[ba]||n===Array[ba])}function i0(n){return Yv(n)||n===Function[ba]}function Vc(n){var e;if(n){if(Zf)return Zf(n);var t=n[n0]||n[ba]||(n[ky]?n[ky][ba]:null);e=n[mv]||t,Mi(n,mv)||(delete n[wS],e=n[mv]=n[wS]||n[mv],n[wS]=t)}return e}function Ny(n,e){var t=[];if(FM)t=FM(n);else for(var r in n)typeof r=="string"&&Mi(n,r)&&t.push(r);if(t&&t.length>0)for(var i=0;i<t.length;i++)e(t[i])}function o0(n,e,t){return e!==ky&&typeof n[e]===Iy&&(t||Mi(n,e))&&e!==n0&&e!==ba}function My(n){Hi("DynamicProto: "+n)}function nQ(n){var e=Ns(null);return Ny(n,function(t){!e[t]&&o0(n,t,!1)&&(e[t]=n[t])}),e}function a0(n,e){for(var t=n.length-1;t>=0;t--)if(n[t]===e)return!0;return!1}function rQ(n,e,t,r){function i(d,f,p){var g=f[p];if(g[uA]&&r){var v=d[Oy]||{};v[Qf]!==!1&&(g=(v[f[Ku]]||{})[p]||g)}return function(){return g.apply(d,arguments)}}var a=Ns(null);Ny(t,function(d){a[d]=i(e,t,d)});for(var c=Vc(n),u=[];c&&!i0(c)&&!a0(u,c);)Ny(c,function(d){!a[d]&&o0(c,d,!Zf)&&(a[d]=i(e,c,d))}),u.push(c),c=Vc(c);return a}function iQ(n,e,t,r){var i=null;if(n&&Mi(t,Ku)){var a=n[Oy]||Ns(null);if(i=(a[t[Ku]]||Ns(null))[e],i||My("Missing ["+e+"] "+Iy),!i[dA]&&a[Qf]!==!1){for(var c=!Mi(n,e),u=Vc(n),d=[];c&&u&&!i0(u)&&!a0(d,u);){var f=u[e];if(f){c=f===r;break}d.push(u),u=Vc(u)}try{c&&(n[e]=i),i[dA]=1}catch{a[Qf]=!1}}}return i}function oQ(n,e,t){var r=e[n];return r===t&&(r=Vc(e)[n]),typeof r!==Iy&&My("["+n+"] is not a "+Iy),r}function aQ(n,e,t,r,i){function a(d,f){var p=function(){var g=iQ(this,f,d,p)||oQ(f,d,p);return g.apply(this,arguments)};return p[uA]=1,p}if(!Yv(n)){var c=t[Oy]=t[Oy]||Ns(null);if(!Yv(c)){var u=c[e]=c[e]||Ns(null);c[Qf]!==!1&&(c[Qf]=!!i),Yv(u)||Ny(t,function(d){o0(t,d,!1)&&t[d]!==r[d]&&(u[d]=t[d],delete t[d],(!Mi(n,d)||n[d]&&!n[d][uA])&&(n[d]=a(n,d)))})}}}function sQ(n,e){if(Zf){for(var t=[],r=Vc(e);r&&!i0(r)&&!a0(t,r);){if(r===n)return!0;t.push(r),r=Vc(r)}return!1}return!0}function RS(n,e){return Mi(n,ba)?n.name||e||zM:((n||{})[ky]||{}).name||e||zM}function an(n,e,t,r){Mi(n,ba)||My("theClass is an invalid class definition.");var i=n[ba];sQ(i,e)||My("["+RS(n)+"] not in hierarchy of ["+RS(e)+"]");var a=null;Mi(i,Ku)?a=i[Ku]:(a=tQ+RS(n,"_")+"$"+fA.n,fA.n++,i[Ku]=a);var c=an[uL],u=!!c[Vv];u&&r&&r[Vv]!==void 0&&(u=!!r[Vv]);var d=nQ(e),f=rQ(i,e,d,u);t(e,f);var p=!!Zf&&!!c[hA];p&&r&&(p=!!r[hA]),aQ(i,a,e,d,p!==!1)}an[uL]=fA.o;var cQ=100,yl=f9,$r=m9,ns=yl({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),lu=yl({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),s0="toLowerCase",Py="blkVal",tt="length",xy="rdOnly",Dy="notify",Ly="warnToConsole",Mg="throwInternal",Jd="setDf",ws="watch",Rn="logger",ib="apply",Pt="push",Pg="splice",dL="hdlr",Nu="cancel",xg="initialize",os="identifier",Uy="removeNotificationListener",zy="addNotificationListener",To="isInitialized",KM="instrumentationKey",kS="INACTIVE",Of="value",vv="getNotifyMgr",Wf="getPlugin",Nc="name",cf="iKey",qu="time",Ar="processNext",hL="getProcessTelContext",qM="pollInternalLogs",Mu="enabled",$M="stopPollingInternalLogs",Ps="unload",yv="onComplete",jM="version",fL="loggingLevelConsole",Yc="createNew",ra="teardown",Hy="messageId",Mc="message",_d="isAsync",ha="diagLog",Fy="_doTeardown",Xf="update",Ro="getNext",Jf="setNextPlugin",pL="protocol",pA="userAgent",ob="split",IS="nodeType",Pc="replace",lQ="logInternalMessage",fa="type",c0="handler",yf="status",GM="getResponseHeader",VM="getAllResponseHeaders",gA="isChildEvt",Eu="data",$u="getCtx",lo="setCtx",mA="complete",lf="urlString",YM="sendPOST",OS="headers",uu="timeout",QM="setRequestHeader",ZM="traceId",WM="spanId",XM="traceFlags",NS;function uQ(n,e){NS||(NS=M9("AggregationError",function(r,i){i[tt]>1&&(r.errors=i[1])}));var t=n;throw Ue(e,function(r,i){t+=`
`.concat(i," > ").concat(Rt(r))}),new NS(t,e||[])}/*!
 * NevWare21 Solutions LLC - ts-async, 0.5.2
 * https://github.com/nevware21/ts-async
 * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
 * Licensed under the MIT license.
 */var By="Promise",l0="rejected";function bd(n,e){return gL(n,function(t){return e?e({status:"fulfilled",rejected:!1,value:t}):t},function(t){return e?e({status:l0,rejected:!0,reason:t}):t})}function gL(n,e,t,r){var i=n;try{if(vd(n))(e||t)&&(i=n.then(e,t));else try{e&&(i=e(n))}catch(a){if(t)i=t(a);else throw a}}finally{}return i}var mL=["pending","resolving","resolved",l0],JM="dispatchEvent",_v;function dQ(n){var e;return n&&n.createEvent&&(e=n.createEvent("Event")),!!e&&e.initEvent}function hQ(n,e,t,r){var i=_a();!_v&&(_v=Fi(!!or(dQ,[i]).v));var a=_v.v?i.createEvent("Event"):r?new Event(e):{};if(t&&t(a),_v.v&&a.initEvent(e,!1,!0),a&&n[JM])n[JM](a);else{var c=n["on"+e];if(c)c(a);else{var u=Dn("console");u&&(u.error||u.log)(e,Rt(a))}}}var vL="unhandledRejection",fQ=vL.toLowerCase(),eP=[],pQ=0,gQ=10,MS;function tP(n){return Jt(n)?n.toString():Rt(n)}function yL(n,e,t){var r=nb(arguments,3),i=0,a=!1,c,u=[],d=pQ++,f=!1,p=null,g;function v(k,O){try{eP.push(d),f=!0,p&&p.cancel(),p=null;var D=n(function(M,N){u.push(function(){try{var K=i===2?k:O,F=Vt(K)?c:Jt(K)?K(c):K;vd(F)?F.then(M,N):K?M(F):i===3?N(F):M(F)}catch(oe){N(oe)}}),a&&E()},r);return D}finally{eP.pop()}}function y(k){return v(void 0,k)}function b(k){var O=k,D=k;return Jt(k)&&(O=function(M){return k&&k(),M},D=function(M){throw k&&k(),M}),v(O,D)}function C(){return mL[i]}function E(){if(u.length>0){var k=u.slice();u=[],f=!0,p&&p.cancel(),p=null,e(k)}}function S(k,O){return function(D){if(i===O){if(k===2&&vd(D)){i=1,D.then(S(2,1),S(3,1));return}i=k,a=!0,c=D,E(),!f&&k===3&&!p&&(p=Gc(w,gQ))}}}function w(){if(!f)if(f=!0,w9())process.emit(vL,c,g);else{var k=Fs()||Xd();!MS&&(MS=Fi(or(Dn,[By+"RejectionEvent"]).v)),hQ(k,fQ,function(O){return ln(O,"promise",{g:function(){return g}}),O.reason=c,O},!!MS.v)}}g={then:v,catch:y,finally:b},ya(g,"state",{get:C}),k9()&&(g[Ww(11)]="IPromise");function A(){return"IPromise "+C()+(a?" - "+tP(c):"")}return g.toString=A,function(){Jt(t)||Hi(By+": executor is not a function - "+tP(t));var O=S(3,0);try{t.call(g,S(2,0),O)}catch(D){O(D)}}(),g}function mQ(n){return function(e){var t=nb(arguments,1);return n(function(r,i){try{var a=[],c=1;Jw(e,function(u,d){u&&(c++,gL(u,function(f){a[d]=f,--c===0&&r(a)},i))}),c--,c===0&&r(a)}catch(u){i(u)}},t)}}function vQ(n){return Fi(function(e){var t=nb(arguments,1);return n(function(r,i){var a=[],c=1;function u(d,f){c++,bd(d,function(p){p.rejected?a[f]={status:l0,reason:p.reason}:a[f]={status:"fulfilled",value:p.value},--c===0&&r(a)})}try{vt(e)?Ue(e,u):aL(e)?Jw(e,u):Hi("Input is not an iterable"),c--,c===0&&r(a)}catch(d){i(d)}},t)})}function _L(n){Ue(n,function(e){try{e()}catch{}})}function yQ(n){var e=va(n)?n:0;return function(t){Gc(function(){_L(t)},e)}}function bL(n,e){return yL(bL,yQ(e),n,e)}var PS;function _Q(n,e){!PS&&(PS=Fi(or(Dn,[By]).v||null));var t=PS.v;if(!t)return bL(n);Jt(n)||Hi(By+": executor is not a function - "+Rt(n));var r=0;function i(){return mL[r]}var a=new t(function(c,u){function d(p){r=2,c(p)}function f(p){r=3,u(p)}n(d,f)});return ya(a,"state",{get:i}),a}var xS;function EL(n){return yL(EL,_L,n)}function bQ(n,e){return!xS&&(xS=vQ(EL)),xS.v(n,e)}var DS;function Qc(n,e){return!DS&&(DS=Fi(_Q)),DS.v.call(this,n,e)}var EQ=mQ(Qc),mo=void 0,At="",fc="channels",qn="core",vA="createPerfMgr",yA="disabled",ju="extensionConfig",Cu="extensions",xo="processTelemetry",Ky="priority",Qv="eventsSent",Nf="eventsDiscarded",Zv="eventsSendRequest",mc="perfEvent",LS="offlineEventsStored",US="offlineBatchSent",zS="offlineBatchDrop",qy="getPerfMgr",_A="domain",HS="path",CQ="Not dynamic - ",SQ=/-([a-z])/g,TQ=/([^\w\d_$])/g,AQ=/^(\d+[\w\d_$])/;function $y(n){return!Yt(n)}function bA(n){var e=n;return e&&ar(e)&&(e=e[Pc](SQ,function(t,r){return r.toUpperCase()}),e=e[Pc](TQ,"_"),e=e[Pc](AQ,function(t,r){return"_"+r})),e}function Dr(n,e){return n&&e?rb(n,e)!==-1:!1}function jy(n){return n&&n.toISOString()||""}function CL(n){return s9(n)?n[Nc]:At}function du(n,e,t,r,i){var a=t;return n&&(a=n[e],a!==t&&(!i||i(a))&&(!r||r(t))&&(a=t,n[e]=a)),a}function wQ(n,e,t){var r;return n?(r=n[e],!r&&Yt(r)&&(r=Vt(t)?{}:t,n[e]=r)):r=Vt(t)?{}:t,r}function RQ(n,e){var t=null,r=null;return Jt(n)?t=n:r=n,function(){var i=arguments;if(t&&(r=t()),r)return r[e][ib](r,i)}}function Gy(n,e,t,r,i){n&&e&&t&&(n[e]=RQ(t,r))}function SL(n,e,t,r){return n&&e&&md(n)&&vt(t)&&Ue(t,function(i){ar(i)&&Gy(n,i,e,i)}),n}function Su(n){return n&&IM&&(n=qw(IM({},n))),n}function Ed(n){try{return n.responseText}catch{}return null}function kQ(n,e){return n?"XDomainRequest,Response:"+Ed(n)||"":e}function nP(n,e){return n?"XMLHttpRequest,Status:"+n[yf]+",Response:"+Ed(n)||n.response||"":e}function rP(n,e){return e&&(va(e)?n=[e].concat(n):vt(e)&&(n=e.concat(n))),n}var IQ="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",iP="withCredentials",OQ="timeout";function NQ(n,e,t,r,i,a){i===void 0&&(i=!1);function c(d,f,p){try{d[f]=p}catch{}}var u=new XMLHttpRequest;return c(u,IQ,r),t&&c(u,iP,t),u.open(n,e,!i),t&&c(u,iP,t),!i&&a&&c(u,OQ,a),u}function MQ(n){var e={};if(ar(n)){var t=Br(n)[ob](/[\r\n]+/);Ue(t,function(r){if(r){var i=r.indexOf(": ");if(i!==-1){var a=Br(r.substring(0,i))[s0](),c=Br(r.substring(i+1));e[a]=c}else e[Br(r)]=1}})}return e}function FS(n,e,t){if(!n[t]&&e&&e[GM]){var r=e[GM](t);r&&(n[t]=Br(r))}return n}var PQ="kill-duration",xQ="kill-duration-seconds",DQ="time-delta-millis";function Wv(n,e){var t={};return n[VM]?t=MQ(n[VM]()):e&&(t=FS(t,n,DQ),t=FS(t,n,PQ),t=FS(t,n,xQ)),t}var LQ="location",UQ="console",TL="JSON",zQ="crypto",HQ="msCrypto",FQ="ReactNative",BQ="msie",KQ="trident/",AL="XMLHttpRequest",BS=null,KS=null,hu=null,qS=null;function wL(n,e){var t=!1;if(n){try{if(t=e in n,!t){var r=n[kf];r&&(t=e in r)}}catch{}if(!t)try{var i=new n;t=!Vt(i[e])}catch{}}return t}function ab(n){return typeof location===Bw&&location?location:Dn(LQ)}function qQ(){return typeof console!==Kw?console:Dn(UQ)}function RL(){return!!(typeof JSON===Bw&&JSON||Dn(TL)!==null)}function $Q(){return RL()?JSON||Dn(TL):null}function jQ(){return Dn(zQ)}function GQ(){return Dn(HQ)}function Vy(){var n=Lo();return n&&n.product?n.product===FQ:!1}function EA(){var n=Lo();if(n&&(n[pA]!==KS||BS===null)){KS=n[pA];var e=(KS||At)[s0]();BS=Dr(e,BQ)||Dr(e,KQ)}return BS}function u0(n){return(qS===null||n===!1)&&(qS=A9()&&!!Lo().sendBeacon),qS}function kL(n){var e=!1;try{e=!!Dn("fetch");var t=Dn("Request");e&&n&&t&&(e=wL(t,"keepalive"))}catch{}return e}function VQ(){return hu===null&&(hu=typeof XDomainRequest!==Kw,hu&&IL()&&(hu=hu&&!wL(Dn(AL),"withCredentials"))),hu}function IL(){var n=!1;try{var e=Dn(AL);n=!!e}catch{}return n}var OL=4294967296,xc=4294967295,NL=123456789,ML=987654321,PL=!1,_f=NL,bf=ML;function YQ(n){n<0&&(n>>>=0),_f=NL+n&xc,bf=ML-n&xc,PL=!0}function QQ(){try{var n=Ms()&2147483647;YQ((Math.random()*OL^n)+n)}catch{}}function ep(n){var e=0,t=jQ()||GQ();return t&&t.getRandomValues&&(e=t.getRandomValues(new Uint32Array(1))[0]&xc),e===0&&EA()&&(PL||QQ(),e=ZQ()&xc),e===0&&(e=Math.floor(OL*Math.random()|0)),n||(e>>>=0),e}function ZQ(n){bf=36969*(bf&65535)+(bf>>16)&xc,_f=18e3*(_f&65535)+(_f>>16)&xc;var e=(bf<<16)+(_f&65535)>>>0&xc|0;return e>>>=0,e}function d0(n){n===void 0&&(n=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=ep()>>>0,r=0,i=At;i[tt]<n;)r++,i+=e.charAt(t&63),t>>>=6,r===5&&(t=(ep()<<2&4294967295|t&3)>>>0,r=0);return i}var xL="3.3.3",WQ="."+d0(6),XQ=0;function DL(n){return n[IS]===1||n[IS]===9||!+n[IS]}function JQ(n,e){var t=e[n.id];if(!t){t={};try{DL(e)&&ln(e,n.id,{e:!1,v:t})}catch{}}return t}function eh(n,e){return e===void 0&&(e=!1),bA(n+XQ+++(e?"."+xL:At)+WQ)}function LL(n){var e={id:eh("_aiData-"+(n||At)+"."+xL),accept:function(t){return DL(t)},get:function(t,r,i,a){var c=t[e.id];return c?c[bA(r)]:(a&&(c=JQ(e,t),c[bA(r)]=i),i)},kill:function(t,r){if(t&&t[r])try{delete t[r]}catch{}}};return e}function Xv(n){return n&&md(n)&&(n.isVal||n.fb||Bu(n,"v")||Bu(n,"mrg")||Bu(n,"ref")||n.set)}function UL(n,e,t){var r,i=t.dfVal||Vw;if(e&&t.fb){var a=t.fb;vt(a)||(a=[a]);for(var c=0;c<a[tt];c++){var u=a[c],d=e[u];if(i(d)?r=d:n&&(d=n.cfg[u],i(d)&&(r=d),n.set(n.cfg,Yi(u),d)),i(r))break}}return!i(r)&&i(t.v)&&(r=t.v),r}function CA(n,e,t){var r=t;if(t&&Xv(t)&&(r=UL(n,e,t)),r){Xv(r)&&(r=CA(n,e,r));var i;vt(r)?(i=[],i[tt]=r[tt]):Qi(r)&&(i={}),i&&(en(r,function(a,c){c&&Xv(c)&&(c=CA(n,e,c)),i[a]=c}),r=i)}return r}function h0(n,e,t,r){var i,a,c,u=r,d,f,p,g;Xv(u)?(i=u.isVal,a=u.set,p=u[xy],g=u[Py],d=u.mrg,f=u.ref,!f&&Vt(f)&&(f=!!d),c=UL(n,e,u)):c=r,g&&n[Py](e,t);var v,y=!0,b=e[t];(b||!Yt(b))&&(v=b,y=!1,i&&v!==c&&!i(v)&&(v=c,y=!0),a&&(v=a(v,c,e),y=v===c)),y?c?v=CA(n,e,c):v=c:(Qi(v)||vt(c))&&d&&c&&(Qi(c)||vt(c))&&en(c,function(C,E){h0(n,v,C,E)}),n.set(e,t,v),f&&n.ref(e,t),p&&n[xy](e,t)}var xs=Xw("[[ai_dynCfg_1]]"),zL=Xw("[[ai_blkDynCfg_1]]"),eZ=Xw("[[ai_frcDynCfg_1]]");function HL(n){if(n){var e;if(vt(n)?(e=[],e[tt]=n[tt]):Qi(n)&&(e={}),e)return en(n,function(t,r){e[t]=HL(r)}),e}return n}function tZ(n){if(n){var e=n[xs]||n;if(e.cfg&&(e.cfg===n||e.cfg[xs]===e))return e}return null}function nZ(n){if(n&&(Qi(n)||vt(n)))try{n[zL]=!0}catch{}return n}function $S(n,e,t){var r=!1;return t&&!n[e.blkVal]&&(r=t[eZ],!r&&!t[zL]&&(r=Qi(t)||vt(t))),r}function FL(n){Hi("InvalidAccess:"+n)}var rZ=["push","pop","shift","unshift","splice"],tp=function(n,e,t,r){n&&n[Mg](3,108,"".concat(t," [").concat(e,"] failed - ")+Rt(r))};function iZ(n,e,t){vt(e)&&Ue(rZ,function(r){var i=e[r];e[r]=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var u=i[ib](this,a);return Qy(n,e,t,"Patching"),u}})}function Yy(n,e){var t=Yw(n,e);return t&&t.get}function oZ(n,e,t,r){var i={n:t,h:[],trk:function(f){f&&f.fn&&(Pi(i.h,f)===-1&&i.h[Pt](f),n.trk(f,i))},clr:function(f){var p=Pi(i.h,f);p!==-1&&i.h[Pg](p,1)}},a=!0,c=!1;function u(){a&&(c=c||$S(u,n,r),r&&!r[xs]&&c&&(r=Qy(n,r,t,"Converting")),a=!1);var f=n.act;return f&&i.trk(f),r}u[n.prop]={chng:function(){n.add(i)}};function d(f){if(r!==f){u[n.ro]&&!n.upd&&FL("["+t+"] is read-only:"+Rt(e)),a&&(c=c||$S(u,n,r),a=!1);var p=c&&u[n.rf];if(c)if(p){en(r,function(v){r[v]=f?f[v]:mo});try{en(f,function(v,y){sb(n,r,v,y)}),f=r}catch(v){tp((n.hdlr||{})[Rn],t,"Assigning",v),c=!1}}else r&&r[xs]&&en(r,function(v){var y=Yy(r,v);if(y){var b=y[n.prop];b&&b.chng()}});if(f!==r){var g=f&&$S(u,n,f);!p&&g&&(f=Qy(n,f,t,"Converting")),r=f,c=g}n.add(i)}}ln(e,i.n,{g:u,s:d})}function sb(n,e,t,r){if(e){var i=Yy(e,t),a=i&&!!i[n.prop];a?e[t]=r:oZ(n,e,t,r)}return e}function jS(n,e,t,r){if(e){var i=Yy(e,t),a=i&&!!i[n.prop],c=r&&r[0],u=r&&r[1],d=r&&r[2];if(!a){if(d)try{nZ(e)}catch(f){tp((n.hdlr||{})[Rn],t,"Blocking",f)}try{sb(n,e,t,e[t]),i=Yy(e,t)}catch(f){tp((n.hdlr||{})[Rn],t,"State",f)}}c&&(i[n.rf]=c),u&&(i[n.ro]=u),d&&(i[n.blkVal]=!0)}return e}function Qy(n,e,t,r){try{en(e,function(i,a){sb(n,e,i,a)}),e[xs]||(ya(e,xs,{get:function(){return n[dL]}}),iZ(n,e,t))}catch(i){tp((n.hdlr||{})[Rn],t,r,i)}return e}var uf="[[ai_",df="]]";function aZ(n){var e,t=sf(uf+"get"+n.uid+df),r=sf(uf+"ro"+n.uid+df),i=sf(uf+"rf"+n.uid+df),a=sf(uf+"blkVal"+n.uid+df),c=sf(uf+"dtl"+n.uid+df),u=null,d=null,f;function p(b,C){var E=f.act;try{f.act=b,b&&b[c]&&(Ue(b[c],function(w){w.clr(b)}),b[c]=[]),C({cfg:n.cfg,set:n.set.bind(n),setDf:n[Jd].bind(n),ref:n.ref.bind(n),rdOnly:n[xy].bind(n)})}catch(w){var S=n[Rn];throw S&&S[Mg](1,107,Rt(w)),w}finally{f.act=E||null}}function g(){if(u){var b=u;u=null,d&&d[Nu](),d=null;var C=[];if(Ue(b,function(E){if(E&&(E[c]&&(Ue(E[c],function(S){S.clr(E)}),E[c]=null),E.fn))try{p(E,E.fn)}catch(S){C[Pt](S)}}),u)try{g()}catch(E){C[Pt](E)}C[tt]>0&&uQ("Watcher error(s): ",C)}}function v(b){if(b&&b.h[tt]>0){u||(u=[]),d||(d=Gc(function(){d=null,g()},0));for(var C=0;C<b.h[tt];C++){var E=b.h[C];E&&Pi(u,E)===-1&&u[Pt](E)}}}function y(b,C){if(b){var E=b[c]=b[c]||[];Pi(E,C)===-1&&E[Pt](C)}}return f=(e={prop:t,ro:r,rf:i},e[Py]=a,e[dL]=n,e.add=v,e[Dy]=g,e.use=p,e.trk=y,e),f}function sZ(n,e){var t={fn:e,rm:function(){t.fn=null,n=null,e=null}};return ln(t,"toJSON",{v:function(){return"WatcherHandler"+(t.fn?"":"[X]")}}),n.use(t,e),t}function cZ(n,e,t){var r,i=tZ(e);if(i)return i;var a=eh("dyncfg",!0),c=e&&t!==!1?e:HL(e),u;function d(){u[Dy]()}function f(S,w,A){try{S=sb(u,S,w,A)}catch(k){tp(n,w,"Setting value",k)}return S[w]}function p(S){return sZ(u,S)}function g(S,w){u.use(null,function(A){var k=u.upd;try{Vt(w)||(u.upd=w),S(A)}finally{u.upd=k}})}function v(S,w){var A;return jS(u,S,w,(A={},A[0]=!0,A))[w]}function y(S,w){var A;return jS(u,S,w,(A={},A[1]=!0,A))[w]}function b(S,w){var A;return jS(u,S,w,(A={},A[2]=!0,A))[w]}function C(S,w){return w&&en(w,function(A,k){h0(E,S,A,k)}),S}var E=(r={uid:null,cfg:c},r[Rn]=n,r[Dy]=d,r.set=f,r[Jd]=C,r[ws]=p,r.ref=v,r[xy]=y,r[Py]=b,r._block=g,r);return ln(E,"uid",{c:!1,e:!1,w:!1,v:a}),u=aZ(E),Qy(u,c,"config","Creating"),E}function lZ(n,e){n?(n[Ly](e),n[Mg](2,108,e)):FL(e)}function ui(n,e,t,r){var i=cZ(t,n||{},r);return e&&i[Jd](i.cfg,e),i}function vr(n,e,t){var r=n[xs]||n;return r.cfg&&(r.cfg===n||r.cfg[xs]===r)?r[ws](e):(lZ(t,CQ+Rt(n)),ui(n,null,t)[ws](e))}function Ef(n,e){if(n&&n[Ps])return n[Ps](e)}function BL(n,e,t){var r;return t||(r=Qc(function(i){t=i})),n&&$9(n)>0?bd(Ef(n[0],e),function(){BL(nb(n,1),e,t)}):t(),r}var uZ=500,oP="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function SA(n){return{mrg:!0,v:n}}function ac(n){return{isVal:ar,v:Yi(At)}}var GS=[Qv,Nf,Zv,mc],Zy=null,bv;function dZ(n,e){return function(){var t=arguments,r=KL(e);if(r){var i=r.listener;i&&i[n]&&i[n][ib](i,t)}}}function hZ(){var n=Dn("Microsoft");return n&&(Zy=n.ApplicationInsights),Zy}function KL(n){var e=Zy;return!e&&n.disableDbgExt!==!0&&(e=Zy||hZ()),e?e.ChromeDbgExt:null}function fZ(n){if(!bv){bv={};for(var e=0;e<GS[tt];e++)bv[GS[e]]=dZ(GS[e],n)}return bv}var fu,qL="warnToConsole",pZ="AI (Internal): ",gZ="AI: ",mZ="AITR_",vZ={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},yZ=(fu={},fu[0]=null,fu[1]="errorToConsole",fu[2]=qL,fu[3]="debugToConsole",fu);function aP(n){return n?'"'+n[Pc](/\"/g,At)+'"':At}function VS(n,e){var t=qQ();if(t){var r="log";t[n]&&(r=n),Jt(t[r])&&t[r](e)}}var Wy=function(){function n(e,t,r,i){r===void 0&&(r=!1);var a=this;a[Hy]=e,a[Mc]=(r?gZ:pZ)+e;var c=At;RL()&&(c=$Q().stringify(i));var u=(t?" message:"+aP(t):At)+(i?" props:"+aP(c):At);a[Mc]+=u}return n.dataType="MessageData",n}();function f0(n,e){return(n||{})[Rn]||new np(e)}var np=function(){function n(e){this.identifier="DiagnosticLogger",this.queue=[];var t=0,r={},i,a,c,u,d;an(n,this,function(f){d=g(e||{}),f.consoleLoggingLevel=function(){return i},f[Mg]=function(b,C,E,S,w){w===void 0&&(w=!1);var A=new Wy(C,E,w,S);if(u)throw Rt(A);var k=yZ[b]||qL;if(Vt(A[Mc]))y("throw"+(b===1?"Critical":"Warning"),A);else{if(w){var O=+A[Hy];!r[O]&&i>=b&&(f[k](A[Mc]),r[O]=!0)}else i>=b&&f[k](A[Mc]);p(b,A)}},f.debugToConsole=function(b){VS("debug",b),y("warning",b)},f[Ly]=function(b){VS("warn",b),y("warning",b)},f.errorToConsole=function(b){VS("error",b),y("error",b)},f.resetInternalMessageCount=function(){t=0,r={}},f[lQ]=p,f[Ps]=function(b){d&&d.rm(),d=null};function p(b,C){if(!v()){var E=!0,S=mZ+C[Hy];if(r[S]?E=!1:r[S]=!0,E&&(b<=a&&(f.queue[Pt](C),t++,y(b===1?"error":"warn",C)),t===c)){var w="Internal events throttle limit per PageView reached for this app.",A=new Wy(23,w,!1);f.queue[Pt](A),b===1?f.errorToConsole(w):f[Ly](w)}}}function g(b){return vr(ui(b,vZ,f).cfg,function(C){var E=C.cfg;i=E[fL],a=E.loggingLevelTelemetry,c=E.maxMessageLimit,u=E.enableDebug})}function v(){return t>=c}function y(b,C){var E=KL(e||{});E&&E[ha]&&E[ha](b,C)}})}return n.__ieDyn=1,n}();function $L(n){return n||new np}function Xt(n,e,t,r,i,a){a===void 0&&(a=!1),$L(n)[Mg](e,t,r,i,a)}function Mf(n,e){$L(n)[Ly](e)}var YS,sc,sP="toGMTString",cP="toUTCString",p0="cookie",QS="expires",lP="isCookieUseDisabled",TA="disableCookiesUsage",Pu="_ckMgr",Ev=null,ZS=null,uP=null,ko,dP={},Xy={},_Z=(YS={cookieCfg:SA((sc={},sc[_A]={fb:"cookieDomain",dfVal:$y},sc.path={fb:"cookiePath",dfVal:$y},sc.enabled=mo,sc.ignoreCookies=mo,sc.blockedCookies=mo,sc)),cookieDomain:mo,cookiePath:mo},YS[TA]=mo,YS);function g0(){!ko&&(ko=S9(function(){return _a()}))}function bZ(n,e){var t=Jv[Pu]||Xy[Pu];return t||(t=Jv[Pu]=Jv(n,e),Xy[Pu]=t),t}function Cv(n){return n?n.isEnabled():!0}function jL(n,e){return e&&n&&vt(n.ignoreCookies)?Pi(n.ignoreCookies,e)!==-1:!1}function EZ(n,e){return e&&n&&vt(n.blockedCookies)&&Pi(n.blockedCookies,e)!==-1?!0:jL(n,e)}function hP(n,e){var t=e[Mu];if(Yt(t)){var r=void 0;Vt(n[lP])||(r=!n[lP]),Vt(n[TA])||(r=!n[TA]),t=r}return t}function GL(n,e){var t;return n&&(t=n.getCookieMgr()),t||(t=bZ(e,(n||{})[Rn])),t}function Jv(n,e){var t,r,i,a,c,u,d,f,p;n=ui(n||Xy,null,e).cfg,c=vr(n,function(v){v[Jd](v.cfg,_Z),r=v.ref(v.cfg,"cookieCfg"),i=r[HS]||"/",a=r[_A],u=hP(n,r)!==!1,d=r.getCookie||CZ,f=r.setCookie||gP,p=r.delCookie||gP},e);var g=(t={isEnabled:function(){var v=hP(n,r)!==!1&&u&&AA(e),y=Xy[Pu];return v&&y&&g!==y&&(v=Cv(y)),v},setEnabled:function(v){u=v!==!1,r[Mu]=v},set:function(v,y,b,C,E){var S=!1;if(Cv(g)&&!EZ(r,v)){var w={},A=Br(y||At),k=rb(A,";");if(k!==-1&&(A=Br(Qw(y,k)),w=VL(vo(y,k+1))),du(w,_A,C||a,kM,Vt),!Yt(b)){var O=EA();if(Vt(w[QS])){var D=Ms(),M=D+b*1e3;if(M>0){var N=new Date;N.setTime(M),du(w,QS,fP(N,O?sP:cP)||fP(N,O?sP:cP)||At,kM)}}O||du(w,"max-age",At+b,null,Vt)}var K=ab();K&&K[pL]==="https:"&&(du(w,"secure",null,null,Vt),ZS===null&&(ZS=!SZ((Lo()||{})[pA])),ZS&&du(w,"SameSite","None",null,Vt)),du(w,HS,E||i,null,Vt),f(v,pP(A,w)),S=!0}return S},get:function(v){var y=At;return Cv(g)&&!jL(r,v)&&(y=d(v)),y},del:function(v,y){var b=!1;return Cv(g)&&(b=g.purge(v,y)),b},purge:function(v,y){var b,C=!1;if(AA(e)){var E=(b={},b[HS]=y||"/",b[QS]="Thu, 01 Jan 1970 00:00:01 GMT",b);EA()||(E["max-age"]="0"),p(v,pP(At,E)),C=!0}return C}},t[Ps]=function(v){c&&c.rm(),c=null},t);return g[Pu]=g,g}function AA(n){if(Ev===null){Ev=!1,!ko&&g0();try{var e=ko.v||{};Ev=e[p0]!==void 0}catch(t){Xt(n,2,68,"Cannot access document.cookie - "+CL(t),{exception:Rt(t)})}}return Ev}function VL(n){var e={};if(n&&n[tt]){var t=Br(n)[ob](";");Ue(t,function(r){if(r=Br(r||At),r){var i=rb(r,"=");i===-1?e[r]=null:e[Br(Qw(r,i))]=Br(vo(r,i+1))}})}return e}function fP(n,e){return Jt(n[e])?n[e]():null}function pP(n,e){var t=n||At;return en(e,function(r,i){t+="; "+r+(Yt(i)?At:"="+i)}),t}function CZ(n){var e=At;if(!ko&&g0(),ko.v){var t=ko.v[p0]||At;uP!==t&&(dP=VL(t),uP=t),e=Br(dP[n]||At)}return e}function gP(n,e){!ko&&g0(),ko.v&&(ko.v[p0]=n+"="+e)}function SZ(n){return ar(n)?!!(Dr(n,"CPU iPhone OS 12")||Dr(n,"iPad; CPU OS 12")||Dr(n,"Macintosh; Intel Mac OS X 10_14")&&Dr(n,"Version/")&&Dr(n,"Safari")||Dr(n,"Macintosh; Intel Mac OS X 10_14")&&V9(n,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Dr(n,"Chrome/5")||Dr(n,"Chrome/6")||Dr(n,"UnrealEngine")&&!Dr(n,"Chrome")||Dr(n,"UCBrowser/12")||Dr(n,"UCBrowser/11")):!1}var TZ={perfEvtsSendAll:!1};function AZ(n){n.h=null;var e=n.cb;n.cb=[],Ue(e,function(t){or(t.fn,[t.arg])})}function Za(n,e,t,r){Ue(n,function(i){i&&i[e]&&(t?(t.cb[Pt]({fn:r,arg:i}),t.h=t.h||Gc(AZ,0,t)):or(r,[i]))})}var YL=function(){function n(e){this.listeners=[];var t,r,i=[],a={h:null,cb:[]},c=ui(e,TZ);r=c[ws](function(u){t=!!u.cfg.perfEvtsSendAll}),an(n,this,function(u){ln(u,"listeners",{g:function(){return i}}),u[zy]=function(d){i[Pt](d)},u[Uy]=function(d){for(var f=Pi(i,d);f>-1;)i[Pg](f,1),f=Pi(i,d)},u[Qv]=function(d){Za(i,Qv,a,function(f){f[Qv](d)})},u[Nf]=function(d,f){Za(i,Nf,a,function(p){p[Nf](d,f)})},u[Zv]=function(d,f){Za(i,Zv,f?a:null,function(p){p[Zv](d,f)})},u[mc]=function(d){d&&(t||!d[gA]())&&Za(i,mc,null,function(f){d[_d]?Gc(function(){return f[mc](d)},0):f[mc](d)})},u[LS]=function(d){d&&d[tt]&&Za(i,LS,a,function(f){f[LS](d)})},u[US]=function(d){d&&d[Eu]&&Za(i,US,a,function(f){f[US](d)})},u[zS]=function(d,f){if(d>0){var p=f||0;Za(i,zS,a,function(g){g[zS](d,p)})}},u[Ps]=function(d){var f=function(){r&&r.rm(),r=null,i=[],a.h&&a.h[Nu](),a.h=null,a.cb=[]},p;if(Za(i,"unload",null,function(g){var v=g[Ps](d);v&&(p||(p=[]),p[Pt](v))}),p)return Qc(function(g){return bd(EQ(p),function(){f(),g()})});f()}})}return n.__ieDyn=1,n}(),Gu="ctx",wA="ParentContextKey",Pf="ChildrenContextKey",wZ=null,ey=function(){function n(e,t,r){var i=this;if(i.start=Ms(),i[Nc]=e,i[_d]=r,i[gA]=function(){return!1},Jt(t)){var a;ln(i,"payload",{g:function(){return!a&&Jt(t)&&(a=t(),t=null),a}})}i[$u]=function(c){return c?c===n[wA]||c===n[Pf]?i[c]:(i[Gu]||{})[c]:null},i[lo]=function(c,u){if(c)if(c===n[wA])i[c]||(i[gA]=function(){return!0}),i[c]=u;else if(c===n[Pf])i[c]=u;else{var d=i[Gu]=i[Gu]||{};d[c]=u}},i[mA]=function(){var c=0,u=i[$u](n[Pf]);if(vt(u))for(var d=0;d<u[tt];d++){var f=u[d];f&&(c+=f[qu])}i[qu]=Ms()-i.start,i.exTime=i[qu]-c,i[mA]=function(){}}}return n.ParentContextKey="parent",n.ChildrenContextKey="childEvts",n}(),RZ=function(){function n(e){this.ctx={},an(n,this,function(t){t.create=function(r,i,a){return new ey(r,i,a)},t.fire=function(r){r&&(r[mA](),e&&Jt(e[mc])&&e[mc](r))},t[lo]=function(r,i){if(r){var a=t[Gu]=t[Gu]||{};a[r]=i}},t[$u]=function(r){return(t[Gu]||{})[r]}})}return n.__ieDyn=1,n}(),WS="CoreUtils.doPerf";function Fr(n,e,t,r,i){if(n){var a=n;if(a[qy]&&(a=a[qy]()),a){var c=void 0,u=a[$u](WS);try{if(c=a.create(e(),r,i),c){if(u&&c[lo]&&(c[lo](ey[wA],u),u[$u]&&u[lo])){var d=u[$u](ey[Pf]);d||(d=[],u[lo](ey[Pf],d)),d[Pt](c)}return a[lo](WS,c),t(c)}}catch(f){c&&c[lo]&&c[lo]("exception",f)}finally{c&&a.fire(c),a[lo](WS,u)}}}return t()}function kZ(){return wZ}function QL(){var n=RA();return vo(n,0,8)+"-"+vo(n,8,12)+"-"+vo(n,12,16)+"-"+vo(n,16,20)+"-"+vo(n,20)}function RA(){for(var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e=At,t,r=0;r<4;r++)t=ep(),e+=n[t&15]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var i=n[8+(ep()&3)|0];return bu(e,0,8)+bu(e,9,4)+"4"+bu(e,13,3)+i+bu(e,16,3)+bu(e,19,12)}var IZ="00000000000000000000000000000000",OZ="0000000000000000";function ZL(n,e,t){return n&&n[tt]===e&&n!==t?!!n.match(/^[\da-f]*$/i):!1}function WL(n){return ZL(n,32,IZ)}function XL(n){return ZL(n,16,OZ)}var NZ=LL("plugin");function Dc(n){return NZ.get(n,"state",{},!0)}function mP(n,e){for(var t=[],r=null,i=n[Ro](),a;i;){var c=i[Wf]();if(c){r&&r[Jf]&&c[xo]&&r[Jf](c),a=Dc(c);var u=!!a[To];c[To]&&(u=c[To]()),u||t[Pt](c),r=c,i=i[Ro]()}}Ue(t,function(d){var f=n[qn]();d[xg](n.getCfg(),f,e,n[Ro]()),a=Dc(d),!d[qn]&&!a[qn]&&(a[qn]=f),a[To]=!0,delete a[ra]})}function XS(n){return n.sort(function(e,t){var r=0;if(t){var i=t[xo];e[xo]?r=i?e[Ky]-t[Ky]:1:i&&(r=-1)}else r=e?1:-1;return r})}function MZ(n){var e={};return{getName:function(){return e[Nc]},setName:function(t){e[Nc]=t},getTraceId:function(){return e[ZM]},setTraceId:function(t){WL(t)&&(e[ZM]=t)},getSpanId:function(){return e[WM]},setSpanId:function(t){XL(t)&&(e[WM]=t)},getTraceFlags:function(){return e[XM]},setTraceFlags:function(t){e[XM]=t}}}var PZ="TelemetryPluginChain",vP="_hasRun",yP="_getTelCtx",_P=0;function xZ(n,e,t){for(;n;){if(n[Wf]()===t)return n;n=n[Ro]()}return Wc([t],e.config||{},e)}function m0(n,e,t,r){var i=null,a=[];e||(e=ui({},null,t[Rn])),r!==null&&(i=r?xZ(n,t,r):n);var c={_next:d,ctx:{core:function(){return t},diagLog:function(){return f0(t,e.cfg)},getCfg:function(){return e.cfg},getExtCfg:p,getConfig:g,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(y){i=y},iterate:v,onComplete:u}};function u(y,b){for(var C=[],E=2;E<arguments.length;E++)C[E-2]=arguments[E];y&&a[Pt]({func:y,self:Vt(b)?c.ctx:b,args:C})}function d(){var y=i;if(i=y?y[Ro]():null,!y){var b=a;b&&b[tt]>0&&(Ue(b,function(C){try{C.func.call(C.self,C.args)}catch(E){Xt(t[Rn],2,73,"Unexpected Exception during onComplete - "+Rt(E))}}),a=[])}return y}function f(y,b){var C=null,E=e.cfg;if(E&&y){var S=E[ju];!S&&b&&(S={}),E[ju]=S,S=e.ref(E,ju),S&&(C=S[y],!C&&b&&(C={}),S[y]=C,C=e.ref(S,y))}return C}function p(y,b){var C=f(y,!0);return b&&en(b,function(E,S){if(Yt(C[E])){var w=e.cfg[E];(w||!Yt(w))&&(C[E]=w)}h0(e,C,E,S)}),e[Jd](C,b)}function g(y,b,C){C===void 0&&(C=!1);var E,S=f(y,!1),w=e.cfg;return S&&(S[b]||!Yt(S[b]))?E=S[b]:(w[b]||!Yt(w[b]))&&(E=w[b]),E||!Yt(E)?E:C}function v(y){for(var b;b=c._next();){var C=b[Wf]();C&&y(C)}}return c}function Zc(n,e,t,r){var i=ui(e),a=m0(n,i,t,r),c=a.ctx;function u(f){var p=a._next();return p&&p[xo](f,c),!p}function d(f,p){return f===void 0&&(f=null),vt(f)&&(f=Wc(f,i.cfg,t,p)),Zc(f||c[Ro](),i.cfg,t,p)}return c[Ar]=u,c[Yc]=d,c}function Jy(n,e,t){var r=ui(e.config),i=m0(n,r,e,t),a=i.ctx;function c(d){var f=i._next();return f&&f[Ps](a,d),!f}function u(d,f){return d===void 0&&(d=null),vt(d)&&(d=Wc(d,r.cfg,e,f)),Jy(d||a[Ro](),e,f)}return a[Ar]=c,a[Yc]=u,a}function v0(n,e,t){var r=ui(e.config),i=m0(n,r,e,t),a=i.ctx;function c(d){return a.iterate(function(f){Jt(f[Xf])&&f[Xf](a,d)})}function u(d,f){return d===void 0&&(d=null),vt(d)&&(d=Wc(d,r.cfg,e,f)),v0(d||a[Ro](),e,f)}return a[Ar]=c,a[Yc]=u,a}function Wc(n,e,t,r){var i=null,a=!r;if(vt(n)&&n[tt]>0){var c=null;Ue(n,function(u){if(!a&&r===u&&(a=!0),a&&u&&Jt(u[xo])){var d=DZ(u,e,t);i||(i=d),c&&c._setNext(d),c=d}})}return r&&!i?Wc([r],e,t):i}function DZ(n,e,t){var r=null,i=Jt(n[xo]),a=Jt(n[Jf]),c;n?c=n[os]+"-"+n[Ky]+"-"+_P++:c="Unknown-0-"+_P++;var u={getPlugin:function(){return n},getNext:function(){return r},processTelemetry:p,unload:g,update:v,_id:c,_setNext:function(y){r=y}};function d(){var y;return n&&Jt(n[yP])&&(y=n[yP]()),y||(y=Zc(u,e,t)),y}function f(y,b,C,E,S){var w=!1,A=n?n[os]:PZ,k=y[vP];return k||(k=y[vP]={}),y.setNext(r),n&&Fr(y[qn](),function(){return A+":"+C},function(){k[c]=!0;try{var O=r?r._id:At;O&&(k[O]=!1),w=b(y)}catch(M){var D=r?k[r._id]:!0;D&&(w=!0),(!r||!D)&&Xt(y[ha](),1,73,"Plugin ["+A+"] failed during "+C+" - "+Rt(M)+", run flags: "+Rt(k))}},E,S),w}function p(y,b){b=b||d();function C(E){if(!n||!i)return!1;var S=Dc(n);return S[ra]||S[yA]?!1:(a&&n[Jf](r),n[xo](y,E),!0)}f(b,C,"processTelemetry",function(){return{item:y}},!y.sync)||b[Ar](y)}function g(y,b){function C(){var E=!1;if(n){var S=Dc(n),w=n[qn]||S[qn];n&&(!w||w===y.core())&&!S[ra]&&(S[qn]=null,S[ra]=!0,S[To]=!1,n[ra]&&n[ra](y,b)===!0&&(E=!0))}return E}f(y,C,"unload",function(){},b[_d])||y[Ar](b)}function v(y,b){function C(){var E=!1;if(n){var S=Dc(n),w=n[qn]||S[qn];n&&(!w||w===y.core())&&!S[ra]&&n[Xf]&&n[Xf](y,b)===!0&&(E=!0)}return E}f(y,C,"update",function(){},!1)||y[Ar](b)}return jc(u)}function JL(){var n=[];function e(r){r&&n[Pt](r)}function t(r,i){Ue(n,function(a){try{a(r,i)}catch(c){Xt(r[ha](),2,73,"Unexpected error calling unload handler - "+Rt(c))}}),n=[]}return{add:e,run:t}}function eU(){var n=[];function e(r){var i=n;n=[],Ue(i,function(a){try{(a.rm||a.remove).call(a)}catch(c){Xt(r,2,73,"Unloading:"+Rt(c))}})}function t(r){r&&_s(n,r)}return{run:e,add:t}}var JS,Wa="getPlugin",LZ=(JS={},JS[ju]={isVal:$y,v:{}},JS),cb=function(){function n(){var e=this,t,r,i,a,c;f(),an(n,e,function(p){p[xg]=function(g,v,y,b){d(g,v,b),t=!0},p[ra]=function(g,v){var y,b=p[qn];if(!b||g&&b!==g[qn]())return;var C,E=!1,S=g||Jy(null,b,i&&i[Wa]?i[Wa]():i),w=v||(y={reason:0},y[_d]=!1,y);function A(){E||(E=!0,a.run(S,v),c.run(S[ha]()),C===!0&&S[Ar](w),f())}return!p[Fy]||p[Fy](S,w,A)!==!0?A():C=!0,C},p[Xf]=function(g,v){var y=p[qn];if(!y||g&&y!==g[qn]())return;var b,C=!1,E=g||v0(null,y,i&&i[Wa]?i[Wa]():i),S=v||{reason:0};function w(){C||(C=!0,d(E.getCfg(),E.core(),E[Ro]()))}return!p._doUpdate||p._doUpdate(E,S,w)!==!0?w():b=!0,b},Gy(p,"_addUnloadCb",function(){return a},"add"),Gy(p,"_addHook",function(){return c},"add"),ln(p,"_unloadHooks",{g:function(){return c}})}),e[ha]=function(p){return u(p)[ha]()},e[To]=function(){return t},e.setInitialized=function(p){t=p},e[Jf]=function(p){i=p},e[Ar]=function(p,g){g?g[Ar](p):i&&Jt(i[xo])&&i[xo](p,null)},e._getTelCtx=u;function u(p){p===void 0&&(p=null);var g=p;if(!g){var v=r||Zc(null,{},e[qn]);i&&i[Wa]?g=v[Yc](null,i[Wa]):g=v[Yc](null,i)}return g}function d(p,g,v){ui(p,LZ,f0(g)),!v&&g&&(v=g[hL]()[Ro]());var y=i;i&&i[Wa]&&(y=i[Wa]()),e[qn]=g,r=Zc(v,p,g,y)}function f(){t=!1,e[qn]=null,r=null,i=null,c=eU(),a=JL()}}return n.__ieDyn=1,n}();function UZ(n,e,t){var r={id:e,fn:t};_s(n,r);var i={remove:function(){Ue(n,function(a,c){if(a.id===r.id)return n[Pg](c,1),-1})}};return i}function zZ(n,e,t){for(var r=!1,i=n[tt],a=0;a<i;++a){var c=n[a];if(c)try{if(c.fn[ib](null,[e])===!1){r=!0;break}}catch(u){Xt(t,2,64,"Telemetry initializer failed: "+CL(u),{exception:Rt(u)},!0)}}return!r}var HZ=function(n){Ng(e,n);function e(){var t=n.call(this)||this;t.identifier="TelemetryInitializerPlugin",t.priority=199;var r,i;a(),an(e,t,function(c,u){c.addTelemetryInitializer=function(d){return UZ(i,r++,d)},c[xo]=function(d,f){zZ(i,d,f?f[ha]():c[ha]())&&c[Ar](d,f)},c[Fy]=function(){a()}});function a(){r=0,i=[]}return t}return e.__ieDyn=1,e}(cb),Xa,tU="Plugins must provide initialize method",FZ="_notificationManager",bP="SDK is still unloading...",BZ="SDK is not initialized",KZ=100,qZ=5e4,eT=Wd((Xa={cookieCfg:{}},Xa[Cu]={rdOnly:!0,ref:!0,v:[]},Xa[fc]={rdOnly:!0,ref:!0,v:[]},Xa[ju]={ref:!0,v:{}},Xa[vA]=mo,Xa.loggingLevelConsole=0,Xa.diagnosticLogInterval=mo,Xa));function $Z(n,e){return new RZ(e)}function jZ(n,e,t){var r,i=[],a=[],c={};return Ue(t,function(u){(Yt(u)||Yt(u[xg]))&&Si(tU);var d=u[Ky],f=u[os];u&&d&&(Yt(c[d])?c[d]=f:Mf(n,"Two extensions have same priority #"+d+" - "+c[d]+", "+f)),!d||d<e?i[Pt](u):a[Pt](u)}),r={},r[qn]=i,r[fc]=a,r}function EP(n,e){var t=!1;return Ue(e,function(r){if(r===n)return t=!0,-1}),t}function kA(n,e,t,r){t&&en(t,function(i,a){r&&Qi(a)&&Qi(e[i])&&kA(n,e[i],a,r),r&&Qi(a)&&Qi(e[i])?kA(n,e[i],a,r):n.set(e,i,a)})}function CP(n,e){var t=null,r=-1;return Ue(n,function(i,a){if(i.w===e)return t=i,r=a,-1}),{i:r,l:t}}function GZ(n,e){var t=CP(n,e).l;return t||(t={w:e,rm:function(){var r=CP(n,e);r.i!==-1&&n[Pg](r.i,1)}},n[Pt](t)),t}function VZ(n,e,t){Ue(e,function(r){var i=vr(n,r.w,t);delete r.w,r.rm=function(){i.rm()}})}function YZ(n,e,t,r){return e.add(n[ws](function(i){var a=i.cfg.disableDbgExt;a===!0&&r&&(t[Uy](r),r=null),t&&!r&&a!==!0&&(r=fZ(i.cfg),t[zy](r))})),r}function QZ(n){return ln({rm:function(){n.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(n)+">"}})}var nU=function(){function n(){var e,t,r,i,a,c,u,d,f,p,g,v,y,b,C,E,S,w,A,k,O,D,M,N,K,F,oe,ue,me,X,he,z;an(n,this,function(L){Q(),L._getDbgPlgTargets=function(){return[M,i]},L[To]=function(){return t},L.activeStatus=function(){return F},L._setPendingStatus=function(){F=3},L[xg]=function(J,Ce,Ae,Oe){y&&Si(bP),L[To]()&&Si("Core cannot be initialized more than once"),e=ui(J,eT,Ae||L[Rn],!1),J=e.cfg,Nt(e[ws](function(Je){var kt=Je.cfg,Be=F===3;if(!Be){ue=kt.initInMemoMaxSize||KZ;var at=kt[KM],Bt=kt.endpointUrl;if(Yt(at)){O=null,F=lu[kS];var Ln="Please provide instrumentation key";t?(Xt(r,1,100,Ln),_e()):Si(Ln);return}var dn=[];if(vd(at)?(dn[Pt](at),O=null):O=at,vd(Bt)?(dn[Pt](Bt),oe=null):oe=Bt,dn[tt]){me=!1,F=3;var sr=$y(kt.initTimeOut)?kt.initTimeOut:qZ,Kt=bQ(dn);Gc(function(){me||V()},sr),bd(Kt,function(B){try{if(me)return;if(!B.rejected){var pe=B[Of];if(pe&&pe[tt]){var ye=pe[0];if(O=ye&&ye[Of],pe[tt]>1){var we=pe[1];oe=we&&we[Of]}}O&&(J[KM]=O,J.endpointUrl=oe)}V()}catch{me||V()}})}else V();var eo=Je.ref(Je.cfg,ju);en(eo,function(B){Je.ref(eo,B)})}})),a=Oe,A=YZ(e,w,a&&L[vv](),A),sn(),L[Rn]=Ae;var De=J[Cu];if(p=[],p[Pt].apply(p,UM(UM([],Ce,!1),De)),g=J[fc],ve(null),(!v||v[tt]===0)&&Si("No "+fc+" available"),g&&g[tt]>1){var Xe=L[Wf]("TeeChannelController");(!Xe||!Xe.plugin)&&Xt(r,1,28,"TeeChannel required")}VZ(J,D,r),D=null,t=!0,F===lu.ACTIVE&&_e()},L.getChannels=function(){var J=[];return v&&Ue(v,function(Ce){J[Pt](Ce)}),jc(J)},L.track=function(J){Fr(L[qy](),function(){return"AppInsightsCore:track"},function(){J===null&&(yt(J),Si("Invalid telemetry item")),!J[Nc]&&Yt(J[Nc])&&(yt(J),Si("telemetry name required")),J[cf]=J[cf]||O,J[qu]=J[qu]||jy(new Date),J.ver=J.ver||"4.0",!y&&L[To]()&&F===lu.ACTIVE?ce()[Ar](J):F!==lu[kS]&&i[tt]<=ue&&i[Pt](J)},function(){return{item:J}},!J.sync)},L[hL]=ce,L[vv]=function(){return a||(a=new YL(e.cfg),L[FZ]=a),a},L[zy]=function(J){L.getNotifyMgr()[zy](J)},L[Uy]=function(J){a&&a[Uy](J)},L.getCookieMgr=function(){return d||(d=Jv(e.cfg,L[Rn])),d},L.setCookieMgr=function(J){d!==J&&(Ef(d,!1),d=J)},L[qy]=function(){return c||u||kZ()},L.setPerfMgr=function(J){c=J},L.eventCnt=function(){return i[tt]},L.releaseQueue=function(){if(t&&i[tt]>0){var J=i;i=[],F===2?Ue(J,function(Ce){Ce[cf]=Ce[cf]||O,ce()[Ar](Ce)}):Xt(r,2,20,"core init status is not active")}},L[qM]=function(J){return C=J||null,z=!1,X&&X[Nu](),I(!0)};function V(){me=!0,Yt(O)?(F=lu[kS],Xt(r,1,112,"ikey can't be resolved from promises")):F=lu.ACTIVE,_e()}function _e(){t&&(L.releaseQueue(),L[qM]())}function I(J){if((!X||!X[Mu])&&!z){var Ce=J||r&&r.queue[tt]>0;Ce&&(he||(he=!0,Nt(e[ws](function(Ae){var Oe=Ae.cfg.diagnosticLogInterval;(!Oe||!(Oe>0))&&(Oe=1e4);var De=!1;X&&(De=X[Mu],X[Nu]()),X=J9(nt,Oe),X.unref(),X[Mu]=De}))),X[Mu]=!0)}return X}L[$M]=function(){z=!0,X&&X[Nu](),nt()},SL(L,function(){return b},["addTelemetryInitializer"]),L[Ps]=function(J,Ce,Ae){var Oe;J===void 0&&(J=!0),t||Si(BZ),y&&Si(bP);var De=(Oe={reason:50},Oe[_d]=J,Oe.flushComplete=!1,Oe),Xe;J&&!Ce&&(Xe=Qc(function(Be){Ce=Be}));var Je=Jy(Re(),L);Je[yv](function(){w.run(L[Rn]),BL([d,a,r],J,function(){Q(),Ce&&Ce(De)})},L);function kt(Be){De.flushComplete=Be,y=!0,S.run(Je,De),L[$M](),Je[Ar](De)}return nt(),Ot(J,kt,6,Ae),Xe},L[Wf]=Pe,L.addPlugin=function(J,Ce,Ae,Oe){if(!J){Oe&&Oe(!1),gt(tU);return}var De=Pe(J[os]);if(De&&!Ce){Oe&&Oe(!1),gt("Plugin ["+J[os]+"] is already loaded!");return}var Xe={reason:16};function Je(at){p[Pt](J),Xe.added=[J],ve(Xe),Oe&&Oe(!0)}if(De){var kt=[De.plugin],Be={reason:2,isAsync:!!Ae};ot(kt,Be,function(at){at?(Xe.removed=kt,Xe.reason|=32,Je()):Oe&&Oe(!1)})}else Je()},L.updateCfg=function(J,Ce){Ce===void 0&&(Ce=!0);var Ae;if(L[To]()){Ae={reason:1,cfg:e.cfg,oldCfg:DM({},e.cfg),newConfig:DM({},J),merge:Ce},J=Ae.newConfig;var Oe=e.cfg;J[Cu]=Oe[Cu],J[fc]=Oe[fc]}e._block(function(De){var Xe=De.cfg;kA(De,Xe,J,Ce),Ce||en(Xe,function(Je){Bu(J,Je)||De.set(Xe,Je,mo)}),De[Jd](Xe,eT)},!0),e[Dy](),Ae&&Cn(Ae)},L.evtNamespace=function(){return E},L.flush=Ot,L.getTraceCtx=function(J){return k||(k=MZ()),k},L.setTraceCtx=function(J){k=J||null},L.addUnloadHook=Nt,Gy(L,"addUnloadCb",function(){return S},"add"),L.onCfgChange=function(J){var Ce;return t?Ce=vr(e.cfg,J,L[Rn]):Ce=GZ(D,J),QZ(Ce)},L.getWParam=function(){return oL()||e.cfg.enableWParam?0:-1};function W(){var J={};N=[];var Ce=function(Ae){Ae&&Ue(Ae,function(Oe){if(Oe[os]&&Oe[jM]&&!J[Oe.identifier]){var De=Oe[os]+"="+Oe[jM];N[Pt](De),J[Oe.identifier]=Oe}})};Ce(v),g&&Ue(g,function(Ae){Ce(Ae)}),Ce(p)}function Q(){t=!1,e=ui({},eT,L[Rn]),e.cfg[fL]=1,ln(L,"config",{g:function(){return e.cfg},s:function(Ce){L.updateCfg(Ce,!1)}}),ln(L,"pluginVersionStringArr",{g:function(){return N||W(),N}}),ln(L,"pluginVersionString",{g:function(){return K||(N||W(),K=N.join(";")),K||At}}),ln(L,"logger",{g:function(){return r||(r=new np(e.cfg),e[Rn]=r),r},s:function(Ce){e[Rn]=Ce,r!==Ce&&(Ef(r,!1),r=Ce)}}),L[Rn]=new np(e.cfg),M=[];var J=L.config[Cu]||[];J.splice(0,J[tt]),_s(J,M),b=new HZ,i=[],Ef(a,!1),a=null,c=null,u=null,Ef(d,!1),d=null,f=null,p=[],g=null,v=null,y=!1,C=null,E=eh("AIBaseCore",!0),S=JL(),k=null,O=null,w=eU(),D=[],K=null,N=null,z=!1,X=null,he=!1,F=0,oe=null,ue=null,me=!1}function ce(){var J=Zc(Re(),e.cfg,L);return J[yv](I),J}function ve(J){var Ce=jZ(L[Rn],uZ,p);f=null,K=null,N=null,v=(g||[])[0]||[],v=XS(_s(v,Ce[fc]));var Ae=_s(XS(Ce[qn]),v);M=jc(Ae);var Oe=L.config[Cu]||[];Oe.splice(0,Oe[tt]),_s(Oe,M);var De=ce();v&&v[tt]>0&&mP(De[Yc](v),Ae),mP(De,Ae),J&&Cn(J)}function Pe(J){var Ce=null,Ae=null,Oe=[];return Ue(M,function(De){if(De[os]===J&&De!==b)return Ae=De,-1;De.getChannel&&Oe[Pt](De)}),!Ae&&Oe[tt]>0&&Ue(Oe,function(De){if(Ae=De.getChannel(J),!Ae)return-1}),Ae&&(Ce={plugin:Ae,setEnabled:function(De){Dc(Ae)[yA]=!De},isEnabled:function(){var De=Dc(Ae);return!De[ra]&&!De[yA]},remove:function(De,Xe){var Je;De===void 0&&(De=!0);var kt=[Ae],Be=(Je={reason:1},Je[_d]=De,Je);ot(kt,Be,function(at){at&&ve({reason:32,removed:kt}),Xe&&Xe(at)})}}),Ce}function Re(){if(!f){var J=(M||[]).slice();Pi(J,b)===-1&&J[Pt](b),f=Wc(XS(J),e.cfg,L)}return f}function ot(J,Ce,Ae){if(J&&J[tt]>0){var Oe=Wc(J,e.cfg,L),De=Jy(Oe,L);De[yv](function(){var Xe=!1,Je=[];Ue(p,function(Be,at){EP(Be,J)?Xe=!0:Je[Pt](Be)}),p=Je,K=null,N=null;var kt=[];g&&(Ue(g,function(Be,at){var Bt=[];Ue(Be,function(Ln){EP(Ln,J)?Xe=!0:Bt[Pt](Ln)}),kt[Pt](Bt)}),g=kt),Ae&&Ae(Xe),I()}),De[Ar](Ce)}else Ae(!1)}function nt(){if(r&&r.queue){var J=r.queue.slice(0);r.queue[tt]=0,Ue(J,function(Ce){var Ae,Oe=(Ae={},Ae[Nc]=C||"InternalMessageId: "+Ce[Hy],Ae[cf]=O,Ae[qu]=jy(new Date),Ae.baseType=Wy.dataType,Ae.baseData={message:Ce[Mc]},Ae);L.track(Oe)})}}function Ot(J,Ce,Ae,Oe){var De=1,Xe=!1,Je=null;Oe=Oe||5e3;function kt(){De--,Xe&&De===0&&(Je&&Je[Nu](),Je=null,Ce&&Ce(Xe),Ce=null)}if(v&&v[tt]>0){var Be=ce()[Yc](v);Be.iterate(function(at){if(at.flush){De++;var Bt=!1;at.flush(J,function(){Bt=!0,kt()},Ae)||Bt||(J&&Je==null?Je=Gc(function(){Je=null,kt()},Oe):kt())}})}return Xe=!0,kt(),!0}function sn(){var J;Nt(e[ws](function(Ce){var Ae=Ce.cfg.enablePerfMgr;if(Ae){var Oe=Ce.cfg[vA];J!==Oe&&(Oe||(Oe=$Z),wQ(Ce.cfg,vA,Oe),J=Oe,u=null),!c&&!u&&Jt(Oe)&&(u=Oe(L,L[vv]()))}else u=null,J=null}))}function Cn(J){var Ce=v0(Re(),L);Ce[yv](I),(!L._updateHook||L._updateHook(Ce,J)!==!0)&&Ce[Ar](J)}function gt(J){var Ce=L[Rn];Ce?(Xt(Ce,2,73,J),I()):Si(J)}function yt(J){var Ce=L[vv]();Ce&&Ce[Nf]([J],2)}function Nt(J){w.add(J)}})}return n.__ieDyn=1,n}(),ao="",ZZ="NoResponseBody",SP="&"+ZZ+"=true",tT="POST",WZ=function(){function n(){var e=0,t,r,i,a,c,u,d,f,p,g,v,y,b,C;an(n,this,function(E,S){var w=!0;me(),E[xg]=function(X,he){i=he,r&&Xt(i,1,28,"Sender is already initialized"),E.SetConfig(X),r=!0},E._getDbgPlgTargets=function(){return[r,a,u,t]},E.SetConfig=function(X){try{if(c=X.senderOnCompleteCallBack||{},u=!!X.disableCredentials,d=X.fetchCredentials,a=!!X.isOneDs,t=!!X.enableSendPromise,p=!!X.disableXhr,g=!!X.disableBeacon,v=!!X.disableBeaconSync,C=X.timeWrapper,b=!!X.addNoResponse,y=!!X.disableFetchKeepAlive,f={sendPOST:F},a||(w=!1),u){var he=ab();he&&he.protocol&&he.protocol[s0]()==="file:"&&(w=!1)}return!0}catch{}return!1},E.getSyncFetchPayload=function(){return e},E.getSenderInst=function(X,he){return X&&X[tt]?D(X,he):null},E.getFallbackInst=function(){return f},E[Fy]=function(X,he){me()};function A(X,he){M(he,200,{},X)}function k(X,he){Xt(i,2,26,"Failed to send telemetry.",{message:X}),M(he,400,{})}function O(X){k("No endpoint url is provided for the batch",X)}function D(X,he){for(var z,L=0,V=null,_e=0;V==null&&_e<X[tt];)L=X[_e],!p&&L===1?VQ()?V=ue:IL()&&(V=F):L===2&&kL(he)&&(!he||!y)?V=oe:L===3&&u0()&&(he?!v:!g)&&(V=K),_e++;return V?(z={_transport:L,_isSync:he},z[YM]=V,z):null}function M(X,he,z,L){try{X&&X(he,z,L)}catch{}}function N(X,he){var z=Lo(),L=X[lf];if(!L)return O(he),!0;L=X[lf]+(b?SP:ao);var V=X[Eu],_e=a?V:new Blob([V],{type:"text/plain;charset=UTF-8"}),I=z.sendBeacon(L,_e);return I}function K(X,he,z){var L=X[Eu];try{if(L)if(N(X,he))A(ao,he);else{var V=c&&c.beaconOnRetry;V&&Jt(V)?V(X,he,N):(f&&f[YM](X,he,!0),Xt(i,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(_e){a&&Mf(i,"Failed to send telemetry using sendBeacon API. Ex:"+Rt(_e)),M(he,a?0:400,{},ao)}}function F(X,he,z){var L,V,_e,I=X[OS]||{};!z&&t&&(L=Qc(function(ve,Pe){V=ve,_e=Pe})),a&&z&&X.disableXhrSync&&(z=!1);var W=X[lf];if(!W){O(he),V&&V(!1);return}var Q=NQ(tT,W,w,!0,z,X[uu]);a||Q[QM]("Content-type","application/json"),Ue(da(I),function(ve){Q[QM](ve,I[ve])}),Q.onreadystatechange=function(){a||(ce(Q),Q.readyState===4&&V&&V(!0))},Q.onload=function(){a&&ce(Q)};function ce(ve){var Pe=c&&c.xhrOnComplete,Re=Pe&&Jt(Pe);if(Re)Pe(ve,he,X);else{var ot=Ed(ve);M(he,ve[yf],Wv(ve,a),ot)}}return Q.onerror=function(ve){M(he,a?Q[yf]:400,Wv(Q,a),a?ao:nP(Q)),_e&&_e(ve)},Q.ontimeout=function(){M(he,a?Q[yf]:500,Wv(Q,a),a?ao:nP(Q)),V&&V(!1)},Q.send(X[Eu]),L}function oe(X,he,z){var L,V=X[lf],_e=X[Eu],I=a?_e:new Blob([_e],{type:"application/json"}),W,Q,ce,ve=new Headers,Pe=_e[tt],Re=!1,ot=!1,nt=X[OS]||{},Ot=(L={method:tT,body:I},L[oP]=!0,L);X.headers&&da(X.headers)[tt]>0&&(Ue(da(nt),function(yt){ve.append(yt,nt[yt])}),Ot[OS]=ve),d?Ot.credentials=d:w&&a&&(Ot.credentials="include"),z&&(Ot.keepalive=!0,e+=Pe,a?X._sendReason===2&&(Re=!0,b&&(V+=SP)):Re=!0);var sn=new Request(V,Ot);try{sn[oP]=!0}catch{}if(!z&&t&&(W=Qc(function(yt,Nt){Q=yt,ce=Nt})),!V){O(he),Q&&Q(!1);return}function Cn(yt){M(he,a?0:400,{},a?ao:yt)}function gt(yt,Nt,J){var Ce=yt[yf],Ae=c.fetchOnComplete;Ae&&Jt(Ae)?Ae(yt,he,J||ao,Nt):M(he,Ce,{},J||ao)}try{bd(fetch(a?V:sn,a?Ot:null),function(yt){if(z&&(e-=Pe,Pe=0),!ot)if(ot=!0,yt.rejected)Cn(yt.reason&&yt.reason[Mc]),ce&&ce(yt.reason);else{var Nt=yt[Of];try{!a&&!Nt.ok?(Cn(Nt.statusText),Q&&Q(!1)):a&&!Nt.body?(gt(Nt,null,ao),Q&&Q(!0)):bd(Nt.text(),function(J){gt(Nt,X,J[Of]),Q&&Q(!0)})}catch(J){Cn(Rt(J)),ce&&ce(J)}}})}catch(yt){ot||(Cn(Rt(yt)),ce&&ce(yt))}return Re&&!ot&&(ot=!0,M(he,200,{}),Q&&Q(!0)),a&&!ot&&X[uu]>0&&C&&C.set(function(){ot||(ot=!0,M(he,500,{}),Q&&Q(!0))},X[uu]),W}function ue(X,he,z){var L=Fs(),V=new XDomainRequest,_e=X[Eu];V.onload=function(){var ve=Ed(V),Pe=c&&c.xdrOnComplete;Pe&&Jt(Pe)?Pe(V,he,X):M(he,200,{},ve)},V.onerror=function(){M(he,400,{},a?ao:kQ(V))},V.ontimeout=function(){M(he,500,{})},V.onprogress=function(){};var I=L&&L.location&&L.location[pL]||"",W=X[lf];if(!W){O(he);return}if(!a&&W.lastIndexOf(I,0)!==0){var Q="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Xt(i,2,40,". "+Q),k(Q,he);return}var ce=a?W:W[Pc](/^(https?:)/,"");V.open(tT,ce),X[uu]&&(V[uu]=X[uu]),V.send(_e),a&&z?C&&C.set(function(){V.send(_e)},0):V.send(_e)}function me(){e=0,r=!1,t=!1,i=null,a=null,c=null,u=null,d=null,f=null,p=!1,g=!1,v=!1,y=!1,b=!1,C=null}})}return n.__ieDyn=1,n}(),rU="on",TP="attachEvent",AP="addEventListener",wP="detachEvent",RP="removeEventListener",IA="events",rp="visibilitychange",lb="pagehide",iU="pageshow",oU="unload",aU="beforeunload",sU=eh("aiEvtPageHide"),cU=eh("aiEvtPageShow"),XZ=/\.[\.]+/g,JZ=/[\.]+$/,e5=1,e_=LL("events"),t5=/^([^.]*)(?:\.(.+)|)/;function kP(n){return n&&n[Pc]?n[Pc](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,At):n}function y0(n,e){var t;if(e){var r=At;vt(e)?(r=At,Ue(e,function(a){a=kP(a),a&&(a[0]!=="."&&(a="."+a),r+=a)})):r=kP(e),r&&(r[0]!=="."&&(r="."+r),n=(n||At)+r)}var i=t5.exec(n||At)||[];return t={},t[fa]=i[1],t.ns=(i[2]||At).replace(XZ,".").replace(JZ,At)[ob](".").sort().join("."),t}function lU(n,e,t){t===void 0&&(t=!0);var r=e_.get(n,IA,{},t),i=r[e];return i||(i=r[e]=[]),i}function uU(n,e,t,r){n&&e&&e[fa]&&(n[RP]?n[RP](e[fa],t,r):n[wP]&&n[wP](rU+e[fa],t))}function n5(n,e,t,r){var i=!1;return n&&e&&e[fa]&&t&&(n[AP]?(n[AP](e[fa],t,r),i=!0):n[TP]&&(n[TP](rU+e[fa],t),i=!0)),i}function IP(n,e,t,r){for(var i=e[tt];i--;){var a=e[i];a&&(!t.ns||t.ns===a.evtName.ns)&&(!r||r(a))&&(uU(n,a.evtName,a[c0],a.capture),e[Pg](i,1))}}function r5(n,e,t){if(e[fa])IP(n,lU(n,e[fa]),e,t);else{var r=e_.get(n,IA,{});en(r,function(i,a){IP(n,a,e,t)}),da(r)[tt]===0&&e_.kill(n,IA)}}function Dg(n,e){var t;return e?(vt(e)?t=[n].concat(e):t=[n,e],t=y0("xx",t).ns[ob](".")):t=n,t}function nT(n,e,t,r,i){var a;i===void 0&&(i=!1);var c=!1;if(n)try{var u=y0(e,r);if(c=n5(n,u,t,i),c&&e_.accept(n)){var d=(a={guid:e5++,evtName:u},a[c0]=t,a.capture=i,a);lU(n,u.type)[Pt](d)}}catch{}return c}function rT(n,e,t,r,i){if(i===void 0&&(i=!1),n)try{var a=y0(e,r),c=!1;r5(n,a,function(u){return a.ns&&!t||u[c0]===t?(c=!0,!0):!1}),c||uU(n,a,t,i)}catch{}}function i5(n,e,t){var r=!1,i=Fs();i&&(r=nT(i,n,e,t),r=nT(i.body,n,e,t)||r);var a=_a();return a&&(r=nT(a,n,e,t)||r),r}function o5(n,e,t){var r=Fs();r&&(rT(r,n,e,t),rT(r.body,n,e,t));var i=_a();i&&rT(i,n,e,t)}function Cd(n,e,t,r){var i=!1;return e&&n&&n[tt]>0&&Ue(n,function(a){a&&(!t||Pi(t,a)===-1)&&(i=i5(a,e,r)||i)}),i}function a5(n,e,t,r){var i=!1;return e&&n&&vt(n)&&(i=Cd(n,e,t,r),!i&&t&&t[tt]>0&&(i=Cd(n,e,null,r))),i}function ip(n,e,t){n&&vt(n)&&Ue(n,function(r){r&&o5(r,e,t)})}function s5(n,e,t){return a5([aU,oU,lb],n,e,t)}function c5(n,e){ip([aU,oU,lb],n,e)}function dU(n,e,t){function r(c){var u=_a();n&&u&&u.visibilityState==="hidden"&&n(c)}var i=Dg(sU,t),a=Cd([lb],n,e,i);return(!e||Pi(e,rp)===-1)&&(a=Cd([rp],r,e,i)||a),!a&&e&&(a=dU(n,null,t)),a}function l5(n,e){var t=Dg(sU,e);ip([lb],n,t),ip([rp],null,t)}function hU(n,e,t){function r(c){var u=_a();n&&u&&u.visibilityState==="visible"&&n(c)}var i=Dg(cU,t),a=Cd([iU],n,e,i);return a=Cd([rp],r,e,i)||a,!a&&e&&(a=hU(n,null,t)),a}function u5(n,e){var t=Dg(cU,e);ip([iU],n,t),ip([rp],null,t)}var d5=yl({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),th="",h5="https://browser.events.data.microsoft.com/OneCollector/1.0/",OP="version",iT="properties",NP="initialize",MP="logger",ty="indexOf",as="timings",PP="pollInternalLogs",Ei="value",xP="kind",_0="length",oT="processTelemetryStart",Xo,f5="4.3.3",fU="1DS-Web-JS-"+f5,pU=XY.hasOwnProperty,p5=(Xo={},Xo[0]=0,Xo[2]=6,Xo[1]=1,Xo[3]=7,Xo[4098]=6,Xo[4097]=1,Xo[4099]=7,Xo),aT=null;function aa(n){return!(n===th||Yt(n))}function g5(n){if(n){var e=rb(n,"-");if(e>-1)return Qw(n,e)}return th}function m5(){return aT===null&&(aT=!Vt(Uint8Array)&&!b5()&&!Vy()),aT}function gU(n){return!!(n&&va(n)&&n>=1&&n<=4)}function v5(n,e,t){if(!e&&!aa(e)||typeof n!="string")return null;var r=typeof e;if(r==="string"||r==="number"||r==="boolean"||vt(e))e={value:e};else if(r==="object"&&!pU.call(e,"value"))e={value:t?JSON.stringify(e):e};else if(Yt(e[Ei])||e[Ei]===th||!ar(e[Ei])&&!va(e[Ei])&&!Os(e[Ei])&&!vt(e[Ei]))return null;if(vt(e[Ei])&&!E5(e[Ei]))return null;if(!Yt(e[xP])){if(vt(e[Ei])||!y5(e[xP]))return null;e[Ei]=e[Ei].toString()}return e}function mU(n,e,t){var r=-1;if(!Vt(n))if(e>0&&(e===32?r=8192:e<=13&&(r=e<<5)),_5(t))r===-1&&(r=0),r|=t;else{var i=p5[NA(n)]||-1;r!==-1&&i!==-1?r|=i:i===6&&(r=i)}return r}function Sd(n,e,t){t===void 0&&(t=!0);var r;return n&&(r=n.get(e),t&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||th}function DP(n){n===void 0&&(n="D");var e=QL();return n==="B"?e="{"+e+"}":n==="P"?e="("+e+")":n==="N"&&(e=e.replace(/-/g,th)),e}function t_(n,e,t,r,i){var a={},c=!1,u=0,d=arguments[_0],f=arguments;for(Os(f[0])&&(c=f[0],u++);u<d;u++){var n=f[u];en(n,function(g,v){c&&v&&md(v)?vt(v)?(a[g]=a[g]||[],Ue(v,function(y,b){y&&md(y)?a[g][b]=t_(!0,a[g][b],y):a[g][b]=y})):a[g]=t_(!0,a[g],v):a[g]=v})}return a}var uo=G9;function y5(n){return n===0||n>0&&n<=13||n===32}function _5(n){return n>=0&&n<=9}function b5(){var n=Lo();if(!Vt(n)&&n.userAgent){var e=n.userAgent.toLowerCase();if((e[ty]("safari")>=0||e[ty]("firefox")>=0)&&e[ty]("chrome")<0)return!0}return!1}function E5(n){return n[_0]>0}function OA(n,e){var t=n;t[as]=t[as]||{},t[as][oT]=t[as][oT]||{},t[as][oT][e]=uo()}function NA(n){var e=0;if(n!=null){var t=typeof n;t==="string"?e=1:t==="number"?e=2:t==="boolean"?e=3:t===Bw&&(e=4,vt(n)?(e=4096,n[_0]>0&&(e|=NA(n[0]))):pU.call(n,"value")&&(e=8192|NA(n[Ei])))}return e}function C5(){return!!Dn("chrome")}function xf(n){return n>0}var S5=Wd({endpointUrl:h5,propertyStorageOverride:{isVal:T5}});function T5(n){return n&&(!n.getProperty||!n.setProperty)&&Si("Invalid property storage override passed."),!0}var vU=function(n){Ng(e,n);function e(){var t=n.call(this)||this;return an(e,t,function(r,i){r[NP]=function(a,c,u,d){Fr(r,function(){return"AppInsightsCore.initialize"},function(){try{i[NP](ui(a,S5,u||r[MP],!1).cfg,c,u,d)}catch(g){var f=r[MP],p=Rt(g);p[ty]("channels")!==-1&&(p+=`
 - Channels must be provided through config.channels only!`),Xt(f,1,514,"SDK Initialization Failed - no telemetry will be sent: "+p)}},function(){return{config:a,extensions:c,logger:u,notificationManager:d}})},r.track=function(a){Fr(r,function(){return"AppInsightsCore.track"},function(){var c=a;if(c){c[as]=c[as]||{},c[as].trackStart=uo(),gU(c.latency)||(c.latency=1);var u=c.ext=c.ext||{};u.sdk=u.sdk||{},u.sdk.ver=fU;var d=c.baseData=c.baseData||{};d[iT]=d[iT]||{};var f=d[iT];f[OP]=f[OP]||r.pluginVersionString||th}i.track(c)},function(){return{item:a}},!a.sync)},r[PP]=function(a){return i[PP](a||"InternalLog")}}),t}return e.__ieDyn=1,e}(nU),A5=yl({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,Pii_IPv6ScrubLastHextets:14,Pii_DropValue:15,CustomerContent_GenericContent:32}),w5=yl({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),R5=yl({Normal:1,Critical:2}),k5=yl({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),I5="device",yU="locale",b0="ver",O5="browser",N5="browserVer",M5="popSample",P5="eventFlags",E0="name",x5="serviceName",ei=$r({UserExt:[0,"user"],DeviceExt:[1,I5],TraceExt:[2,"trace"],WebExt:[3,"web"],AppExt:[4,"app"],OSExt:[5,"os"],SdkExt:[6,"sdk"],IntWebExt:[7,"intweb"],UtcExt:[8,"utc"],LocExt:[9,"loc"],CloudExt:[10,"cloud"],DtExt:[11,"dt"]}),D5=$r({id:[0,"id"],ver:[1,b0],appName:[2,E0],locale:[3,yU],expId:[4,"expId"],env:[5,"env"]}),L5=$r({domain:[0,"domain"],browser:[1,O5],browserVer:[2,N5],screenRes:[3,"screenRes"],userConsent:[4,"userConsent"],consentDetails:[5,"consentDetails"]}),U5=$r({locale:[0,yU],localId:[1,"localId"],id:[2,"id"]}),z5=$r({osName:[0,E0],ver:[1,b0]}),H5=$r({ver:[0,b0],seq:[1,"seq"],installId:[2,"installId"],epoch:[3,"epoch"]}),F5=$r({msfpc:[0,"msfpc"],anid:[1,"anid"],serviceName:[2,x5]}),B5=$r({popSample:[0,M5],eventFlags:[1,P5]}),K5=$r({tz:[0,"tz"]}),q5=$r({sessionId:[0,"sesId"]}),$5=$r({localId:[0,"localId"],deviceClass:[1,"deviceClass"],make:[2,"make"],model:[3,"model"]}),j5=$r({role:[0,"role"],roleInstance:[1,"roleInstance"],roleVer:[2,"roleVer"]}),G5=$r({traceId:[0,"traceID"],traceName:[1,E0],parentId:[2,"parentID"]}),V5=$r({traceId:[0,"traceId"],spanId:[1,"spanId"],traceFlags:[2,"traceFlags"]}),Df;function _U(){return Df===void 0&&(Df=!!EU(0)),Df}function bU(){return _U()?EU(0):null}function EU(n){var e=null,t,r;try{var i=Xd();if(!i)return null;r=new Date,e=n===0?i.localStorage:i.sessionStorage,e&&Jt(e.setItem)&&(e.setItem(r,r),t=e.getItem(r)!==r,e.removeItem(r),t&&(e=null))}catch{e=null}return e}function Y5(n,e,t){var r=bU();if(r!==null)try{return r.setItem(e,t),!0}catch(i){Df=!1,Xt(n,1,504,"Browser failed write to local storage. "+i)}return!1}function Q5(n,e){var t=bU();if(t!==null)try{return t.getItem(e)}catch(r){Df=!1,Xt(n,1,503,"Browser failed read of local storage. "+r)}return null}function Z5(){return this.getId()}function W5(n){this.setId(n)}var C0=function(){function n(){an(n,this,function(e){e.setId=function(t){e.customId=t},e.getId=function(){return ar(e.customId)?e.customId:e.automaticId}})}return n._staticInit=function(){ln(n.prototype,"id",{g:Z5,s:W5})}(),n}(),LP="ai_session",X5=function(){function n(e,t,r){var i,a=f0(e),c=GL(e),u,d;an(n,this,function(f){var p=vr(t,function(){d=t,f.config=d});r&&r.add(p),u=function(){return f.config.namePrefix?LP+f.config.namePrefix:LP},f.automaticSession=new C0,f.update=function(){f.automaticSession.getId()||g();var E=f.automaticSession,S=f.config,w=new Date().getTime(),A=w-E.acquisitionDate>S.sessionExpirationMs,k=w-E.renewalDate>S.sessionRenewalMs;if(A||k)y();else{var O=i;(!O||w-O>n.cookieUpdateInterval)&&(E.renewalDate=w,b(E.getId(),E.acquisitionDate,E.renewalDate))}},f.backup=function(){var E=f.automaticSession;C(E.getId(),E.acquisitionDate,E.renewalDate)};function g(){var E=c.get(u());if(E&&Jt(E.split))v(E);else{var S=Q5(a,u());S&&v(S)}f.automaticSession.getId()||y()}function v(E){var S=f.automaticSession,w=E.split("|");w.length>0&&S.setId(w[0]);try{if(w.length>1){var A=+w[1];S.acquisitionDate=+new Date(A),S.acquisitionDate=S.acquisitionDate>0?S.acquisitionDate:0}if(w.length>2){var k=+w[2];S.renewalDate=+new Date(k),S.renewalDate=S.renewalDate>0?S.renewalDate:0}}catch(O){Xt(a,1,510,"Error parsing ai_session cookie, session will be reset: "+O)}S.renewalDate===0&&Xt(a,2,517,"AI session renewal date is 0, session will be reset.")}function y(){var E=f.automaticSession,S=new Date().getTime(),w=f.config.sessionAsGuid;!Vt(w)&&w?Os(w)?E.setId(DP()):E.setId(DP(w)):E.setId(d0(d.idLength||22)),E.acquisitionDate=S,E.renewalDate=S,b(E.getId(),E.acquisitionDate,E.renewalDate),_U()||Xt(a,2,505,"Browser does not support local storage. Session durations will be inaccurate.")}function b(E,S,w){var A=S+f.config.sessionExpirationMs,k=w+f.config.sessionRenewalMs,O=new Date,D=[E,S,w];A<k?O.setTime(A):O.setTime(k);var M=f.config.cookieDomain||null;c.set(u(),D.join("|")+";expires="+O.toUTCString(),null,M),i=new Date().getTime()}function C(E,S,w){Y5(a,u(),[E,S,w].join("|"))}})}return n.cookieUpdateInterval=6e4,n}(),S0=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function UP(n,e){e===void 0&&(e=S0);var t=null;if(n)for(var r=n.split(","),i=0;i<r.length;i++)J5(r[i],e)&&(t?t+=","+r[i]:t=r[i]);return t}function J5(n,e){if(e===void 0&&(e=S0),!n||n.length<4)return!1;for(var t=!1,r=256,i=n.substring(0,3).toString().toUpperCase(),a=0;a<e.length;a++)if(e[a]+":"===i&&n.length<=r){t=!0;break}return t}function e8(){return this.getExpId()}var t8=function(){function n(e,t,r){var i=null,a=S0.slice(0),c="Treatments",u,d=null;an(n,this,function(f){if(C(e),oL()){var p=_a().documentElement;p&&(f.locale=p.lang)}f.getExpId=function(){return d.expId?b(d.expId):y()};function g(E){var S,w={},A=_a();if(A){S=A&&A.querySelectorAll("meta");for(var k=0;k<S.length;k++){var O=S[k];if(O.name){var D=O.name.toLowerCase();if(D.indexOf(E)===0){var M=O.name.replace(E,"");w[M]=O.content}}}}return w}function v(E){E!==i&&(i=UP(E,a))}function y(){var E=Sd(u,c);return v(E),i}function b(E){return v(E),i}function C(E){var S=vr(E,function(){u=t&&t.getCookieMgr(),d=E||{},f.env=d.env||g("awa-").env});r&&r.add(S)}})}return n.validateAppExpId=UP,n._staticInit=function(){ln(n.prototype,"expId",{g:e8})}(),n}(),CU=function(){function n(){}return n}(),SU=function(){function n(){}return n}();function n8(){return this.getMsfpc()}function r8(){return this.getAnid()}var i8=function(){function n(e,t,r){var i;an(n,this,function(a){c(e),a.getMsfpc=function(){return Sd(i,"MSFPC")},a.getAnid=function(){return Sd(i,"ANON").slice(0,34)};function c(u){var d=vr(u,function(){i=t&&t.getCookieMgr();var f=u||{};f.serviceName&&(a.serviceName=f.serviceName)});r&&r.add(d)}})}return n._staticInit=function(){var e=n.prototype;ln(e,"msfpc",{g:n8}),ln(e,"anid",{g:r8})}(),n}(),TU=function(){function n(){var e=new Date().getTimezoneOffset(),t=e%60,r=(e-t)/60,i="+";r>0&&(i="-"),r=Math.abs(r),t=Math.abs(t),this.tz=i+(r<10?"0"+r:r.toString())+":"+(t<10?"0"+t:t.toString())}return n}(),Ja={WIN:/(windows|win32)/i,WINRT:/ arm;/i,WINPHONE:/windows\sphone\s\d+\.\d+/i,OSX:/(macintosh|mac os x)/i,IOS:/(ipad|iphone|ipod)(?=.*like mac os x)/i,LINUX:/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,ANDROID:/android/i,CROS:/CrOS/i},zP={"5.1":"XP","6.0":"Vista","6.1":"7","6.2":"8","6.3":"8.1","10.0":"10"},o8="([\\d,.]+)",AU="([\\d,_,.]+)",nh="Unknown",HP=[{r:Ja.WINPHONE,os:"Windows Phone"},{r:Ja.WINRT,os:"Windows RT"},{r:Ja.WIN,os:"Windows"},{r:Ja.IOS,os:"iOS"},{r:Ja.ANDROID,os:"Android"},{r:Ja.LINUX,os:"Linux"},{r:Ja.CROS,os:"Chrome OS"},{s:"x11",os:"Unix"},{s:"blackberry",os:"BlackBerry"},{s:"symbian",os:"Symbian"},{s:"nokia",os:"Nokia"},{r:Ja.OSX,os:"Mac OS X"}];function a8(n){for(var e=0;e<HP.length;e++){var t=HP[e];if(t.r&&n.match(t.r))return t.os;if(t.s&&n.indexOf(t.s)!==-1)return t.os}return nh}function s8(n,e){return e==="Windows"?FP(n,"Windows NT"):e==="Android"?FP(n,e):e==="Mac OS X"?c8(n):e==="iOS"?l8(n):nh}function FP(n,e){var t=n.match(new RegExp(e+" "+o8));return t?zP[t[1]]?zP[t[1]]:t[1]:nh}function c8(n){var e=n.match(new RegExp("Mac OS X "+AU));if(e){var t=e[1].replace(/_/g,".");if(t){var r=wU(t);if(r){var i=t.split(r);return i[0]}else return t}}return nh}function l8(n){var e=n.match(new RegExp("OS "+AU));if(e){var t=e[1].replace(/_/g,".");if(t){var r=wU(t);if(r){var i=t.split(r);return i[0]}else return t}}return nh}function wU(n){return n.indexOf(".")>-1?".":n.indexOf("_")>-1?"_":null}var u8=function(){function n(e,t){var r=this,i,a=null,c=null,u=null,d=null,f=function(b){u=b},p=function(b){d=b},g=function(){return u||a},v=function(){return d||c},y=vr(e,function(){if(i=e||{},i.populateOperatingSystemInfo){var b=Lo()||{},C=e.userAgent||b.userAgent||"",E=(e.userAgentData||{}).platform||(b.userAgentData||{}).platform;if(C){var S=a8(C.toLowerCase());a=S,c=s8(C,S)}(!a||a===nh)&&ar(E)&&(a=E)}});t&&t.add(y),ln(r,"name",{s:f,g}),ln(r,"ver",{s:p,g:v})}return n}(),sT="MicrosoftApplicationsTelemetryDeviceId";function d8(n,e,t,r){e?e.setProperty(t,r):n.set(t,r,31536e3)}function h8(n,e,t){return e?e.getProperty(t)||"":Sd(n,t)}var f8=function(){function n(e,t,r){var i=0,a;an(n,this,function(c){c.seq=i,c.epoch=ep(!1).toString(),c.getSequenceId=function(){return++i};var u=vr(e,function(d){a=t&&t.getCookieMgr();var f=d.cfg,p=f.propertyStorageOverride,g=a.isEnabled();if(g||p){var v=h8(a,p,sT);v||(v=QL()),d8(a,p,sT,v),c.installId=v}else a.purge(sT)});r&&r.add(u)})}return n.__ieDyn=1,n}(),p8=function(){function n(e,t,r,i,a){var c=this;c.traceId=t||RA();var u=vr(e,function(){var d=e;if(d.enableDistributedTracing&&!r&&(r=RA().substring(0,16)),c.parentId=c.parentId||r,d.enableApplicationInsightsTrace&&!i){var f=ab();f&&f.pathname&&(i=f.pathname)}c.name=c.name||i});a&&a.add(u)}return n}(),RU="setLocalId";function g8(){return this.getLocalId()}function m8(n){this[RU](n)}var v8=function(){function n(e,t,r,i){var a,c,u;an(n,this,function(d){if(g(t),typeof navigator<"u"){var f=navigator;d.locale=f.userLanguage||f.language}d.getLocalId=function(){return c||p()},d[RU]=function(v){c=v};function p(){if(!a.hashIdentifiers&&!a.dropIdentifiers){var v=Sd(u,"MUID");v&&(c="t:"+v)}return c}function g(v){var y=vr(v,function(){if(u=r&&r.getCookieMgr(),a=v,c=null,u&&u.isEnabled()&&(p(),a.enableApplicationInsightsUser)){var b=Sd(u,n.userCookieName);if(b){var C=b.split(n.cookieSeparator);C.length>0&&(d.id=C[0])}if(!d.id){d.id=d0(e&&!Vt(e.idLength)?e.idLength:22);var E=jy(new Date);d.accountAcquisitionDate=E;var S=[d.id,E],w=a.cookieDomain?a.cookieDomain:void 0;u.set(n.userCookieName,S.join(n.cookieSeparator),31536e3,w)}}});i&&i.add(y)}})}return n.cookieSeparator="|",n.userCookieName="ai_user",n._staticInit=function(){ln(n.prototype,"localId",{g:g8,s:m8})}(),n}(),y8=1048576,_8=2097152,b8=4194304,E8=function(){function n(e,t){var r=this;r.popSample=100;var i=vr(e,function(){r.eventFlags=0,e.hashIdentifiers&&(r.eventFlags=r.eventFlags|y8),e.dropIdentifiers&&(r.eventFlags=r.eventFlags|_8),e.scrubIpOnly&&(r.eventFlags=r.eventFlags|b8)});t&&t.add(i)}return n}(),BP=["Required","Analytics","SocialMedia","Advertising"],n_="([\\d,.]+)",kU="Unknown",IU="Edg/",OU="EdgiOS/",cT=[{ua:"OPR/",b:"Opera"},{ua:"PhantomJS",b:"PhantomJS"},{ua:"Edge",b:"Edge"},{ua:IU,b:"Edge"},{ua:OU,b:"Edge"},{ua:"Electron",b:"Electron"},{ua:"Chrome",b:"Chrome"},{ua:"Trident",b:"MSIE"},{ua:"MSIE ",b:"MSIE"},{ua:"Firefox",b:"Firefox"},{ua:"Safari",b:"Safari"},{ua:"SkypeShell",b:"SkypeShell"}],lT=[{br:"Microsoft Edge",b:"Edge"},{br:"Google Chrome",b:"Chrome"},{br:"Opera",b:"Opera"}];function MA(n,e){return e.indexOf(n)>-1}function C8(n,e){for(var t=0;t<e.length;t++)if(n==e[t].brand)return e[t].version;return null}function S8(n){if(n)for(var e=0;e<cT.length;e++){var t=cT[e].ua;if(MA(t,n))return cT[e].b}return kU}function T8(n,e){return e==="MSIE"?A8(n):w8(e,n)}function A8(n){var e=n.match(new RegExp("MSIE "+n_));if(e)return e[1];var t=n.match(new RegExp("rv:"+n_));if(t)return t[1]}function w8(n,e){n==="Safari"?n="Version":n==="Edge"&&(MA(IU,e)?n="Edg":MA(OU,e)&&(n="EdgiOS"));var t=e.match(new RegExp(n+"/"+n_));return t||n==="Opera"&&(t=e.match(new RegExp("OPR/"+n_)),t)?t[1]:kU}function R8(){var n={h:0,w:0},e=Fs();return e&&e.screen&&(n.h=screen.height,n.w=screen.width),n}function k8(){return this.getUserConsent()}var I8=function(){function n(e,t,r){GL(t);var i=e||{},a=null,c=null,u=null,d=null,f=null,p=null,g=null;an(n,this,function(v){M(e);var y=ab();if(y){var b=y.hostname;b&&(v.domain=y.protocol==="file:"?"local":b)}var C=R8();v.screenRes=C.w+"X"+C.h,v.getUserConsent=function(){return!1},v.getUserConsentDetails=function(){var N=null;try{var K=i.callback;if(K&&K.userConsentDetails){var F=K.userConsentDetails();if(F){i.disableConsentDetailsSanitize?N=F:N={};for(var oe=0;oe<BP.length;oe++){var ue=BP[oe];N[ue]=F[ue]||!1}}}return g!==null&&(N=N||{},N.GPC_DataSharingOptIn=!!g),N?JSON.stringify(N):null}catch{}};function E(N,K){if(vt(K))try{for(var F=0;F<lT.length;F++){var oe=C8(lT[F].br,K);if(oe){f=lT[F].b,p=oe;return}}}catch{}if(N){var ue=S8(N);f=ue,p=T8(N,ue)}}function S(N){u=N}function w(N){d=N}function A(){return u||f}function k(){return d||p}var O=function(){return g},D=function(N){g=Os(N)?N:null,i.gpcDataSharingOptIn=g};function M(N){var K=vr(N,function(){if(i=N,i.populateBrowserInfo){var F=i.userAgent,oe=(i.userAgentData||{}).brands;if(F!==a||oe!==c){if(!F||!oe||oe.length===0){var ue=Lo();ue&&(F=F||ue.userAgent||"",oe=oe||(ue.userAgentData||{}).brands)}E(F,oe),a=F,c=oe}}g=Os(i.gpcDataSharingOptIn)?i.gpcDataSharingOptIn:null});r&&r.add(K)}X1(v,{userConsent:{g:v.getUserConsent},browser:{s:S,g:A},browserVer:{s:w,g:k},gpcDataSharingOptIn:{g:O,s:D}})})}return n._staticInit=function(){ln(n.prototype,"userConsent",{g:k8})}(),n}();function Xr(n,e,t,r,i){var a=e.ext[ei[n]];if(a)try{en(r,function(c,u){if(ar(u)||va(u)||Os(u)){var d=a[t[c]];!i&&(d||ar(d)||va(d)||Os(d))&&(u=d),a[t[c]]=u}})}catch{}return a}var NU=function(){function n(e,t,r,i){an(n,this,function(a){a.app=new t8(t,r,i),a.cloud=new CU,a.user=new v8(e,t,r,i),a.os=new u8(t,i),a.web=new I8(t,r,i);var c=new f8(e,r,i),u=new i8(t,r,i),d=new E8(t,i);a.loc=new TU,a.device=new SU;var f=new X5(r,t,i);a.session=new C0;var p=void 0,g=O8(new p8(t,p,p,p,i),b()),v=!(t||{}).eventContainExtFields;function y(){var C=a.session;if(C&&ar(C.customId))return C.customId;f.update();var E=f.automaticSession;if(E){var S=E.getId();S&&ar(S)&&(C.automaticId=S)}return C.automaticId}a.getTraceCtx=function(){return g},a.getSessionId=y,a.applyApplicationContext=function(C){var E,S=a.app;Xr(4,C,D5,(E={},E[0]=S.id,E[1]=S.ver,E[2]=S.name,E[3]=S.locale,E[4]=S.getExpId(),E[5]=S.env,E),v)},a.applyUserContext=function(C){var E,S=a.user;Xr(0,C,U5,(E={},E[1]=S.getLocalId(),E[0]=S.locale,E[2]=S.id,E),v)},a.applyWebContext=function(C){var E,S=a.web;Xr(3,C,L5,(E={},E[0]=S.domain,E[1]=S.browser,E[2]=S.browserVer,E[3]=S.screenRes,E[5]=S.getUserConsentDetails(),E[4]=!1,E),v)},a.applyOsContext=function(C){var E,S=a.os;Xr(5,C,z5,(E={},E[0]=S.name,E[1]=S.ver,E),v)},a.applySdkContext=function(C){var E;Xr(6,C,H5,(E={},E[2]=c.installId,E[1]=c.getSequenceId(),E[3]=c.epoch,E),v)},a.applyIntWebContext=function(C){var E;Xr(7,C,F5,(E={},E[0]=u.getMsfpc(),E[1]=u.getAnid(),E[2]=u.serviceName,E),v)},a.applyUtcContext=function(C){var E,S=(E={},E[0]=d.popSample,E);d.eventFlags>0&&(S[1]=d.eventFlags),Xr(8,C,B5,S,v)},a.applyLocContext=function(C){var E;Xr(9,C,K5,(E={},E[0]=a.loc.tz,E),v)},a.applySessionContext=function(C){var E;Xr(4,C,q5,(E={},E[0]=y(),E),v)},a.applyDeviceContext=function(C){var E,S=a.device;Xr(1,C,$5,(E={},E[0]=S.localId,E[2]=S.make,E[3]=S.model,E[1]=S.deviceClass,E),v)},a.applyCloudContext=function(C){var E,S=a.cloud;Xr(10,C,j5,(E={},E[0]=S.role,E[1]=S.roleInstance,E[2]=S.roleVer,E),v)},a.applyAITraceContext=function(C){var E;if(t.enableApplicationInsightsTrace){var S=b();S&&Xr(2,C,G5,(E={},E[0]=S.getTraceId(),E[1]=S.getName(),E[2]=S.getSpanId(),E),!1)}},a.applyDistributedTraceContext=function(C){var E,S=b();if(S){var w=(E={},E[0]=S.getTraceId(),E[1]=S.getSpanId(),E),A=S.getTraceFlags();Yt(A)||(w[2]=A),Xr(11,C,V5,w,!1)}};function b(){var C=g;return r&&r.getTraceCtx&&(C=r.getTraceCtx(!1)||g),C}})}return n.__ieDyn=1,n}();function O8(n,e){var t=n||{};return{getName:function(){return t.name},setName:function(r){e&&e.setName(r),t.name=r},getTraceId:function(){return t.traceId},setTraceId:function(r){e&&e.setTraceId(r),WL(r)&&(t.traceId=r)},getSpanId:function(){return t.parentId},setSpanId:function(r){e&&e.setSpanId(r),XL(r)&&(t.parentId=r)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(r){e&&e.setTraceFlags(r),t.traceFlags=r}}}var Sv,N8=[ei[4],ei[0],ei[3],ei[5],ei[6],ei[7],ei[8],ei[9],ei[1],ei[2],ei[11],ei[10]],M8=Wd({populateBrowserInfo:!1,populateOperatingSystemInfo:!1,userAgent:ac(),userAgentData:SA({brands:Sv,mobile:Sv,platform:Sv}),userConsentCookieName:ac(),userConsented:!1,serviceName:ac(),env:ac(),expId:ac(),sessionRenewalMs:18e5,sessionExpirationMs:864e5,sessionAsGuid:null,cookieDomain:ac(),namePrefix:ac(),enableApplicationInsightsTrace:!1,enableApplicationInsightsUser:!1,hashIdentifiers:!1,dropIdentifiers:!1,scrubIpOnly:!1,callback:SA({userConsentDetails:null}),gpcDataSharingOptIn:Sv,idLength:22,enableDistributedTracing:!1,eventContainExtFields:!1}),MU=function(n){Ng(e,n);function e(){var t=n.call(this)||this;t.identifier="SystemPropertiesCollector",t.priority=3,t.version="4.3.3";var r,i,a;return an(e,t,function(c,u){d(),c.initialize=function(g,v,y){u.initialize(g,v,y),f(g)},c.processTelemetry=function(g,v){OA(g,c.identifier),v=c._getTelCtx(v);var y=g.ext=g.ext?g.ext:{};g.data=g.data?g.data:{},Ue(N8,function(b){y[b]=y[b]||{}}),r&&(r.applyUtcContext(g),r.applyApplicationContext(g),r.applyUserContext(g),r.applyWebContext(g),r.applyOsContext(g),r.applySdkContext(g),r.applyIntWebContext(g),r.applyLocContext(g),r.applySessionContext(g),r.applyDeviceContext(g),a.enableApplicationInsightsTrace&&r.applyAITraceContext(g),a.enableDistributedTracing&&r.applyDistributedTraceContext(g),r.applyCloudContext(g)),Ue(da(y),function(b){da(y[b]).length===0&&delete y[b]}),p(i,g.data),c.processNext(g,v)},c.getPropertiesContext=function(){return r},c.setProperty=function(g,v){i[g]=v},c._doTeardown=function(g,v){var y=(g||{}).core();if(y&&y.getTraceCtx&&r){var b=y.getTraceCtx(!1);b&&b===r.getTraceCtx()&&y.setTraceCtx(null)}d()},c._getDbgPlgTargets=function(){return[a]};function d(){r=null,i={}}function f(g){var v=c.identifier,y=c.core;c._addHook(vr(g,function(){var b=Zc(null,g,y);a=b.getExtCfg(v,M8)})),r=new NU(g,a,y,c._unloadHooks),y&&y.setTraceCtx&&y.setTraceCtx(r.getTraceCtx())}function p(g,v){g&&en(g,function(y,b){v[y]||(v[y]=b)})}}),t}return e.__ieDyn=1,e}(cb),Cf="REAL_TIME",PU="NEAR_REAL_TIME",xU="BEST_EFFORT",is="",PA="drop",P8="send",KP="requeue",x8="rspFail",D8="oth",qP="no-cache, no-store",xA="application/x-json-stream",Tv="cache-control",Sf="content-type",L8="kill-tokens",U8="kill-duration",z8="time-delta-millis",DA="client-version",DU="client-id",LA="time-delta-to-apply-millis",UA="upload-time",zA="apikey",HA="AuthMsaDeviceTicket",$P="WebAuthToken",jP="AuthXToken",H8="NoResponseBody",r_="msfpc",GP="trace",uT="user",FA="allowRequestSending",LU="firstRequestSent",UU="shouldAddClockSkewHeaders",zU="getClockSkewHeaderValue",BA="setClockSkew",ut="length",Lc="concat",yo="iKey",Kn="count",vc="events",Tr="push",Vu="split",ub="splice",KA="toLowerCase",Tu="hdrs",qA="useHdrs",Lf="initialize",HU="setTimeoutOverride",FU="clearTimeoutOverride",F8="payloadPreprocessor",VP="overrideEndpointUrl",YP="avoidOptions",B8="disableEventTimings",K8="stringifyObjects",dT="enableCompoundKey",QP="disableXhrSync",ZP="disableFetchKeepAlive",q8="addNoResponse",$8="excludeCsMetaData",WP="useSendBeacon",XP="fetchCredentials",JP="alwaysUseXhrOverride",j8="unloadTransports",BU="serializeOfflineEvt",KU="getOfflineRequestDetails",hT="createPayload",$A="createOneDSPayload",ex="payloadBlob",so="headers",hf="_thePayload",tx="urlString",zr="batches",Jr="sendType",jA="addHeader",GA="canSendRequest",i_="sendQueuedRequests",qU="isCompletelyIdle",VA="setUnloading",G8="isTenantKilled",ny="resume",$U="sendSynchronousBatch",fT="_transport",o_="getWParam",nx="isBeacon",Av="timings",pT="isTeardown",gT="isSync",ry="data",V8="timeout",mT="_sendReason",jU="setKillSwitchTenants",GU="_backOffTransmission",wv="identifier",Y8="disableOptimizeObj",Q8="ignoreMc1Ms0CookieProcessing",rx="eventsLimitInMem",ix="autoFlushEventsLimit",Z8="disableAutoBatchFlushLimit",W8="overrideInstrumentationKey",X8="disableTelemetry",vT="baseData",Rv="sendAttempt",cc="latency",pu="sync";function VU(n){var e=(n.ext||{}).intweb;return e&&aa(e[r_])?e[r_]:null}function ox(n){for(var e=null,t=0;e===null&&t<n[ut];t++)e=VU(n[t]);return e}var op=function(){function n(e,t){var r=t?[][Lc](t):[],i=this,a=ox(r);i[yo]=function(){return e},i.Msfpc=function(){return a||is},i[Kn]=function(){return r[ut]},i[vc]=function(){return r},i.addEvent=function(c){return c?(r[Tr](c),a||(a=VU(c)),!0):!1},i[Vu]=function(c,u){var d;if(c<r[ut]){var f=r[ut]-c;Yt(u)||(f=u<f?u:f),d=r[ub](c,f),a=ox(r)}return new n(e,d)}}return n.create=function(e,t){return new n(e,t)},n}(),J8=function(){function n(){var e=!0,t=!0,r=!0,i="use-collector-delta",a=!1;an(n,this,function(c){c[FA]=function(){return e},c[LU]=function(){r&&(r=!1,a||(e=!1))},c[UU]=function(){return t},c[zU]=function(){return i},c[BA]=function(u){a||(u?(i=u,t=!0,a=!0):t=!1,e=!0)}})}return n.__ieDyn=1,n}(),eW=1e3,tW=function(){function n(){var e={};function t(r){var i=[];return r&&Ue(r,function(a){i[Tr](Br(a))}),i}an(n,this,function(r){r[jU]=function(i,a){if(i&&a)try{var c=t(i[Vu](","));if(a==="this-request-only")return c;for(var u=parseInt(a,10)*eW,d=0;d<c[ut];++d)e[c[d]]=Ms()+u}catch{return[]}return[]},r[G8]=function(i){var a=e,c=Br(i);return a[c]!==void 0&&a[c]>Ms()?!0:(delete a[c],!1)}})}return n.__ieDyn=1,n}(),nW=.8,rW=1.2,ax=3e3,iW=6e5;function oW(n){return!(n>=300&&n<500&&n!=429||n==501||n==505)}function YU(n){var e=0,t=ax*nW,r=ax*rW,i=Math.floor(Math.random()*(r-t))+t;return e=Math.pow(2,n)*i,Math.min(e,iW)}var aW=20,sW=3984588,QU=65e3,ZU=2e6,cW=Math.min(ZU,QU),sx="metadata",kv="f",lW=/\./,uW=function(){function n(e,t,r,i,a,c){var u="data",d="baseData",f="ext",p=!!i,g=!0,v=t,y={},b=!!c,C=a||mU;an(n,this,function(E){E.createPayload=function(A,k,O,D,M,N){return{apiKeys:[],payloadBlob:is,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:A,isTeardown:k,isSync:O,isBeacon:D,sendType:N,sendReason:M}},E.appendPayload=function(A,k,O){var D=A&&k&&!A.overflow;return D&&Fr(e,function(){return"Serializer:appendPayload"},function(){for(var M=k.events(),N=A.payloadBlob,K=A.numEvents,F=!1,oe=[],ue=[],me=A.isBeacon,X=me?QU:sW,he=me?cW:ZU,z=0,L=0;z<M.length;){var V=M[z];if(V){if(K>=O){A.overflow=k.split(z);break}var _e=E.getEventBlob(V);if(_e&&_e.length<=he){var I=_e.length,W=N.length;if(W+I>X){A.overflow=k.split(z);break}N&&(N+=`
`),N+=_e,L++,L>aW&&(bu(N,0,1),L=0),F=!0,K++}else _e?oe.push(V):ue.push(V),M.splice(z,1),z--}z++}if(oe.length>0&&A.sizeExceed.push(op.create(k.iKey(),oe)),ue.length>0&&A.failedEvts.push(op.create(k.iKey(),ue)),F){A.batches.push(k),A.payloadBlob=N,A.numEvents=K;var Q=k.iKey();Pi(A.apiKeys,Q)===-1&&A.apiKeys.push(Q)}},function(){return{payload:A,theBatch:{iKey:k.iKey(),evts:k.events()},max:O}}),D},E.getEventBlob=function(A){try{return Fr(e,function(){return"Serializer.getEventBlob"},function(){var k={};k.name=A.name,k.time=A.time,k.ver=A.ver,k.iKey="o:"+g5(A.iKey);var O={},D;b||(D=function(F,oe,ue){dW(C,O,F,oe,ue)});var M=A[f];M&&(k[f]=O,en(M,function(F,oe){var ue=O[F]={};w(oe,ue,"ext."+F,!0,null,null,!0)}));var N=k[u]={};N.baseType=A.baseType;var K=N[d]={};return w(A.baseData,K,d,!1,[d],D,g),w(A.data,N,u,!1,[],D,g),JSON.stringify(k)},function(){return{item:A}})}catch{return null}};function S(A,k){var O=y[A];return O===void 0&&(A.length>=7&&(O=LM(A,"ext.metadata")||LM(A,"ext.web")),y[A]=O),O}function w(A,k,O,D,M,N,K){en(A,function(F,oe){var ue=null;if(oe||aa(oe)){var me=O,X=F,he=M,z=k;if(p&&!D&&lW.test(F)){var L=F.split("."),V=L.length;if(V>1){he&&(he=he.slice());for(var _e=0;_e<V-1;_e++){var I=L[_e];z=z[I]=z[I]||{},me+="."+I,he&&he.push(I)}X=L[V-1]}}var W=D&&S(me);if(!W&&v&&v.handleField(me,X)?ue=v.value(me,X,oe,r):ue=v5(X,oe,r),ue){var Q=ue.value;if(z[X]=Q,N&&N(he,X,ue),typeof Q=="object"&&!vt(Q)){var ce=he;ce&&(ce=ce.slice(),ce.push(X)),w(oe,Q,me+"."+X,D,ce,N)}}}})}})}return n.__ieDyn=1,n}();function dW(n,e,t,r,i){if(i&&e){var a=n(i.value,i.kind,i.propertyType);if(a>-1){var c=e[sx];c||(c=e[sx]={f:{}});var u=c[kv];if(u||(u=c[kv]={}),t)for(var d=0;d<t.length;d++){var f=t[d];u[f]||(u[f]={f:{}});var p=u[f][kv];p||(p=u[f][kv]={}),u=p}u=u[r]={},vt(i.value)?u.a={t:a}:u.t=a}}}function a_(n,e){return{set:function(t,r){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];return X9([n,e],t,r,i)}}}var lc,yT="sendAttempt",hW="&"+H8+"=true",fW="?cors=true&"+Sf[KA]()+"="+xA,pW=(lc={},lc[1]=KP,lc[100]=KP,lc[200]="sent",lc[8004]=PA,lc[8003]=PA,lc),YA={},QA={};function _l(n,e,t){YA[n]=e,t!==!1&&(QA[e]=n)}_l(HA,HA,!1);_l(DA,DA);_l(DU,"Client-Id");_l(zA,zA);_l(LA,LA);_l(UA,UA);_l(jP,jP);function Iv(n,e){var t=!1;if(n&&e){var r=da(n);if(r&&r[ut]>0)for(var i=e[KA](),a=0;a<r[ut];a++){var c=r[a];if(c&&Mi(e,c)&&c[KA]()===i){t=!0;break}}}return t}function gu(n,e,t,r){e&&t&&t[ut]>0&&(r&&YA[e]?(n[Tu][YA[e]]=t,n[qA]=!0):n.url+="&"+e+"="+t)}function gW(n,e,t){for(var r=0;r<n[ut];r++)if(n[r].name===e){n[r].value=t;return}n[Tr]({name:e,value:t})}function mW(n,e){for(var t=0;t<n[ut];t++)if(n[t].name===e){n[ub](t,1);return}}var vW=function(){function n(e,t,r,i){var a,c,u,d,f=!1,p,g,v,y,b,C,E,S,w,A,k,O,D,M,N,K,F,oe,ue,me,X,he,z,L,V,_e,I,W;an(n,this,function(Q){ot();var ce=!0;Q[Lf]=function(B,pe,ye){L||(b=pe,O=pe.getCookieMgr(),g=ye,v=g.diagLog(),_s(me,vr(B,function(we){var He,We=we.cfg,ke=we.cfg.extensionConfig[ye.identifier];V=a_(ke[HU],ke[FU]),aa(We.anonCookieName)?gW(E,"anoncknm",We.anonCookieName):mW(E,"anoncknm"),X=ke[F8],he=ke.payloadListener;var q=ke.httpXHROverride,ne=ke[VP]?ke[VP]:We.endpointUrl;a=ne+fW,M=Vt(ke[YP])?!0:!ke[YP],k=!ke[B8];var de=ke.valueSanitizer,Se=ke[K8],Te=!!We[dT];Vt(ke[dT])||(Te=!!ke[dT]),N=ke.xhrTimeout,K=!!ke[QP],F=!!ke[ZP],ue=ke[q8]!==!1,_e=!!ke[$8],pe.getPlugin("LocalStorage")&&(F=!0),f=!Vy(),A=new uW(b,de,Se,Te,mU,_e),Yt(ke[WP])||(f=!!ke[WP]),ke[XP]&&(W=ke[XP]);var qe=Pe();I?I.SetConfig(qe):(I=new WZ,I[Lf](qe,v));var et=q,Zt=ke[JP]?q:null,qt=ke[JP]?q:null,Ir=[3,2];if(!q){C=!1;var Or=[];Vy()?(Or=[2,1],Ir=[2,1,3]):Or=[1,2,3],Or=rP(Or,ke.transports),q=ve(Or,!1),q||Mf(v,"No available transport to send events"),et=ve(Or,!0)}Zt||(Ir=rP(Ir,ke[j8]),Zt=ve(Ir,!0)),oe=!C&&(f&&u0()||!F&&kL(!0)),y=(He={},He[0]=q,He[1]=et||ve([1,2,3],!0),He[2]=Zt||et||ve([1],!0),He[3]=qt||ve([2,3],!0)||et||ve([1],!0),He)})),L=!0)},Q.addResponseHandler=function(B){return z[Tr](B),{rm:function(){var pe=z.indexOf(B);pe>=0&&z[ub](pe,1)}}},Q[BU]=function(B){try{if(A)return A.getEventBlob(B)}catch{}return is},Q[KU]=function(){try{var B=A&&A[hT](0,!1,!1,!1,1,0);return De(B,M)}catch{}return null},Q[$A]=function(B,pe){try{var ye=[];Ue(B,function(q){pe&&(q=Su(q));var ne=op.create(q[yo],[q]);ye[Tr](ne)});for(var we=null;ye[ut]>0&&A;){var He=ye.shift();He&&He[Kn]()>0&&(we=we||A[hT](0,!1,!1,!1,1,0),A.appendPayload(we,He,e))}var We=De(we,M),ke={data:we[ex],urlString:We.url,headers:We[Tu],timeout:N,disableXhrSync:K,disableFetchKeepAlive:F};return M&&(Iv(ke[so],Tv)||(ke[so][Tv]=qP),Iv(ke[so],Sf)||(ke[so][Sf]=xA)),ke}catch{}return null};function ve(B,pe){try{return I&&I.getSenderInst(B,pe)}catch{}return null}Q._getDbgPlgTargets=function(){return[y[0],c,A,y,Pe(),a]};function Pe(){try{var B={xdrOnComplete:Re,fetchOnComplete:nt,xhrOnComplete:Ot,beaconOnRetry:Cn},pe={enableSendPromise:!1,isOneDs:!0,disableCredentials:!ce,fetchCredentials:W,disableXhr:!1,disableBeacon:!f,disableBeaconSync:!f,disableFetchKeepAlive:F,timeWrapper:V,addNoResponse:ue,senderOnCompleteCallBack:B};return pe}catch{}return null}function Re(B,pe,ye){var we=Ed(B);sn(pe,200,{},we),sr(we)}function ot(){var B;a=null,c=new tW,u=!1,d=new J8,f=!1,p=0,g=null,v=null,y=null,b=null,C=!0,E=[],S={},w=[],A=null,k=!1,O=null,D=!1,M=!1,N=B,K=B,F=B,oe=B,ue=B,me=[],X=B,he=B,z=[],L=!1,V=a_(),_e=!1,I=null}function nt(B,pe,ye,we){var He=function(q,ne,de){sn(pe,q,ne,de),sr(de)},We={},ke=B[so];ke&&ke.forEach(function(q,ne){We[ne]=q}),He(B.status,We,ye||is)}function Ot(B,pe,ye){var we=Ed(B);sn(pe,B.status,Wv(B,!0),we),sr(we)}function sn(B,pe,ye,we){try{B(pe,ye,we)}catch(He){Xt(v,2,518,Rt(He))}}function Cn(B,pe,ye){var we=B,He=200,We=we[hf],ke=B[tx]+(ue?hW:is);try{var q=Lo();if(We){var ne=!!b.getPlugin("LocalStorage"),de=[],Se=[];Ue(We[zr],function(Te){if(de&&Te&&Te[Kn]()>0)for(var qe=Te[vc](),et=0;et<qe[ut];et++)if(q.sendBeacon(ke,A.getEventBlob(qe[et])))Se[Tr](Te[et]);else{de[Tr](Te[Vu](et));break}else de[Tr](Te[Vu](0))}),Se[ut]>0&&(We.sentEvts=Se),ne||Kt(de,8003,We[Jr],!0)}else He=0}catch(Te){Mf(v,"Failed to send telemetry using sendBeacon API. Ex:"+Rt(Te)),He=0}finally{sn(pe,He,{},is)}}function gt(B){return B===2||B===3}function yt(B){return D&&gt(B)&&(B=2),B}Q[jA]=function(B,pe){S[B]=pe},Q.removeHeader=function(B){delete S[B]},Q[GA]=function(){return Nt()&&d[FA]()},Q[i_]=function(B,pe){Vt(B)&&(B=0),D&&(B=yt(B),pe=2),Ce(w,B,0)&&Oe(J(),0,!1,B,pe||0)},Q[qU]=function(){return!u&&p===0&&w[ut]===0},Q[VA]=function(B){D=B},Q.addBatch=function(B){if(B&&B[Kn]()>0){if(c.isTenantKilled(B[yo]()))return!1;w[Tr](B)}return!0},Q.teardown=function(){w[ut]>0&&Oe(J(),0,!0,2,2),Ue(me,function(B){B&&B.rm&&B.rm()}),me=[]},Q.pause=function(){u=!0},Q[ny]=function(){u=!1,Q[i_](0,4)},Q[$U]=function(B,pe,ye){B&&B[Kn]()>0&&(Yt(pe)&&(pe=1),D&&(pe=yt(pe),ye=2),Oe([B],0,!1,pe,ye||0))};function Nt(){return!u&&p<t}function J(){var B=w;return w=[],B}function Ce(B,pe,ye){var we=!1;return B&&B[ut]>0&&!u&&y[pe]&&A&&(we=pe!==0||Nt()&&(ye>0||d[FA]())),we}function Ae(B){var pe={};return B&&Ue(B,function(ye,we){pe[we]={iKey:ye[yo](),evts:ye[vc]()}}),pe}function Oe(B,pe,ye,we,He){if(!(!B||B[ut]===0)){if(u){Kt(B,1,we);return}we=yt(we);try{var We=B,ke=we!==0;Fr(b,function(){return"HttpManager:_sendBatches"},function(q){q&&(B=B.slice(0));for(var ne=[],de=null,Se=uo(),Te=y[we]||(ke?y[1]:y[0]),qe=Te&&Te[fT],et=oe&&(D||gt(we)||qe===3||Te._isSync&&qe===2);Ce(B,we,pe);){var Zt=B.shift();Zt&&Zt[Kn]()>0&&(c.isTenantKilled(Zt[yo]())?ne[Tr](Zt):(de=de||A[hT](pe,ye,ke,et,He,we),A.appendPayload(de,Zt,e)?de.overflow!==null&&(B=[de.overflow][Lc](B),de.overflow=null,Je(de,Se,uo(),He),Se=uo(),de=null):(Je(de,Se,uo(),He),Se=uo(),B=[Zt][Lc](B),de=null)))}de&&Je(de,Se,uo(),He),B[ut]>0&&(w=B[Lc](w)),Kt(ne,8004,we)},function(){return{batches:Ae(We),retryCount:pe,isTeardown:ye,isSynchronous:ke,sendReason:He,useSendBeacon:gt(we),sendType:we}},!ke)}catch(q){Xt(v,2,48,"Unexpected Exception sending batch: "+Rt(q))}}}function De(B,pe){var ye={url:a,hdrs:{},useHdrs:!1};pe?(ye[Tu]=t_(ye[Tu],S),ye.useHdrs=da(ye.hdrs)[ut]>0):en(S,function(q,ne){QA[q]?gu(ye,QA[q],ne,!1):(ye[Tu][q]=ne,ye[qA]=!0)}),gu(ye,DU,"NO_AUTH",pe),gu(ye,DA,fU,pe);var we=is;Ue(B.apiKeys,function(q){we[ut]>0&&(we+=","),we+=q}),gu(ye,zA,we,pe),gu(ye,UA,Ms().toString(),pe);var He=dn(B);if(aa(He)&&(ye.url+="&ext.intweb.msfpc="+He),d[UU]()&&gu(ye,LA,d[zU](),pe),b[o_]){var We=b[o_]();We>=0&&(ye.url+="&w="+We)}for(var ke=0;ke<E[ut];ke++)ye.url+="&"+E[ke].name+"="+E[ke].value;return ye}function Xe(B,pe,ye){B[pe]=B[pe]||{},B[pe][g.identifier]=ye}function Je(B,pe,ye,we){if(B&&B.payloadBlob&&B.payloadBlob[ut]>0){var He=!!X,We=y[B.sendType];!gt(B[Jr])&&B[nx]&&B.sendReason===2&&(We=y[2]||y[3]||We);var ke=M;(B.isBeacon||We[fT]===3)&&(ke=!1);var q=De(B,ke);ke=ke||q[qA];var ne=uo();Fr(b,function(){return"HttpManager:_doPayloadSend"},function(){for(var de=0;de<B.batches[ut];de++)for(var Se=B[zr][de],Te=Se[vc](),qe=0;qe<Te[ut];qe++){var et=Te[qe];if(k){var Zt=et[Av]=et[Av]||{};Xe(Zt,"sendEventStart",ne),Xe(Zt,"serializationStart",pe),Xe(Zt,"serializationCompleted",ye)}et[yT]>0?et[yT]++:et[yT]=1}Kt(B[zr],1e3+(we||0),B[Jr],!0);var qt={data:B[ex],urlString:q.url,headers:q[Tu],_thePayload:B,_sendReason:we,timeout:N,disableXhrSync:K,disableFetchKeepAlive:F};ke&&(Iv(qt[so],Tv)||(qt[so][Tv]=qP),Iv(qt[so],Sf)||(qt[so][Sf]=xA));var Ir=null;We&&(Ir=function(Or){d[LU]();var Ks=function(On,cr){Be(On,cr,B,we)},Un=B[pT]||B[gT];try{We.sendPOST(Or,Ks,Un),he&&he(qt,Or,Un,B[nx])}catch(On){Mf(v,"Unexpected exception sending payload. Ex:"+Rt(On)),sn(Ks,0,{})}}),Fr(b,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Ir)if(B[Jr]===0&&p++,He&&!B.isBeacon&&We[fT]!==3){var Or={data:qt[ry],urlString:qt[tx],headers:t_({},qt[so]),timeout:qt[V8],disableXhrSync:qt[QP],disableFetchKeepAlive:qt[ZP]},Ks=!1;Fr(b,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{X(Or,function(Un){Ks=!0,!C&&!Un[hf]&&(Un[hf]=Un[hf]||qt[hf],Un[mT]=Un[mT]||qt[mT]),Ir(Un)},B.isSync||B[pT])}catch{Ks||Ir(qt)}})}else Ir(qt)})},function(){return{thePayload:B,serializationStart:pe,serializationCompleted:ye,sendReason:we}},B[gT])}B.sizeExceed&&B.sizeExceed[ut]>0&&Kt(B.sizeExceed,8003,B[Jr]),B.failedEvts&&B.failedEvts[ut]>0&&Kt(B.failedEvts,8002,B[Jr])}function kt(B,pe){k&&Ue(B,function(ye){var we=ye[Av]=ye[Av]||{};Xe(we,"sendEventCompleted",pe)})}function Be(B,pe,ye,we){var He=9e3,We=null,ke=!1,q=!1;try{var ne=!0;if(typeof B!==Kw){if(pe){d[BA](pe[z8]);var de=pe[U8]||pe["kill-duration-seconds"];Ue(c[jU](pe[L8],de),function(Te){Ue(ye[zr],function(qe){if(qe[yo]()===Te){We=We||[];var et=qe[Vu](0);ye.numEvents-=et[Kn](),We[Tr](et)}})})}if(B==200||B==204){He=200;return}(!oW(B)||ye.numEvents<=0)&&(ne=!1),He=9e3+B%1e3}if(ne){He=100;var Se=ye.retryCnt;ye[Jr]===0&&(Se<r?(ke=!0,Ln(function(){ye[Jr]===0&&p--,Oe(ye[zr],Se+1,ye[pT],D?2:ye[Jr],5)},D,YU(Se))):(q=!0,D&&(He=8001)))}}finally{ke||(d[BA](),at(ye,He,we,q)),Kt(We,8004,ye[Jr])}}function at(B,pe,ye,we){try{we&&g[GU]();var He=B[zr];pe===200&&(He=B.sentEvts||B[zr],!we&&!B[gT]&&g._clearBackOff(),Bt(He)),Kt(He,pe,B[Jr],!0)}finally{B[Jr]===0&&(p--,ye!==5&&Q.sendQueuedRequests(B[Jr],ye))}}function Bt(B){if(k){var pe=uo();Ue(B,function(ye){ye&&ye[Kn]()>0&&kt(ye[vc](),pe)})}}function Ln(B,pe,ye){pe?B():V.set(B,ye)}function dn(B){for(var pe=0;pe<B.batches[ut];pe++){var ye=B[zr][pe].Msfpc();if(ye)return encodeURIComponent(ye)}return is}function sr(B){var pe=z;try{for(var ye=0;ye<pe[ut];ye++)try{pe[ye](B)}catch(He){Xt(v,1,519,"Response handler failed: "+He)}if(B){var we=JSON.parse(B);aa(we.webResult)&&aa(we.webResult[r_])&&O.set("MSFPC",we.webResult[r_],365*86400)}}catch{}}function Kt(B,pe,ye,we){if(B&&B[ut]>0&&i){var He=i[eo(pe)];if(He){var We=ye!==0;Fr(b,function(){return"HttpManager:_sendBatchesNotification"},function(){Ln(function(){try{He.call(i,B,pe,We,ye)}catch(ke){Xt(v,1,74,"send request notification failed: "+ke)}},we||We,0)},function(){return{batches:Ae(B),reason:pe,isSync:We,sendSync:we,sendType:ye}},!We)}}}function eo(B){var pe=pW[B];return aa(pe)||(pe=D8,B>=9e3&&B<=9999?pe=x8:B>=8e3&&B<=8999?pe=PA:B>=1e3&&B<=1999&&(pe=P8)),pe}})}return n.__ieDyn=1,n}(),yW=.25,cx=500,_W=20,WU=6,XU=2,bW=4,lx=2,EW=1,ZA=1e4,uc="eventsDiscarded",ux="",Pn=void 0,CW=Wd({eventsLimitInMem:{isVal:xf,v:ZA},immediateEventLimit:{isVal:xf,v:500},autoFlushEventsLimit:{isVal:xf,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:SW,v:Pn},overrideInstrumentationKey:Pn,overrideEndpointUrl:Pn,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:Pn,clearTimeoutOverride:Pn,payloadPreprocessor:Pn,payloadListener:Pn,disableEventTimings:Pn,valueSanitizer:Pn,stringifyObjects:Pn,enableCompoundKey:Pn,disableOptimizeObj:!1,fetchCredentials:Pn,transports:Pn,unloadTransports:Pn,useSendBeacon:Pn,disableFetchKeepAlive:Pn,avoidOptions:!1,xhrTimeout:Pn,disableXhrSync:Pn,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:va,v:WU},maxUnloadEventRetryAttempts:{isVal:va,v:XU},addNoResponse:Pn,excludeCsMetaData:Pn});function SW(n){return n&&n.sendPOST}var JU=function(n){Ng(e,n);function e(){var t=n.call(this)||this;t.identifier="PostChannel",t.priority=1011,t.version="4.3.3";var r,i=!1,a=[],c,u=!1,d=0,f,p=0,g,v={},y=Cf,b,C,E,S,w,A,k,O,D,M,N,K,F,oe,ue,me,X,he,z,L,V,_e;return an(e,t,function(I,W){yt(),I._getDbgPlgTargets=function(){return[w,r]},I[Lf]=function(q,ne,de){Fr(ne,function(){return"PostChannel:initialize"},function(){W[Lf](q,ne,de),z=ne.getNotifyMgr();try{ue=Dg(eh(I[wv]),ne.evtNamespace&&ne.evtNamespace()),I._addHook(vr(q,function(Se){var Te=Se.cfg,qe=Zc(null,Te,ne);r=qe.getExtCfg(I[wv],CW),me=a_(r[HU],r[FU]),N=!r[Y8]&&C5(),X=r[Q8],ce(ne),g=r[rx],f=r.immediateEventLimit,k=r[ix],F=r.maxEventRetryAttempts,oe=r.maxUnloadEventRetryAttempts,he=r[Z8],vd(Te.endpointUrl)?I.pause():u&&I[ny](),ke(),V=r[W8],_e=!!r[X8],L&&Q();var et=Te.disablePageUnloadEvents||[];L=s5(Re,et,ue),L=dU(Re,et,ue)||L,L=hU(ot,Te.disablePageShowEvents,ue)||L})),w[Lf](q,I.core,I)}catch(Se){throw I.setInitialized(!1),Se}},function(){return{theConfig:q,core:ne,extensions:de}})},I.processTelemetry=function(q,ne){OA(q,I[wv]),ne=ne||I._getTelCtx(ne);var de=q;!_e&&!i&&(V&&(de[yo]=V),Ot(de,!0),K?Ce(2,2):gt()),I.processNext(de,ne)},I.getOfflineSupport=function(){try{var q=w&&w[KU]();if(w)return{getUrl:function(){return q?q.url:null},serialize:Pe,batch:ve,shouldProcess:function(ne){return!_e},createPayload:function(ne){return null},createOneDSPayload:function(ne){if(w[$A])return w[$A](ne,N)}}}catch{}return null},I._doTeardown=function(q,ne){Ce(2,2),i=!0,w.teardown(),Q(),yt()};function Q(){c5(null,ue),l5(null,ue),u5(null,ue)}function ce(q){var ne=q[o_];q[o_]=function(){var de=0;return X&&(de=de|2),de|ne.call(q)}}function ve(q){var ne=ux;return q&&q[ut]&&Ue(q,function(de){ne&&(ne+=`
`),ne+=de}),ne}function Pe(q){var ne=ux;try{nt(q),ne=w[BU](q)}catch{}return ne}function Re(q){var ne=q||Fs().event;ne.type!=="beforeunload"&&(K=!0,w[VA](K)),Ce(2,2)}function ot(q){K=!1,w[VA](K)}function nt(q){q.ext&&q.ext[GP]&&delete q.ext[GP],q.ext&&q.ext[uT]&&q.ext[uT].id&&delete q.ext[uT].id,N&&(q.ext=Su(q.ext),q[vT]&&(q[vT]=Su(q[vT])),q[ry]&&(q[ry]=Su(q[ry])))}function Ot(q,ne){if(q[Rv]||(q[Rv]=0),q[cc]||(q[cc]=1),nt(q),q[pu]){if(E||u)q[cc]=3,q[pu]=!1;else if(w){N&&(q=Su(q)),w[$U](op.create(q[yo],[q]),q[pu]===!0?1:q[pu],3);return}}var de=q[cc],Se=p,Te=g;de===4&&(Se=d,Te=f);var qe=!1;if(Se<Te)qe=!Xe(q,ne);else{var et=1,Zt=_W;de===4&&(et=4,Zt=1),qe=!0,Je(q[yo],q[cc],et,Zt)&&(qe=!Xe(q,ne))}qe&&eo(uc,[q],ns.QueueFull)}I.setEventQueueLimits=function(q,ne){r[rx]=g=xf(q)?q:ZA,r[ix]=k=xf(ne)?ne:0,ke();var de=p>q;if(!de&&O>0)for(var Se=1;!de&&Se<=3;Se++){var Te=A[Se];Te&&Te[zr]&&Ue(Te[zr],function(qe){qe&&qe[Kn]()>=O&&(de=!0)})}De(!0,de)},I.pause=function(){J(),u=!0,w&&w.pause()},I[ny]=function(){u=!1,w&&w[ny](),gt()},I._loadTransmitProfiles=function(q){Ln(),en(q,function(ne,de){var Se=de[ut];if(Se>=2){var Te=Se>2?de[2]:0;if(de[ub](0,Se-2),de[1]<0&&(de[0]=-1),de[1]>0&&de[0]>0){var qe=de[0]/de[1];de[0]=Math.ceil(qe)*de[1]}Te>=0&&de[1]>=0&&Te>de[1]&&(Te=de[1]),de[Tr](Te),v[ne]=de}})},I.flush=function(q,ne,de){q===void 0&&(q=!0);var Se;if(!u)if(de=de||1,q)ne||(Se=Qc(function(qe){ne=qe})),c==null?(J(),Be(1,0,de),c=Nt(function(){c=null,at(ne,de)},0)):a[Tr](ne);else{var Te=J();sn(1,1,de),ne&&ne(),Te&&gt()}return Se},I.setMsaAuthTicket=function(q){w[jA](HA,q)},I.setAuthPluginHeader=function(q){w[jA]($P,q)},I.removeAuthPluginHeader=function(){w.removeHeader($P)},I.hasEvents=Cn,I._setTransmitProfile=function(q){y!==q&&v[q]!==void 0&&(J(),y=q,gt())},SL(I,function(){return w},["addResponseHandler"]);function sn(q,ne,de){var Se=Be(q,ne,de);return w[i_](ne,de),Se}function Cn(){return p>0}function gt(){if(D>=0&&Be(D,0,M)&&w[i_](0,M),d>0&&!C&&!u){var q=v[y][2];q>=0&&(C=Nt(function(){C=null,sn(4,0,1),gt()},q))}var ne=v[y][1];!b&&!c&&ne>=0&&!u&&(Cn()?b=Nt(function(){b=null,sn(S===0?3:1,0,1),S++,S%=2,gt()},ne):S=0)}I[GU]=function(){E<bW&&(E++,J(),gt())},I._clearBackOff=function(){E&&(E=0,J(),gt())};function yt(){r=null,i=!1,a=[],c=null,u=!1,d=0,f=500,p=0,g=ZA,v={},y=Cf,b=null,C=null,E=0,S=0,A={},k=0,L=!1,O=0,D=-1,M=null,N=!0,K=!1,F=WU,oe=XU,ue=null,V=null,_e=!1,me=a_(),w=new vW(cx,lx,EW,{requeue:sr,send:pe,sent:ye,drop:we,rspFail:He,oth:We}),dn(),Ae(),ke()}function Nt(q,ne){ne===0&&E&&(ne=1);var de=1e3;return E&&(de=YU(E-1)),me.set(q,ne*de)}function J(){return b!==null?(b.cancel(),b=null,S=0,!0):!1}function Ce(q,ne){J(),c&&(c.cancel(),c=null),u||sn(1,q,ne)}function Ae(){A[4]={batches:[],iKeyMap:{}},A[3]={batches:[],iKeyMap:{}},A[2]={batches:[],iKeyMap:{}},A[1]={batches:[],iKeyMap:{}}}function Oe(q,ne,de){var Se=A[ne];Se||(ne=1,Se=A[ne]);var Te=Se.iKeyMap[q];return!Te&&de&&(Te=op.create(q),Se.batches[Tr](Te),Se.iKeyMap[q]=Te),Te}function De(q,ne){w[GA]()&&!E&&(k>0&&p>k&&(ne=!0),ne&&c==null&&I.flush(q,function(){},20))}function Xe(q,ne){N&&(q=Su(q));var de=q[cc],Se=Oe(q[yo],de,!0);return Se.addEvent(q)?(de!==4?(p++,ne&&q[Rv]===0&&De(!q.sync,O>0&&Se[Kn]()>=O)):d++,!0):!1}function Je(q,ne,de,Se){for(;de<=ne;){var Te=Oe(q,ne,!0);if(Te&&Te[Kn]()>0){var qe=Te[Vu](0,Se),et=qe[Kn]();if(et>0)return de===4?d-=et:p-=et,B(uc,[qe],ns.QueueFull),!0}de++}return kt(),!1}function kt(){for(var q=0,ne=0,de=function(Te){var qe=A[Te];qe&&qe[zr]&&Ue(qe[zr],function(et){Te===4?q+=et[Kn]():ne+=et[Kn]()})},Se=1;Se<=4;Se++)de(Se);p=ne,d=q}function Be(q,ne,de){var Se=!1,Te=ne===0;return!Te||w[GA]()?Fr(I.core,function(){return"PostChannel._queueBatches"},function(){for(var qe=[],et=4;et>=q;){var Zt=A[et];Zt&&Zt.batches&&Zt.batches[ut]>0&&(Ue(Zt[zr],function(qt){w.addBatch(qt)?Se=Se||qt&&qt[Kn]()>0:qe=qe[Lc](qt[vc]()),et===4?d-=qt[Kn]():p-=qt[Kn]()}),Zt[zr]=[],Zt.iKeyMap={}),et--}qe[ut]>0&&eo(uc,qe,ns.KillSwitch),Se&&D>=q&&(D=-1,M=0)},function(){return{latency:q,sendType:ne,sendReason:de}},!Te):(D=D>=0?Math.min(D,q):q,M=Math.max(M,de)),Se}function at(q,ne){sn(1,0,ne),kt(),Bt(function(){q&&q(),a[ut]>0?c=Nt(function(){c=null,at(a.shift(),ne)},0):(c=null,gt())})}function Bt(q){w[qU]()?q():c=Nt(function(){c=null,Bt(q)},yW)}function Ln(){J(),dn(),y=Cf,gt()}function dn(){v={},v[Cf]=[2,1,0],v[PU]=[6,3,0],v[xU]=[18,9,0]}function sr(q,ne){var de=[],Se=F;K&&(Se=oe),Ue(q,function(Te){Te&&Te[Kn]()>0&&Ue(Te[vc](),function(qe){qe&&(qe[pu]&&(qe[cc]=4,qe[pu]=!1),qe[Rv]<Se?(OA(qe,I[wv]),Ot(qe,!1)):de[Tr](qe))})}),de[ut]>0&&eo(uc,de,ns.NonRetryableStatus),K&&Ce(2,2)}function Kt(q,ne){var de=z||{},Se=de[q];if(Se)try{Se.apply(de,ne)}catch(Te){Xt(I.diagLog(),1,74,q+" notification failed: "+Te)}}function eo(q,ne){for(var de=[],Se=2;Se<arguments.length;Se++)de[Se-2]=arguments[Se];ne&&ne[ut]>0&&Kt(q,[ne][Lc](de))}function B(q,ne){for(var de=[],Se=2;Se<arguments.length;Se++)de[Se-2]=arguments[Se];ne&&ne[ut]>0&&Ue(ne,function(Te){Te&&Te[Kn]()>0&&Kt(q,[Te.events()][Lc](de))})}function pe(q,ne,de){q&&q[ut]>0&&Kt("eventsSendRequest",[ne>=1e3&&ne<=1999?ne-1e3:0,de!==!0])}function ye(q,ne){B("eventsSent",q,ne),gt()}function we(q,ne){B(uc,q,ne>=8e3&&ne<=8999?ne-8e3:ns.Unknown)}function He(q){B(uc,q,ns.NonRetryableStatus),gt()}function We(q,ne){B(uc,q,ns.Unknown),gt()}function ke(){he?O=0:O=Math.max(cx*(lx+1),g/6)}}),t}return e.__ieDyn=1,e}(cb),TW=Wd({cookieCfg:{ref:!0,v:{}},extensions:{rdOnly:!0,ref:!0,v:[]},channels:{rdOnly:!0,ref:!0,v:[]},extensionConfig:{ref:!0,v:{}}}),T0=function(n){Ng(e,n);function e(){var t=n.call(this)||this,r,i;return an(e,t,function(a,c){a.initialize=function(u,d){var f=t;Fr(t,function(){return"ApplicationInsights:initialize"},function(){u=ui(u,TW,f.logger,!1).cfg,r=new JU,i=new MU;var p=[i];d&&(p=p.concat(d)),u||Si("You must provide a config object!");var g=u.channels;if(g&&g.length>0){for(var v=!1,y=0;y<g[0].length;y++)if(g[0][y].identifier===r.identifier){v=!0;break}v||_s(g[0],r)}else u.channels.push([r]);var b=u.extensionConfig;b[r.identifier]=b[r.identifier]||u&&u.channelConfiguration||{},b[i.identifier]=b[i.identifier]||u&&u.propertyConfiguration||{};try{c.initialize(u,p),f.isInitialized()&&X1(u,{channelConfiguration:{g:function(){return u.extensionConfig[r.identifier]}},propertyConfiguration:{g:function(){return u.extensionConfig[i.identifier]}}})}catch(C){Xt(f.logger,1,514,"Failed to initialize SDK."+Rt(C))}},function(){return{config:u,extensions:d}})},a.getPropertyManager=function(){return i},a.getPostChannel=function(){return r}}),t}return e.__ieDyn=1,e}(vU);const Bee=Object.freeze(Object.defineProperty({__proto__:null,AppInsightsCore:vU,ApplicationInsights:T0,BE_PROFILE:xU,BaseTelemetryPlugin:cb,Cloud:CU,Device:SU,DiagnosticLogger:np,EventLatency:w5,EventPersistence:R5,EventsDiscardedReason:ns,InternalAppInsightsCore:nU,Loc:TU,LoggingSeverity:d5,MinChannelPriorty:cQ,NRT_PROFILE:PU,NotificationManager:YL,PostChannel:JU,PropertiesPlugin:MU,RT_PROFILE:Cf,Session:C0,TelemetryContext:NU,TraceLevel:k5,ValueKind:A5,_InternalLogMessage:Wy,cookieAvailable:AA,getISOString:jy,isArray:vt,isBeaconsSupported:u0,isBoolean:Os,isLatency:gU,isNumber:va,isReactNative:Vy,isString:ar,isUint8ArrayAvailable:m5,isValueAssigned:aa},Symbol.toStringTag,{value:"Module"}));/*! @azure/msal-common v14.15.0 2024-09-20 */const ee={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Ov={CLIENT_ERROR_RANGE_START:400,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR_RANGE_START:500,SERVER_ERROR_RANGE_END:599},Wi=[ee.OPENID_SCOPE,ee.PROFILE_SCOPE,ee.OFFLINE_ACCESS_SCOPE],dx=[...Wi,ee.EMAIL_SCOPE],ki={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Xn={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Rs={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Nv={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},jn={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},hx={PLAIN:"plain",S256:"S256"},rh={QUERY:"query",FRAGMENT:"fragment"},AW={...rh},ez={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},Mv={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},pr={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Ge={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},A0="appmetadata",wW="client_info",Uf="1",s_={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},ti={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},nr={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Et={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},zf={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},fx={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},px={username:"username",password:"password"},Pv={httpSuccess:200,httpBadRequest:400},mu={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},_T={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},rs={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},tz={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},RW=300;/*! @azure/msal-common v14.15.0 2024-09-20 */const Xc="unexpected_error",c_="post_request_failed",kW=Object.freeze(Object.defineProperty({__proto__:null,postRequestFailed:c_,unexpectedError:Xc},Symbol.toStringTag,{value:"Module"}));/*! @azure/msal-common v14.15.0 2024-09-20 */const l_={[Xc]:"Unexpected error in authentication.",[c_]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},IW={unexpectedError:{code:Xc,desc:l_[Xc]},postRequestFailed:{code:c_,desc:l_[c_]}};class ht extends Error{constructor(e,t,r){const i=t?`${e}: ${t}`:e;super(i),Object.setPrototypeOf(this,ht.prototype),this.errorCode=e||ee.EMPTY_STRING,this.errorMessage=t||ee.EMPTY_STRING,this.subError=r||ee.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function nz(n,e){return new ht(n,e?`${l_[n]} ${e}`:l_[n])}/*! @azure/msal-common v14.15.0 2024-09-20 */const Td="client_info_decoding_error",ap="client_info_empty_error",Ad="token_parsing_error",Jc="null_or_empty_token",wi="endpoints_resolution_error",sp="network_error",cp="openid_config_error",lp="hash_not_deserialized",Ea="invalid_state",up="state_mismatch",el="state_not_found",dp="nonce_mismatch",wd="auth_time_not_found",hp="max_age_transpired",u_="multiple_matching_tokens",d_="multiple_matching_accounts",fp="multiple_matching_appMetadata",pp="request_cannot_be_made",gp="cannot_remove_empty_scope",mp="cannot_append_scopeset",Rd="empty_input_scopeset",h_="device_code_polling_cancelled",f_="device_code_expired",p_="device_code_unknown_error",kd="no_account_in_silent_request",vp="invalid_cache_record",Id="invalid_cache_environment",tl="no_account_found",Od="no_crypto_object",Nd="unexpected_credential_type",g_="invalid_assertion",m_="invalid_client_credential",oi="token_refresh_required",v_="user_timeout_reached",yp="token_claims_cnf_required_for_signedjwt",_p="authorization_code_missing_from_server_response",bp="binding_key_not_removed",Ep="end_session_endpoint_not_supported",Md="key_id_missing",Cp="no_network_connectivity",Sp="user_canceled",y_="missing_tenant_id_error",it="method_not_implemented",Pd="nested_app_auth_bridge_disabled",OW=Object.freeze(Object.defineProperty({__proto__:null,authTimeNotFound:wd,authorizationCodeMissingFromServerResponse:_p,bindingKeyNotRemoved:bp,cannotAppendScopeSet:mp,cannotRemoveEmptyScope:gp,clientInfoDecodingError:Td,clientInfoEmptyError:ap,deviceCodeExpired:f_,deviceCodePollingCancelled:h_,deviceCodeUnknownError:p_,emptyInputScopeSet:Rd,endSessionEndpointNotSupported:Ep,endpointResolutionError:wi,hashNotDeserialized:lp,invalidAssertion:g_,invalidCacheEnvironment:Id,invalidCacheRecord:vp,invalidClientCredential:m_,invalidState:Ea,keyIdMissing:Md,maxAgeTranspired:hp,methodNotImplemented:it,missingTenantIdError:y_,multipleMatchingAccounts:d_,multipleMatchingAppMetadata:fp,multipleMatchingTokens:u_,nestedAppAuthBridgeDisabled:Pd,networkError:sp,noAccountFound:tl,noAccountInSilentRequest:kd,noCryptoObject:Od,noNetworkConnectivity:Cp,nonceMismatch:dp,nullOrEmptyToken:Jc,openIdConfigError:cp,requestCannotBeMade:pp,stateMismatch:up,stateNotFound:el,tokenClaimsCnfRequiredForSignedJwt:yp,tokenParsingError:Ad,tokenRefreshRequired:oi,unexpectedCredentialType:Nd,userCanceled:Sp,userTimeoutReached:v_},Symbol.toStringTag,{value:"Module"}));/*! @azure/msal-common v14.15.0 2024-09-20 */const Ze={[Td]:"The client info could not be parsed/decoded correctly",[ap]:"The client info was empty",[Ad]:"Token cannot be parsed",[Jc]:"The token is null or empty",[wi]:"Endpoints cannot be resolved",[sp]:"Network request failed",[cp]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[lp]:"The hash parameters could not be deserialized",[Ea]:"State was not the expected format",[up]:"State mismatch error",[el]:"State not found",[dp]:"Nonce mismatch error",[wd]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[hp]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[u_]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[d_]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[fp]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[pp]:"Token request cannot be made without authorization code or refresh token.",[gp]:"Cannot remove null or empty scope from ScopeSet",[mp]:"Cannot append ScopeSet",[Rd]:"Empty input ScopeSet cannot be processed",[h_]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[f_]:"Device code is expired.",[p_]:"Device code stopped polling for unknown reasons.",[kd]:"Please pass an account object, silent flow is not supported without account information",[vp]:"Cache record object was null or undefined.",[Id]:"Invalid environment when attempting to create cache entry",[tl]:"No account found in cache for given key.",[Od]:"No crypto object detected.",[Nd]:"Unexpected credential type.",[g_]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[m_]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[oi]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[v_]:"User defined timeout for device code polling reached",[yp]:"Cannot generate a POP jwt if the token_claims are not populated",[_p]:"Server response does not contain an authorization code to proceed",[bp]:"Could not remove the credential's binding key from storage.",[Ep]:"The provided authority does not support logout",[Md]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[Cp]:"No network connectivity. Check your internet connection.",[Sp]:"User cancelled the flow.",[y_]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[it]:"This method has not been implemented",[Pd]:"The nested app auth bridge is disabled"},NW={clientInfoDecodingError:{code:Td,desc:Ze[Td]},clientInfoEmptyError:{code:ap,desc:Ze[ap]},tokenParsingError:{code:Ad,desc:Ze[Ad]},nullOrEmptyToken:{code:Jc,desc:Ze[Jc]},endpointResolutionError:{code:wi,desc:Ze[wi]},networkError:{code:sp,desc:Ze[sp]},unableToGetOpenidConfigError:{code:cp,desc:Ze[cp]},hashNotDeserialized:{code:lp,desc:Ze[lp]},invalidStateError:{code:Ea,desc:Ze[Ea]},stateMismatchError:{code:up,desc:Ze[up]},stateNotFoundError:{code:el,desc:Ze[el]},nonceMismatchError:{code:dp,desc:Ze[dp]},authTimeNotFoundError:{code:wd,desc:Ze[wd]},maxAgeTranspired:{code:hp,desc:Ze[hp]},multipleMatchingTokens:{code:u_,desc:Ze[u_]},multipleMatchingAccounts:{code:d_,desc:Ze[d_]},multipleMatchingAppMetadata:{code:fp,desc:Ze[fp]},tokenRequestCannotBeMade:{code:pp,desc:Ze[pp]},removeEmptyScopeError:{code:gp,desc:Ze[gp]},appendScopeSetError:{code:mp,desc:Ze[mp]},emptyInputScopeSetError:{code:Rd,desc:Ze[Rd]},DeviceCodePollingCancelled:{code:h_,desc:Ze[h_]},DeviceCodeExpired:{code:f_,desc:Ze[f_]},DeviceCodeUnknownError:{code:p_,desc:Ze[p_]},NoAccountInSilentRequest:{code:kd,desc:Ze[kd]},invalidCacheRecord:{code:vp,desc:Ze[vp]},invalidCacheEnvironment:{code:Id,desc:Ze[Id]},noAccountFound:{code:tl,desc:Ze[tl]},noCryptoObj:{code:Od,desc:Ze[Od]},unexpectedCredentialType:{code:Nd,desc:Ze[Nd]},invalidAssertion:{code:g_,desc:Ze[g_]},invalidClientCredential:{code:m_,desc:Ze[m_]},tokenRefreshRequired:{code:oi,desc:Ze[oi]},userTimeoutReached:{code:v_,desc:Ze[v_]},tokenClaimsRequired:{code:yp,desc:Ze[yp]},noAuthorizationCodeFromServer:{code:_p,desc:Ze[_p]},bindingKeyNotRemovedError:{code:bp,desc:Ze[bp]},logoutNotSupported:{code:Ep,desc:Ze[Ep]},keyIdMissing:{code:Md,desc:Ze[Md]},noNetworkConnectivity:{code:Cp,desc:Ze[Cp]},userCanceledError:{code:Sp,desc:Ze[Sp]},missingTenantIdError:{code:y_,desc:Ze[y_]},nestedAppAuthBridgeDisabled:{code:Pd,desc:Ze[Pd]}};class Ri extends ht{constructor(e,t){super(e,t?`${Ze[e]}: ${t}`:Ze[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Ri.prototype)}}function ge(n,e){return new Ri(n,e)}/*! @azure/msal-common v14.15.0 2024-09-20 */const xd={createNewGuid:()=>{throw ge(it)},base64Decode:()=>{throw ge(it)},base64Encode:()=>{throw ge(it)},base64UrlEncode:()=>{throw ge(it)},encodeKid:()=>{throw ge(it)},async getPublicKeyThumbprint(){throw ge(it)},async removeTokenBindingKey(){throw ge(it)},async clearKeystore(){throw ge(it)},async signJwt(){throw ge(it)},async hashString(){throw ge(it)}};/*! @azure/msal-common v14.15.0 2024-09-20 */var rn;(function(n){n[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace"})(rn||(rn={}));class xi{constructor(e,t,r){this.level=rn.Info;const i=()=>{},a=e||xi.createDefaultLoggerOptions();this.localCallback=a.loggerCallback||i,this.piiLoggingEnabled=a.piiLoggingEnabled||!1,this.level=typeof a.logLevel=="number"?a.logLevel:rn.Info,this.correlationId=a.correlationId||ee.EMPTY_STRING,this.packageName=t||ee.EMPTY_STRING,this.packageVersion=r||ee.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:rn.Info}}clone(e,t,r){return new xi({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const a=`${`[${new Date().toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${rn[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,a,t.containsPii||!1)}executeCallback(e,t,r){this.localCallback&&this.localCallback(e,t,r)}error(e,t){this.logMessage(e,{logLevel:rn.Error,containsPii:!1,correlationId:t||ee.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:rn.Error,containsPii:!0,correlationId:t||ee.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:rn.Warning,containsPii:!1,correlationId:t||ee.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:rn.Warning,containsPii:!0,correlationId:t||ee.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:rn.Info,containsPii:!1,correlationId:t||ee.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:rn.Info,containsPii:!0,correlationId:t||ee.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:rn.Verbose,containsPii:!1,correlationId:t||ee.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:rn.Verbose,containsPii:!0,correlationId:t||ee.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:rn.Trace,containsPii:!1,correlationId:t||ee.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:rn.Trace,containsPii:!0,correlationId:t||ee.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v14.15.0 2024-09-20 */const rz="@azure/msal-common",w0="14.15.0";/*! @azure/msal-common v14.15.0 2024-09-20 */const Dd={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};/*! @azure/msal-common v14.15.0 2024-09-20 */function Ca(n,e){const t=MW(n);try{const r=e(t);return JSON.parse(r)}catch{throw ge(Ad)}}function MW(n){if(!n)throw ge(Jc);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(n);if(!t||t.length<4)throw ge(Ad);return t[2]}function iz(n,e){if(e===0||Date.now()-3e5>n+e)throw ge(hp)}/*! @azure/msal-common v14.15.0 2024-09-20 */function Di(){return Math.round(new Date().getTime()/1e3)}function __(n,e){const t=Number(n)||0;return Di()+e>t}function oz(n){return Number(n)>Di()}/*! @azure/msal-common v14.15.0 2024-09-20 */function xu(n){return[PW(n),xW(n),DW(n),LW(n),UW(n)].join(pr.CACHE_KEY_SEPARATOR).toLowerCase()}function db(n,e,t,r,i){return{credentialType:Ge.ID_TOKEN,homeAccountId:n,environment:e,clientId:r,secret:t,realm:i}}function hb(n,e,t,r,i,a,c,u,d,f,p,g,v,y,b){var E,S;const C={homeAccountId:n,credentialType:Ge.ACCESS_TOKEN,secret:t,cachedAt:Di().toString(),expiresOn:c.toString(),extendedExpiresOn:u.toString(),environment:e,clientId:r,realm:i,target:a,tokenType:p||Et.BEARER};if(g&&(C.userAssertionHash=g),f&&(C.refreshOn=f.toString()),y&&(C.requestedClaims=y,C.requestedClaimsHash=b),((E=C.tokenType)==null?void 0:E.toLowerCase())!==Et.BEARER.toLowerCase())switch(C.credentialType=Ge.ACCESS_TOKEN_WITH_AUTH_SCHEME,C.tokenType){case Et.POP:const w=Ca(t,d);if(!((S=w==null?void 0:w.cnf)!=null&&S.kid))throw ge(yp);C.keyId=w.cnf.kid;break;case Et.SSH:C.keyId=v}return C}function az(n,e,t,r,i,a,c){const u={credentialType:Ge.REFRESH_TOKEN,homeAccountId:n,environment:e,clientId:r,secret:t};return a&&(u.userAssertionHash=a),i&&(u.familyId=i),c&&(u.expiresOn=c.toString()),u}function R0(n){return n.hasOwnProperty("homeAccountId")&&n.hasOwnProperty("environment")&&n.hasOwnProperty("credentialType")&&n.hasOwnProperty("clientId")&&n.hasOwnProperty("secret")}function gx(n){return n?R0(n)&&n.hasOwnProperty("realm")&&n.hasOwnProperty("target")&&(n.credentialType===Ge.ACCESS_TOKEN||n.credentialType===Ge.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function mx(n){return n?R0(n)&&n.hasOwnProperty("realm")&&n.credentialType===Ge.ID_TOKEN:!1}function vx(n){return n?R0(n)&&n.credentialType===Ge.REFRESH_TOKEN:!1}function PW(n){return[n.homeAccountId,n.environment].join(pr.CACHE_KEY_SEPARATOR).toLowerCase()}function xW(n){const e=n.credentialType===Ge.REFRESH_TOKEN&&n.familyId||n.clientId;return[n.credentialType,e,n.realm||""].join(pr.CACHE_KEY_SEPARATOR).toLowerCase()}function DW(n){return(n.target||"").toLowerCase()}function LW(n){return(n.requestedClaimsHash||"").toLowerCase()}function UW(n){return n.tokenType&&n.tokenType.toLowerCase()!==Et.BEARER.toLowerCase()?n.tokenType.toLowerCase():""}function zW(n,e){const t=n.indexOf(nr.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),t&&r}function HW(n,e){let t=!1;n&&(t=n.indexOf(zf.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),t&&r}function FW({environment:n,clientId:e}){return[A0,n,e].join(pr.CACHE_KEY_SEPARATOR).toLowerCase()}function BW(n,e){return e?n.indexOf(A0)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function KW(n,e){return e?n.indexOf(s_.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function yx(){return Di()+s_.REFRESH_TIME_SECONDS}function xv(n,e,t){n.authorization_endpoint=e.authorization_endpoint,n.token_endpoint=e.token_endpoint,n.end_session_endpoint=e.end_session_endpoint,n.issuer=e.issuer,n.endpointsFromNetwork=t,n.jwks_uri=e.jwks_uri}function bT(n,e,t){n.aliases=e.aliases,n.preferred_cache=e.preferred_cache,n.preferred_network=e.preferred_network,n.aliasesFromNetwork=t}function _x(n){return n.expiresAt<=Di()}/*! @azure/msal-common v14.15.0 2024-09-20 */const Tp="redirect_uri_empty",b_="claims_request_parsing_error",Ap="authority_uri_insecure",bs="url_parse_error",wp="empty_url_error",Rp="empty_input_scopes_error",kp="invalid_prompt_value",Ld="invalid_claims",Ip="token_request_empty",Op="logout_request_empty",Np="invalid_code_challenge_method",Ud="pkce_params_missing",zd="invalid_cloud_discovery_metadata",Mp="invalid_authority_metadata",Pp="untrusted_authority",nl="missing_ssh_jwk",xp="missing_ssh_kid",Dp="missing_nonce_authentication_header",Hd="invalid_authentication_header",Lp="cannot_set_OIDCOptions",Up="cannot_allow_native_broker",zp="authority_mismatch",qW=Object.freeze(Object.defineProperty({__proto__:null,authorityMismatch:zp,authorityUriInsecure:Ap,cannotAllowNativeBroker:Up,cannotSetOIDCOptions:Lp,claimsRequestParsingError:b_,emptyInputScopesError:Rp,invalidAuthenticationHeader:Hd,invalidAuthorityMetadata:Mp,invalidClaims:Ld,invalidCloudDiscoveryMetadata:zd,invalidCodeChallengeMethod:Np,invalidPromptValue:kp,logoutRequestEmpty:Op,missingNonceAuthenticationHeader:Dp,missingSshJwk:nl,missingSshKid:xp,pkceParamsMissing:Ud,redirectUriEmpty:Tp,tokenRequestEmpty:Ip,untrustedAuthority:Pp,urlEmptyError:wp,urlParseError:bs},Symbol.toStringTag,{value:"Module"}));/*! @azure/msal-common v14.15.0 2024-09-20 */const fn={[Tp]:"A redirect URI is required for all calls, and none has been set.",[b_]:"Could not parse the given claims request object.",[Ap]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[bs]:"URL could not be parsed into appropriate segments.",[wp]:"URL was empty or null.",[Rp]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[kp]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Ld]:"Given claims parameter must be a stringified JSON object.",[Ip]:"Token request was empty and not found in cache.",[Op]:"The logout request was null or undefined.",[Np]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Ud]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[zd]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Mp]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Pp]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[nl]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[xp]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[Dp]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[Hd]:"Invalid authentication header provided",[Lp]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Up]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[zp]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},$W={redirectUriNotSet:{code:Tp,desc:fn[Tp]},claimsRequestParsingError:{code:b_,desc:fn[b_]},authorityUriInsecure:{code:Ap,desc:fn[Ap]},urlParseError:{code:bs,desc:fn[bs]},urlEmptyError:{code:wp,desc:fn[wp]},emptyScopesError:{code:Rp,desc:fn[Rp]},invalidPrompt:{code:kp,desc:fn[kp]},invalidClaimsRequest:{code:Ld,desc:fn[Ld]},tokenRequestEmptyError:{code:Ip,desc:fn[Ip]},logoutRequestEmptyError:{code:Op,desc:fn[Op]},invalidCodeChallengeMethod:{code:Np,desc:fn[Np]},invalidCodeChallengeParams:{code:Ud,desc:fn[Ud]},invalidCloudDiscoveryMetadata:{code:zd,desc:fn[zd]},invalidAuthorityMetadata:{code:Mp,desc:fn[Mp]},untrustedAuthority:{code:Pp,desc:fn[Pp]},missingSshJwk:{code:nl,desc:fn[nl]},missingSshKid:{code:xp,desc:fn[xp]},missingNonceAuthenticationHeader:{code:Dp,desc:fn[Dp]},invalidAuthenticationHeader:{code:Hd,desc:fn[Hd]},cannotSetOIDCOptions:{code:Lp,desc:fn[Lp]},cannotAllowNativeBroker:{code:Up,desc:fn[Up]},authorityMismatch:{code:zp,desc:fn[zp]}};class Lg extends ht{constructor(e){super(e,fn[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,Lg.prototype)}}function xt(n){return new Lg(n)}/*! @azure/msal-common v14.15.0 2024-09-20 */class li{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return Object.keys(t).length===0}catch{}return!0}static startsWith(e,t){return e.indexOf(t)===0}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},r=e.split("&"),i=a=>decodeURIComponent(a.replace(/\+/g," "));return r.forEach(a=>{if(a.trim()){const[c,u]=a.split(/=(.+)/g,2);c&&u&&(t[i(c)]=i(u))}}),t}static trimArrayEntries(e){return e.map(t=>t.trim())}static removeEmptyStringsFromArray(e){return e.filter(t=>!!t)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class kn{constructor(e){const t=e?li.trimArrayEntries([...e]):[],r=t?li.removeEmptyStringsFromArray(t):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach(i=>this.scopes.add(i))}static fromString(e){const r=(e||ee.EMPTY_STRING).split(" ");return new kn(r)}static createSearchScopes(e){const t=new kn(e);return t.containsOnlyOIDCScopes()?t.removeScope(ee.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw xt(Rp)}containsScope(e){const t=this.printScopesLowerCase().split(" "),r=new kn(t);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(t=>this.containsScope(t))}containsOnlyOIDCScopes(){let e=0;return dx.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(t=>this.appendScope(t))}catch{throw ge(mp)}}removeScope(e){if(!e)throw ge(gp);this.scopes.delete(e.trim())}removeOIDCScopes(){dx.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw ge(Rd);const t=new Set;return e.scopes.forEach(r=>t.add(r.toLowerCase())),this.scopes.forEach(r=>t.add(r.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw ge(Rd);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),r=e.getScopeCount(),i=this.getScopeCount();return t.size<i+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):ee.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v14.15.0 2024-09-20 */function E_(n,e){if(!n)throw ge(ap);try{const t=e(n);return JSON.parse(t)}catch{throw ge(Td)}}function Du(n){if(!n)throw ge(Td);const e=n.split(pr.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?ee.EMPTY_STRING:e[1]}}/*! @azure/msal-common v14.15.0 2024-09-20 */function C_(n,e){return!!n&&!!e&&n===e.split(".")[1]}function fb(n,e,t,r){if(r){const{oid:i,sub:a,tid:c,name:u,tfp:d,acr:f}=r,p=c||d||f||"";return{tenantId:p,localAccountId:i||a||"",name:u,isHomeTenant:C_(p,n)}}else return{tenantId:t,localAccountId:e,isHomeTenant:C_(t,n)}}function k0(n,e,t,r){let i=n;if(e){const{isHomeTenant:a,...c}=e;i={...n,...c}}if(t){const{isHomeTenant:a,...c}=fb(n.homeAccountId,n.localAccountId,n.tenantId,t);return i={...i,...c,idTokenClaims:t,idToken:r},i}return i}/*! @azure/msal-common v14.15.0 2024-09-20 */const Gi={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v14.15.0 2024-09-20 */function sz(n){return n&&(n.tid||n.tfp||n.acr)||null}/*! @azure/msal-common v14.15.0 2024-09-20 */const Io={AAD:"AAD",OIDC:"OIDC"};/*! @azure/msal-common v14.15.0 2024-09-20 */class In{generateAccountId(){return[this.homeAccountId,this.environment].join(pr.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return In.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(pr.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,r){var f,p,g,v,y,b;const i=new In;t.authorityType===Gi.Adfs?i.authorityType=Mv.ADFS_ACCOUNT_TYPE:t.protocolMode===Io.AAD?i.authorityType=Mv.MSSTS_ACCOUNT_TYPE:i.authorityType=Mv.GENERIC_ACCOUNT_TYPE;let a;e.clientInfo&&r&&(a=E_(e.clientInfo,r)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;const c=e.environment||t&&t.getPreferredCache();if(!c)throw ge(Id);i.environment=c,i.realm=(a==null?void 0:a.utid)||sz(e.idTokenClaims)||"",i.localAccountId=(a==null?void 0:a.uid)||((f=e.idTokenClaims)==null?void 0:f.oid)||((p=e.idTokenClaims)==null?void 0:p.sub)||"";const u=((g=e.idTokenClaims)==null?void 0:g.preferred_username)||((v=e.idTokenClaims)==null?void 0:v.upn),d=(y=e.idTokenClaims)!=null&&y.emails?e.idTokenClaims.emails[0]:null;if(i.username=u||d||"",i.name=((b=e.idTokenClaims)==null?void 0:b.name)||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{const C=fb(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[C]}return i}static createFromAccountInfo(e,t,r){var a;const i=new In;return i.authorityType=e.authorityType||Mv.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=t,i.msGraphHost=r,i.tenantProfiles=Array.from(((a=e.tenantProfiles)==null?void 0:a.values())||[]),i}static generateHomeAccountId(e,t,r,i,a){if(!(t===Gi.Adfs||t===Gi.Dsts)){if(e)try{const c=E_(e,i.base64Decode);if(c.uid&&c.utid)return`${c.uid}.${c.utid}`}catch{}r.warning("No client info in response")}return(a==null?void 0:a.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,t,r){if(!e||!t)return!1;let i=!0;if(r){const a=e.idTokenClaims||{},c=t.idTokenClaims||{};i=a.iat===c.iat&&a.nonce===c.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&i}}/*! @azure/msal-common v14.15.0 2024-09-20 */function cz(n){return n.startsWith("#/")?n.substring(2):n.startsWith("#")||n.startsWith("?")?n.substring(1):n}function S_(n){if(!n||n.indexOf("=")<0)return null;try{const e=cz(n),t=Object.fromEntries(new URLSearchParams(e));if(t.code||t.error||t.error_description||t.state)return t}catch{throw ge(lp)}return null}/*! @azure/msal-common v14.15.0 2024-09-20 */class mt{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw xt(wp);e.includes("#")||(this._urlString=mt.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return li.endsWith(t,"?")?t=t.slice(0,-1):li.endsWith(t,"?/")&&(t=t.slice(0,-2)),li.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw xt(bs)}if(!e.HostNameAndPort||!e.PathSegments)throw xt(bs);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw xt(Ap)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return mt.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),r=t.PathSegments;return e&&r.length!==0&&(r[0]===Rs.COMMON||r[0]===Rs.ORGANIZATIONS)&&(r[0]=e),mt.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw xt(bs);const r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let i=r.AbsolutePath.split("/");return i=i.filter(a=>a&&a.length>0),r.PathSegments=i,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw xt(bs);return r[2]}static getAbsoluteUrl(e,t){if(e[0]===ee.FORWARD_SLASH){const i=new mt(t).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new mt(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!S_(e)}}/*! @azure/msal-common v14.15.0 2024-09-20 */const lz={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},bx=lz.endpointMetadata,I0=lz.instanceDiscoveryMetadata,uz=new Set;I0.metadata.forEach(n=>{n.aliases.forEach(e=>{uz.add(e)})});function jW(n,e){var i;let t;const r=n.canonicalAuthority;if(r){const a=new mt(r).getUrlComponents().HostNameAndPort;t=Ex(a,(i=n.cloudDiscoveryMetadata)==null?void 0:i.metadata,ti.CONFIG,e)||Ex(a,I0.metadata,ti.HARDCODED_VALUES,e)||n.knownAuthorities}return t||[]}function Ex(n,e,t,r){if(r==null||r.trace(`getAliasesFromMetadata called with source: ${t}`),n&&e){const i=T_(e,n);if(i)return r==null||r.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${t}, returning aliases`),i.aliases;r==null||r.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${t}`)}return null}function GW(n){return T_(I0.metadata,n)}function T_(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r.aliases.includes(e))return r}return null}/*! @azure/msal-common v14.15.0 2024-09-20 */const dz="cache_quota_exceeded",O0="cache_error_unknown";/*! @azure/msal-common v14.15.0 2024-09-20 */const ET={[dz]:"Exceeded cache storage capacity.",[O0]:"Unexpected error occurred when using cache storage."};class Uc extends Error{constructor(e,t){const r=t||(ET[e]?ET[e]:ET[O0]);super(`${e}: ${r}`),Object.setPrototypeOf(this,Uc.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}/*! @azure/msal-common v14.15.0 2024-09-20 */class Fd{constructor(e,t,r,i){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(rz,w0),this.staticAuthorityOptions=i}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);return t.length>1?t.sort(i=>i.idTokenClaims?-1:1)[0]:t.length===1?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,t==null?void 0:t.tenantId,t))}getTenantedAccountInfoByFilter(e,t,r,i){let a=null,c;if(i&&!this.tenantProfileMatchesFilter(r,i))return null;const u=this.getIdToken(e,t,r.tenantId);return u&&(c=Ca(u.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(c,i))?null:(a=k0(e,r,c,u==null?void 0:u.secret),a)}getTenantProfilesFromAccountEntity(e,t,r){const i=e.getAccountInfo();let a=i.tenantProfiles||new Map;const c=this.getTokenKeys();if(t){const d=a.get(t);if(d)a=new Map([[t,d]]);else return[]}const u=[];return a.forEach(d=>{const f=this.getTenantedAccountInfoByFilter(i,c,d,r);f&&u.push(f)}),u}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||t.isHomeTenant!==void 0&&e.isHomeTenant!==t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!(t&&(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId)||t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint)||t.username&&!this.matchUsername(e.preferred_username,t.username)||t.name&&!this.matchName(e,t.name)||t.sid&&!this.matchSid(e,t.sid)))}async saveCacheRecord(e,t,r){var i,a,c,u;if(!e)throw ge(vp);try{e.account&&this.setAccount(e.account),e.idToken&&(t==null?void 0:t.idToken)!==!1&&this.setIdTokenCredential(e.idToken),e.accessToken&&(t==null?void 0:t.accessToken)!==!1&&await this.saveAccessToken(e.accessToken),e.refreshToken&&(t==null?void 0:t.refreshToken)!==!1&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(d){throw(i=this.commonLogger)==null||i.error("CacheManager.saveCacheRecord: failed"),d instanceof Error?((a=this.commonLogger)==null||a.errorPii(`CacheManager.saveCacheRecord: ${d.message}`,r),d.name==="QuotaExceededError"||d.name==="NS_ERROR_DOM_QUOTA_REACHED"||d.message.includes("exceeded the quota")?((c=this.commonLogger)==null||c.error("CacheManager.saveCacheRecord: exceeded storage quota",r),new Uc(dz)):new Uc(d.name,d.message)):((u=this.commonLogger)==null||u.errorPii(`CacheManager.saveCacheRecord: ${d}`,r),new Uc(O0))}}async saveAccessToken(e){const t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),i=kn.fromString(e.target),a=[];r.accessToken.forEach(c=>{if(!this.accessTokenKeyMatchesFilter(c,t,!1))return;const u=this.getAccessTokenCredential(c);u&&this.credentialMatchesFilter(u,t)&&kn.fromString(u.target).intersectingScopeSets(i)&&a.push(this.removeAccessToken(c))}),await Promise.all(a),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),r=[];return t.forEach(i=>{var d;if(!this.isAccountKey(i,e.homeAccountId))return;const a=this.getAccount(i,this.commonLogger);if(!a||e.homeAccountId&&!this.matchHomeAccountId(a,e.homeAccountId)||e.username&&!this.matchUsername(a.username,e.username)||e.environment&&!this.matchEnvironment(a,e.environment)||e.realm&&!this.matchRealm(a,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(a,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(a,e.authorityType))return;const c={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},u=(d=a.tenantProfiles)==null?void 0:d.filter(f=>this.tenantProfileMatchesFilter(f,c));u&&u.length===0||r.push(a)}),r}isAccountKey(e,t,r){return!(e.split(pr.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(pr.CACHE_KEY_SEPARATOR).length<6)return!1;const t=e.toLowerCase();if(t.indexOf(Ge.ID_TOKEN.toLowerCase())===-1&&t.indexOf(Ge.ACCESS_TOKEN.toLowerCase())===-1&&t.indexOf(Ge.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&t.indexOf(Ge.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(t.indexOf(Ge.REFRESH_TOKEN.toLowerCase())>-1){const r=`${Ge.REFRESH_TOKEN}${pr.CACHE_KEY_SEPARATOR}${this.clientId}${pr.CACHE_KEY_SEPARATOR}`,i=`${Ge.REFRESH_TOKEN}${pr.CACHE_KEY_SEPARATOR}${Uf}${pr.CACHE_KEY_SEPARATOR}`;if(t.indexOf(r.toLowerCase())===-1&&t.indexOf(i.toLowerCase())===-1)return!1}else if(t.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,t){return!(t.clientId&&!this.matchClientId(e,t.clientId)||t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash)||typeof t.homeAccountId=="string"&&!this.matchHomeAccountId(e,t.homeAccountId)||t.environment&&!this.matchEnvironment(e,t.environment)||t.realm&&!this.matchRealm(e,t.realm)||t.credentialType&&!this.matchCredentialType(e,t.credentialType)||t.familyId&&!this.matchFamilyId(e,t.familyId)||t.target&&!this.matchTarget(e,t.target)||(t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash||e.credentialType===Ge.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(t.tokenType&&!this.matchTokenType(e,t.tokenType)||t.tokenType===Et.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){const t=this.getKeys(),r={};return t.forEach(i=>{if(!this.isAppMetadata(i))return;const a=this.getAppMetadata(i);a&&(e.environment&&!this.matchEnvironment(a,e.environment)||e.clientId&&!this.matchClientId(a,e.clientId)||(r[i]=a))}),r}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let r=null;return t.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;const a=this.getAuthorityMetadata(i);a&&a.aliases.indexOf(e)!==-1&&(r=a)}),r}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach(r=>{t.push(this.removeAccount(r))}),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),r=e.generateAccountId(),i=[];t.idToken.forEach(a=>{a.indexOf(r)===0&&this.removeIdToken(a)}),t.accessToken.forEach(a=>{a.indexOf(r)===0&&i.push(this.removeAccessToken(a))}),t.refreshToken.forEach(a=>{a.indexOf(r)===0&&this.removeRefreshToken(a)}),await Promise.all(i)}updateOutdatedCachedAccount(e,t,r){var i;if(t&&t.isSingleTenant()){(i=this.commonLogger)==null||i.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const a=this.getAccountKeys().filter(p=>p.startsWith(t.homeAccountId)),c=[];a.forEach(p=>{const g=this.getCachedAccountEntity(p);g&&c.push(g)});const u=c.find(p=>C_(p.realm,p.homeAccountId))||c[0];u.tenantProfiles=c.map(p=>({tenantId:p.realm,localAccountId:p.localAccountId,name:p.name,isHomeTenant:C_(p.realm,p.homeAccountId)}));const d=Fd.toObject(new In,{...u}),f=d.generateAccountKey();return a.forEach(p=>{p!==f&&this.removeOutdatedAccount(e)}),this.setAccount(d),r==null||r.verbose("Updated an outdated account entity in the cache"),d}return t}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===Ge.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===Et.POP){const i=t.keyId;if(i)try{await this.cryptoImpl.removeTokenBindingKey(i)}catch{throw ge(bp)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t)}),!0}readAccountFromCache(e){const t=In.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,r,i,a){this.commonLogger.trace("CacheManager - getIdToken called");const c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Ge.ID_TOKEN,clientId:this.clientId,realm:r},u=this.getIdTokensByFilter(c,t),d=u.size;if(d<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(d>1){let f=u;if(!r){const p=new Map;u.forEach((v,y)=>{v.realm===e.tenantId&&p.set(y,v)});const g=p.size;if(g<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),u.values().next().value;if(g===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),p.values().next().value;f=p}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),f.forEach((p,g)=>{this.removeIdToken(g)}),i&&a&&i.addFields({multiMatchedID:u.size},a),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),u.values().next().value}getIdTokensByFilter(e,t){const r=t&&t.idToken||this.getTokenKeys().idToken,i=new Map;return r.forEach(a=>{if(!this.idTokenKeyMatchesFilter(a,{clientId:this.clientId,...e}))return;const c=this.getIdTokenCredential(a);c&&this.credentialMatchesFilter(c,e)&&i.set(a,c)}),i}idTokenKeyMatchesFilter(e,t){const r=e.toLowerCase();return!(t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,r,i,a,c){this.commonLogger.trace("CacheManager - getAccessToken called");const u=kn.createSearchScopes(t.scopes),d=t.authenticationScheme||Et.BEARER,f=d&&d.toLowerCase()!==Et.BEARER.toLowerCase()?Ge.ACCESS_TOKEN_WITH_AUTH_SCHEME:Ge.ACCESS_TOKEN,p={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:f,clientId:this.clientId,realm:i||e.tenantId,target:u,tokenType:d,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},g=r&&r.accessToken||this.getTokenKeys().accessToken,v=[];g.forEach(b=>{if(this.accessTokenKeyMatchesFilter(b,p,!0)){const C=this.getAccessTokenCredential(b);C&&this.credentialMatchesFilter(C,p)&&v.push(C)}});const y=v.length;return y<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):y>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),v.forEach(b=>{this.removeAccessToken(xu(b))}),a&&c&&a.addFields({multiMatchedAT:v.length},c),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),v[0])}accessTokenKeyMatchesFilter(e,t,r){const i=e.toLowerCase();if(t.clientId&&i.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&i.indexOf(t.homeAccountId.toLowerCase())===-1||t.realm&&i.indexOf(t.realm.toLowerCase())===-1||t.requestedClaimsHash&&i.indexOf(t.requestedClaimsHash.toLowerCase())===-1)return!1;if(t.target){const a=t.target.asArray();for(let c=0;c<a.length;c++){if(r&&!i.includes(a[c].toLowerCase()))return!1;if(!r&&i.includes(a[c].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),r=[];return t.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;const a=this.getAccessTokenCredential(i);a&&this.credentialMatchesFilter(a,e)&&r.push(a)}),r}getRefreshToken(e,t,r,i,a){this.commonLogger.trace("CacheManager - getRefreshToken called");const c=t?Uf:void 0,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Ge.REFRESH_TOKEN,clientId:this.clientId,familyId:c},d=r&&r.refreshToken||this.getTokenKeys().refreshToken,f=[];d.forEach(g=>{if(this.refreshTokenKeyMatchesFilter(g,u)){const v=this.getRefreshTokenCredential(g);v&&this.credentialMatchesFilter(v,u)&&f.push(v)}});const p=f.length;return p<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(p>1&&i&&a&&i.addFields({multiMatchedRT:p},a),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),f[0])}refreshTokenKeyMatchesFilter(e,t){const r=e.toLowerCase();return!(t.familyId&&r.indexOf(t.familyId.toLowerCase())===-1||!t.familyId&&t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(t),i=Object.keys(r).map(c=>r[c]),a=i.length;if(a<1)return null;if(a>1)throw ge(fp);return i[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!!(t&&t.familyId===Uf)}matchHomeAccountId(e,t){return typeof e.homeAccountId=="string"&&t===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,t){const r=e.oid||e.sub;return t===r}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){var r;return t.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())}matchUsername(e,t){return!!(e&&typeof e=="string"&&(t==null?void 0:t.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const i=jW(this.staticAuthorityOptions,this.commonLogger);if(i.includes(t)&&i.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){var r;return((r=e.realm)==null?void 0:r.toLowerCase())===t.toLowerCase()}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return e.credentialType!==Ge.ACCESS_TOKEN&&e.credentialType!==Ge.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:kn.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return e.indexOf(A0)!==-1}isAuthorityMetadata(e){return e.indexOf(s_.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${s_.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(const r in t)e[r]=t[r];return e}}class VW extends Fd{setAccount(){throw ge(it)}getAccount(){throw ge(it)}getCachedAccountEntity(){throw ge(it)}setIdTokenCredential(){throw ge(it)}getIdTokenCredential(){throw ge(it)}setAccessTokenCredential(){throw ge(it)}getAccessTokenCredential(){throw ge(it)}setRefreshTokenCredential(){throw ge(it)}getRefreshTokenCredential(){throw ge(it)}setAppMetadata(){throw ge(it)}getAppMetadata(){throw ge(it)}setServerTelemetry(){throw ge(it)}getServerTelemetry(){throw ge(it)}setAuthorityMetadata(){throw ge(it)}getAuthorityMetadata(){throw ge(it)}getAuthorityMetadataKeys(){throw ge(it)}setThrottlingCache(){throw ge(it)}getThrottlingCache(){throw ge(it)}removeItem(){throw ge(it)}getKeys(){throw ge(it)}getAccountKeys(){throw ge(it)}getTokenKeys(){throw ge(it)}async clear(){throw ge(it)}updateCredentialCacheKey(){throw ge(it)}removeOutdatedAccount(){throw ge(it)}}/*! @azure/msal-common v14.15.0 2024-09-20 */const hz={tokenRenewalOffsetSeconds:RW,preventCorsPreflight:!1},YW={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:rn.Info,correlationId:ee.EMPTY_STRING},QW={claimsBasedCachingEnabled:!1},ZW={async sendGetRequestAsync(){throw ge(it)},async sendPostRequestAsync(){throw ge(it)}},WW={sku:ee.SKU,version:w0,cpu:ee.EMPTY_STRING,os:ee.EMPTY_STRING},XW={clientSecret:ee.EMPTY_STRING,clientAssertion:void 0},JW={azureCloudInstance:Dd.None,tenant:`${ee.DEFAULT_COMMON_TENANT}`},e7={application:{appName:"",appVersion:""}};function t7({authOptions:n,systemOptions:e,loggerOptions:t,cacheOptions:r,storageInterface:i,networkInterface:a,cryptoInterface:c,clientCredentials:u,libraryInfo:d,telemetry:f,serverTelemetryManager:p,persistencePlugin:g,serializableCache:v}){const y={...YW,...t};return{authOptions:n7(n),systemOptions:{...hz,...e},loggerOptions:y,cacheOptions:{...QW,...r},storageInterface:i||new VW(n.clientId,xd,new xi(y)),networkInterface:a||ZW,cryptoInterface:c||xd,clientCredentials:u||XW,libraryInfo:{...WW,...d},telemetry:{...e7,...f},serverTelemetryManager:p||null,persistencePlugin:g||null,serializableCache:v||null}}function n7(n){return{clientCapabilities:[],azureCloudOptions:JW,skipAuthorityMetadataCache:!1,instanceAware:!1,...n}}function WA(n){return n.authOptions.authority.options.protocolMode===Io.OIDC}/*! @azure/msal-common v14.15.0 2024-09-20 */class Li extends ht{constructor(e,t,r,i,a){super(e,t,r),this.name="ServerError",this.errorNo=i,this.status=a,Object.setPrototypeOf(this,Li.prototype)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class _o{static generateThrottlingStorageKey(e){return`${zf.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t){var a;const r=_o.generateThrottlingStorageKey(t),i=e.getThrottlingCache(r);if(i){if(i.throttleTime<Date.now()){e.removeItem(r);return}throw new Li(((a=i.errorCodes)==null?void 0:a.join(" "))||ee.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,t,r){if(_o.checkResponseStatus(r)||_o.checkResponseForRetryAfter(r)){const i={throttleTime:_o.calculateThrottleTime(parseInt(r.headers[ki.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(_o.generateThrottlingStorageKey(t),i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(ki.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(t||zf.DEFAULT_THROTTLE_TIME_SECONDS),r+zf.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,t,r,i){const a={clientId:t,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:i,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},c=this.generateThrottlingStorageKey(a);e.removeItem(c)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class r7{constructor(e,t){this.networkClient=e,this.cacheManager=t}async sendPostRequest(e,t,r){_o.preProcess(this.cacheManager,e);let i;try{i=await this.networkClient.sendPostRequestAsync(t,r)}catch(a){throw a instanceof ht?a:ge(sp)}return _o.postProcess(this.cacheManager,e,i),i}}/*! @azure/msal-common v14.15.0 2024-09-20 */const ai={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v14.15.0 2024-09-20 */const Bd="client_id",i7="redirect_uri",Cx="response_type",o7="response_mode",a7="grant_type",s7="claims",c7="scope",l7="refresh_token",u7="state",d7="nonce",h7="prompt",f7="code",p7="code_challenge",g7="code_challenge_method",m7="code_verifier",v7="client-request-id",y7="x-client-SKU",_7="x-client-VER",b7="x-client-OS",E7="x-client-CPU",C7="x-client-current-telemetry",S7="x-client-last-telemetry",T7="x-ms-lib-capability",A7="x-app-name",w7="x-app-ver",R7="post_logout_redirect_uri",k7="id_token_hint",I7="device_code",O7="client_secret",N7="client_assertion",M7="client_assertion_type",Sx="token_type",Tx="req_cnf",P7="assertion",x7="requested_token_use",Ax="return_spa_code",D7="nativebroker",L7="logout_hint",U7="sid",z7="login_hint",H7="domain_hint",F7="x-client-xtra-sku";/*! @azure/msal-common v14.15.0 2024-09-20 */class Au{static validateRedirectUri(e){if(!e)throw xt(Tp)}static validatePrompt(e){const t=[];for(const r in jn)t.push(jn[r]);if(t.indexOf(e)<0)throw xt(kp)}static validateClaims(e){try{JSON.parse(e)}catch{throw xt(Ld)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw xt(Ud);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([hx.PLAIN,hx.S256].indexOf(e)<0)throw xt(Np)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class Yu{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(Cx,encodeURIComponent(ee.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(Cx,encodeURIComponent(`${ee.TOKEN_RESPONSE_TYPE} ${ee.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(o7,encodeURIComponent(e||AW.QUERY))}addNativeBroker(){this.parameters.set(D7,encodeURIComponent("1"))}addScopes(e,t=!0,r=Wi){t&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const i=t?[...e||[],...r]:e||[],a=new kn(i);this.parameters.set(c7,encodeURIComponent(a.printScopes()))}addClientId(e){this.parameters.set(Bd,encodeURIComponent(e))}addRedirectUri(e){Au.validateRedirectUri(e),this.parameters.set(i7,encodeURIComponent(e))}addPostLogoutRedirectUri(e){Au.validateRedirectUri(e),this.parameters.set(R7,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(k7,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(H7,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(z7,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(ki.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(ki.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(U7,encodeURIComponent(e))}addClaims(e,t){const r=this.addClientCapabilitiesToClaims(e,t);Au.validateClaims(r),this.parameters.set(s7,encodeURIComponent(r))}addCorrelationId(e){this.parameters.set(v7,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(y7,e.sku),this.parameters.set(_7,e.version),e.os&&this.parameters.set(b7,e.os),e.cpu&&this.parameters.set(E7,e.cpu)}addApplicationTelemetry(e){e!=null&&e.appName&&this.parameters.set(A7,e.appName),e!=null&&e.appVersion&&this.parameters.set(w7,e.appVersion)}addPrompt(e){Au.validatePrompt(e),this.parameters.set(`${h7}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(u7,encodeURIComponent(e))}addNonce(e){this.parameters.set(d7,encodeURIComponent(e))}addCodeChallengeParams(e,t){if(Au.validateCodeChallengeParams(e,t),e&&t)this.parameters.set(p7,encodeURIComponent(e)),this.parameters.set(g7,encodeURIComponent(t));else throw xt(Ud)}addAuthorizationCode(e){this.parameters.set(f7,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(I7,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(l7,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(m7,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(O7,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(N7,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(M7,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(P7,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(x7,encodeURIComponent(e))}addGrantType(e){this.parameters.set(a7,encodeURIComponent(e))}addClientInfo(){this.parameters.set(wW,"1")}addExtraQueryParameters(e){Object.entries(e).forEach(([t,r])=>{!this.parameters.has(t)&&r&&this.parameters.set(t,r)})}addClientCapabilitiesToClaims(e,t){let r;if(!e)r={};else try{r=JSON.parse(e)}catch{throw xt(Ld)}return t&&t.length>0&&(r.hasOwnProperty(Nv.ACCESS_TOKEN)||(r[Nv.ACCESS_TOKEN]={}),r[Nv.ACCESS_TOKEN][Nv.XMS_CC]={values:t}),JSON.stringify(r)}addUsername(e){this.parameters.set(px.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(px.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(Sx,Et.POP),this.parameters.set(Tx,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(Sx,Et.SSH),this.parameters.set(Tx,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(C7,e.generateCurrentRequestHeaderValue()),this.parameters.set(S7,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(T7,zf.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(L7,encodeURIComponent(e))}createQueryString(){const e=new Array;return this.parameters.forEach((t,r)=>{e.push(`${r}=${t}`)}),e.join("&")}}/*! @azure/msal-common v14.15.0 2024-09-20 */function B7(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v14.15.0 2024-09-20 */function K7(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}/*! @azure/msal-common v14.15.0 2024-09-20 */function q7(n){return n.hasOwnProperty("error")&&n.hasOwnProperty("error_description")}/*! @azure/msal-common v14.15.0 2024-09-20 */const P={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},$7=new Map([[P.AcquireTokenByCode,"ATByCode"],[P.AcquireTokenByRefreshToken,"ATByRT"],[P.AcquireTokenSilent,"ATS"],[P.AcquireTokenSilentAsync,"ATSAsync"],[P.AcquireTokenPopup,"ATPopup"],[P.AcquireTokenRedirect,"ATRedirect"],[P.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[P.CryptoOptsSignJwt,"CryptoSignJwt"],[P.SilentCacheClientAcquireToken,"SltCacheClientAT"],[P.SilentIframeClientAcquireToken,"SltIframeClientAT"],[P.SilentRefreshClientAcquireToken,"SltRClientAT"],[P.SsoSilent,"SsoSlt"],[P.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[P.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[P.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[P.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[P.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[P.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[P.BrokerHandhshake,"BrokerHandshake"],[P.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[P.AcquireTokenByBroker,"ATByBroker"],[P.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[P.RefreshTokenClientAcquireToken,"RTClientAT"],[P.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[P.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[P.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[P.AcquireTokenFromCache,"ATFromCache"],[P.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[P.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[P.AcquireTokenBySilentIframe,"ATBySltIframe"],[P.InitializeBaseRequest,"InitBaseReq"],[P.InitializeSilentRequest,"InitSltReq"],[P.InitializeClientApplication,"InitClientApplication"],[P.SilentIframeClientTokenHelper,"SIClientTHelper"],[P.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[P.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[P.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[P.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[P.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[P.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[P.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[P.StandardInteractionClientInitializeAuthorizationCodeRequest,"StdIntClientInitAuthCodeReq"],[P.GetAuthCodeUrl,"GetAuthCodeUrl"],[P.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[P.HandleCodeResponse,"HandleCodeResp"],[P.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[P.AuthClientAcquireToken,"AuthClientAT"],[P.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[P.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[P.AuthClientCreateQueryString,"AuthClientCreateQueryStr"],[P.PopTokenGenerateCnf,"PopTGenCnf"],[P.PopTokenGenerateKid,"PopTGenKid"],[P.HandleServerTokenResponse,"HandleServerTRes"],[P.DeserializeResponse,"DeserializeRes"],[P.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[P.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[P.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[P.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[P.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[P.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[P.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[P.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[P.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[P.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[P.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[P.AcquireTokenByCodeAsync,"ATByCodeAsync"],[P.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[P.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[P.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[P.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[P.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[P.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[P.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[P.NativeGenerateAuthResult,"NtvGenAuthRes"],[P.RemoveHiddenIframe,"RemoveHiddenIframe"],[P.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[P.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[P.GeneratePkceCodes,"GenPkceCodes"],[P.GenerateCodeVerifier,"GenCodeVerifier"],[P.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[P.Sha256Digest,"Sha256Digest"],[P.GetRandomValues,"GetRandomValues"]]),XA={InProgress:1,Completed:2},j7=new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT"]);/*! @azure/msal-common v14.15.0 2024-09-20 */const Bs=(n,e,t,r,i)=>(...a)=>{t.trace(`Executing function ${e}`);const c=r==null?void 0:r.startMeasurement(e,i);if(i){const u=e+"CallCount";r==null||r.incrementFields({[u]:1},i)}try{const u=n(...a);return c==null||c.end({success:!0}),t.trace(`Returning result from ${e}`),u}catch(u){t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(u))}catch{t.trace("Unable to print error message.")}throw c==null||c.end({success:!1},u),u}},Ee=(n,e,t,r,i)=>(...a)=>{t.trace(`Executing function ${e}`);const c=r==null?void 0:r.startMeasurement(e,i);if(i){const u=e+"CallCount";r==null||r.incrementFields({[u]:1},i)}return r==null||r.setPreQueueTime(e,i),n(...a).then(u=>(t.trace(`Returning result from ${e}`),c==null||c.end({success:!0}),u)).catch(u=>{t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(u))}catch{t.trace("Unable to print error message.")}throw c==null||c.end({success:!1},u),u})};/*! @azure/msal-common v14.15.0 2024-09-20 */class pb{constructor(e,t,r,i){this.networkInterface=e,this.logger=t,this.performanceClient=r,this.correlationId=i}async detectRegion(e,t){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(P.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)t.region_source=mu.ENVIRONMENT_VARIABLE;else{const a=pb.IMDS_OPTIONS;try{const c=await Ee(this.getRegionFromIMDS.bind(this),P.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(ee.IMDS_VERSION,a);if(c.status===Pv.httpSuccess&&(r=c.body,t.region_source=mu.IMDS),c.status===Pv.httpBadRequest){const u=await Ee(this.getCurrentVersion.bind(this),P.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(a);if(!u)return t.region_source=mu.FAILED_AUTO_DETECTION,null;const d=await Ee(this.getRegionFromIMDS.bind(this),P.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(u,a);d.status===Pv.httpSuccess&&(r=d.body,t.region_source=mu.IMDS)}}catch{return t.region_source=mu.FAILED_AUTO_DETECTION,null}}return r||(t.region_source=mu.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,t){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(P.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${ee.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,ee.IMDS_TIMEOUT)}async getCurrentVersion(e){var t;(t=this.performanceClient)==null||t.addQueueMeasurement(P.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const r=await this.networkInterface.sendGetRequestAsync(`${ee.IMDS_ENDPOINT}?format=json`,e);return r.status===Pv.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}pb.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v14.15.0 2024-09-20 */class hr{constructor(e,t,r,i,a,c,u,d){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=a,this.performanceClient=u,this.correlationId=c,this.managedIdentity=d||!1,this.regionDiscovery=new pb(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(ee.CIAM_AUTH_URL))return Gi.Ciam;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case ee.ADFS:return Gi.Adfs;case ee.DSTS:return Gi.Dsts}return Gi.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new mt(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw ge(wi)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw ge(wi)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw ge(wi)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw ge(Ep);return this.replacePath(this.metadata.end_session_endpoint)}else throw ge(wi)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw ge(wi)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw ge(wi)}canReplaceTenant(e){return e.PathSegments.length===1&&!hr.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Gi.Default&&this.protocolMode===Io.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const i=new mt(this.metadata.canonical_authority).getUrlComponents(),a=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((u,d)=>{let f=a[d];if(d===0&&this.canReplaceTenant(i)){const p=new mt(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];f!==p&&(this.logger.verbose(`Replacing tenant domain name ${f} with id ${p}`),f=p)}u!==f&&(t=t.replace(`/${f}/`,`/${u}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Gi.Adfs||this.protocolMode!==Io.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var i,a;(i=this.performanceClient)==null||i.addQueueMeasurement(P.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await Ee(this.updateCloudDiscoveryMetadata.bind(this),P.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await Ee(this.updateEndpointMetadata.bind(this),P.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:r}),(a=this.performanceClient)==null||a.addFields({cloudDiscoverySource:t,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:yx(),jwks_uri:""}),e}updateCachedMetadata(e,t,r){t!==ti.CACHE&&(r==null?void 0:r.source)!==ti.CACHE&&(e.expiresAt=yx(),e.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){var i,a,c;(i=this.performanceClient)==null||i.addQueueMeasurement(P.AuthorityUpdateEndpointMetadata,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===ti.HARDCODED_VALUES&&(a=this.authorityOptions.azureRegionConfiguration)!=null&&a.azureRegion&&t.metadata){const u=await Ee(this.updateMetadataWithRegionalInformation.bind(this),P.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata);xv(e,u,!1),e.canonical_authority=this.canonicalAuthority}return t.source}let r=await Ee(this.getEndpointMetadataFromNetwork.bind(this),P.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return(c=this.authorityOptions.azureRegionConfiguration)!=null&&c.azureRegion&&(r=await Ee(this.updateMetadataWithRegionalInformation.bind(this),P.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),xv(e,r,!0),ti.NETWORK;throw ge(cp,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),xv(e,t,!1),{source:ti.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return xv(e,i,!1),{source:ti.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=_x(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:ti.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new mt(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw xt(Mp)}return null}async getEndpointMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(P.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const i=await this.networkInterface.sendGetRequestAsync(t,e);return B7(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in bx?bx[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var r,i,a;(r=this.performanceClient)==null||r.addQueueMeasurement(P.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const t=(i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.azureRegion;if(t){if(t!==ee.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=_T.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,hr.replaceWithRegionalInformation(e,t);const c=await Ee(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),P.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((a=this.authorityOptions.azureRegionConfiguration)==null?void 0:a.environmentRegion,this.regionDiscoveryMetadata);if(c)return this.regionDiscoveryMetadata.region_outcome=_T.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=c,hr.replaceWithRegionalInformation(e,c);this.regionDiscoveryMetadata.region_outcome=_T.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(P.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const r=await Ee(this.getCloudDiscoveryMetadataFromNetwork.bind(this),P.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return bT(e,r,!0),ti.NETWORK;throw xt(Pp)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||ee.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||ee.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||ee.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),bT(e,t,!1),ti.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=GW(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),bT(e,i,!1),ti.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=_x(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),ti.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Gi.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),hr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=T_(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),xt(zd)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),hr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(P.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${ee.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let r=null;try{const a=await this.networkInterface.sendGetRequestAsync(e,t);let c,u;if(K7(a.body))c=a.body,u=c.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${c.tenant_discovery_endpoint}`);else if(q7(a.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${a.status}`),c=a.body,c.error===ee.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${c.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${c.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),u=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=T_(u,this.hostnameAndPort)}catch(a){if(a instanceof ht)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${a.errorCode}
Error Description: ${a.errorMessage}`);else{const c=a;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${c.name}
Error Description: ${c.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=hr.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(t=>t&&mt.getDomainFromUrl(t).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let r;if(t&&t.azureCloudInstance!==Dd.None){const i=t.tenant?t.tenant:ee.DEFAULT_COMMON_TENANT;r=`${t.azureCloudInstance}/${i}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return ee.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw ge(wi)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return uz.has(e)}static isPublicCloudAuthority(e){return ee.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,r){const i=new mt(e);i.validateAsUri();const a=i.getUrlComponents();let c=`${t}.${a.HostNameAndPort}`;this.isPublicCloudAuthority(a.HostNameAndPort)&&(c=`${t}.${ee.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const u=mt.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:c}).urlString;return r?`${u}?${r}`:u}static replaceWithRegionalInformation(e,t){const r={...e};return r.authorization_endpoint=hr.buildRegionalAuthorityString(r.authorization_endpoint,t),r.token_endpoint=hr.buildRegionalAuthorityString(r.token_endpoint,t),r.end_session_endpoint&&(r.end_session_endpoint=hr.buildRegionalAuthorityString(r.end_session_endpoint,t)),r}static transformCIAMAuthority(e){let t=e;const i=new mt(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(ee.CIAM_AUTH_URL)){const a=i.HostNameAndPort.split(".")[0];t=`${t}${a}${ee.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}hr.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Rs.COMMON,Rs.CONSUMERS,Rs.ORGANIZATIONS]);function G7(n){var i;const r=(i=new mt(n).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:i.toLowerCase();switch(r){case Rs.COMMON:case Rs.ORGANIZATIONS:case Rs.CONSUMERS:return;default:return r}}function fz(n){return n.endsWith(ee.FORWARD_SLASH)?n:`${n}${ee.FORWARD_SLASH}`}function pz(n){const e=n.cloudDiscoveryMetadata;let t;if(e)try{t=JSON.parse(e)}catch{throw xt(zd)}return{canonicalAuthority:n.authority?fz(n.authority):void 0,knownAuthorities:n.knownAuthorities,cloudDiscoveryMetadata:t}}/*! @azure/msal-common v14.15.0 2024-09-20 */async function gz(n,e,t,r,i,a,c){c==null||c.addQueueMeasurement(P.AuthorityFactoryCreateDiscoveredInstance,a);const u=hr.transformCIAMAuthority(fz(n)),d=new hr(u,e,t,r,i,a,c);try{return await Ee(d.resolveEndpointsAsync.bind(d),P.AuthorityResolveEndpointsAsync,i,c,a)(),d}catch{throw ge(wi)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class N0{constructor(e,t){this.config=t7(e),this.logger=new xi(this.config.loggerOptions,rz,w0),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new r7(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[ki.CONTENT_TYPE]=ee.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case ai.HOME_ACCOUNT_ID:try{const r=Du(e.credential);t[ki.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case ai.UPN:t[ki.CCS_HEADER]=`UPN: ${e.credential}`;break}return t}async executePostToTokenEndpoint(e,t,r,i,a,c){var d,f,p,g;c&&((d=this.performanceClient)==null||d.addQueueMeasurement(c,a));const u=await this.networkManager.sendPostRequest(i,e,{body:t,headers:r});return(g=this.performanceClient)==null||g.addFields({refreshTokenSize:((f=u.body.refresh_token)==null?void 0:f.length)||0,httpVerToken:((p=u.headers)==null?void 0:p[ki.X_MS_HTTP_VERSION])||""},a),this.config.serverTelemetryManager&&u.status<500&&u.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),u}async updateAuthority(e,t){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(P.UpdateTokenEndpointAuthority,t);const r=`https://${e}/${this.authority.tenant}/`,i=await gz(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=i}createTokenQueryParameters(e){const t=new Yu;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()}}/*! @azure/msal-common v14.15.0 2024-09-20 */const rl="no_tokens_found",Hp="native_account_unavailable",gb="refresh_token_expired",mz="interaction_required",vz="consent_required",yz="login_required",il="bad_token",V7=Object.freeze(Object.defineProperty({__proto__:null,badToken:il,consentRequired:vz,interactionRequired:mz,loginRequired:yz,nativeAccountUnavailable:Hp,noTokensFound:rl,refreshTokenExpired:gb},Symbol.toStringTag,{value:"Module"}));/*! @azure/msal-common v14.15.0 2024-09-20 */const wx=[mz,vz,yz,il],Y7=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],iy={[rl]:"No refresh token found in the cache. Please sign-in.",[Hp]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[gb]:"Refresh token has expired.",[il]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."},Q7={noTokensFoundError:{code:rl,desc:iy[rl]},native_account_unavailable:{code:Hp,desc:iy[Hp]},bad_token:{code:il,desc:iy[il]}};class wr extends ht{constructor(e,t,r,i,a,c,u,d){super(e,t,r),Object.setPrototypeOf(this,wr.prototype),this.timestamp=i||ee.EMPTY_STRING,this.traceId=a||ee.EMPTY_STRING,this.correlationId=c||ee.EMPTY_STRING,this.claims=u||ee.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=d}}function Rx(n,e,t){const r=!!n&&wx.indexOf(n)>-1,i=!!t&&Y7.indexOf(t)>-1,a=!!e&&wx.some(c=>e.indexOf(c)>-1);return r||a||i}function JA(n){return new wr(n,iy[n])}/*! @azure/msal-common v14.15.0 2024-09-20 */class Zi{static setRequestState(e,t,r){const i=Zi.generateLibraryState(e,r);return t?`${i}${ee.RESOURCE_DELIM}${t}`:i}static generateLibraryState(e,t){if(!e)throw ge(Od);const r={id:e.createNewGuid()};t&&(r.meta=t);const i=JSON.stringify(r);return e.base64Encode(i)}static parseRequestState(e,t){if(!e)throw ge(Od);if(!t)throw ge(Ea);try{const r=t.split(ee.RESOURCE_DELIM),i=r[0],a=r.length>1?r.slice(1).join(ee.RESOURCE_DELIM):ee.EMPTY_STRING,c=e.base64Decode(i),u=JSON.parse(c);return{userRequestState:a||ee.EMPTY_STRING,libraryState:u}}catch{throw ge(Ea)}}}/*! @azure/msal-common v14.15.0 2024-09-20 */const Z7={SW:"sw"};class ol{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(P.PopTokenGenerateCnf,e.correlationId);const r=await Ee(this.generateKid.bind(this),P.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:i}}async generateKid(e){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(P.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:Z7.SW}}async signPopToken(e,t,r){return this.signPayload(e,t,r)}async signPayload(e,t,r,i){const{resourceRequestMethod:a,resourceRequestUri:c,shrClaims:u,shrNonce:d,shrOptions:f}=r,p=c?new mt(c):void 0,g=p==null?void 0:p.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Di(),m:a==null?void 0:a.toUpperCase(),u:g==null?void 0:g.HostNameAndPort,nonce:d||this.cryptoUtils.createNewGuid(),p:g==null?void 0:g.AbsolutePath,q:g!=null&&g.QueryString?[[],g.QueryString]:void 0,client_claims:u||void 0,...i},t,f,r.correlationId)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class W7{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v14.15.0 2024-09-20 */function X7(n){var r,i;const e="code=",t=(r=n.error_uri)==null?void 0:r.lastIndexOf(e);return t&&t>=0?(i=n.error_uri)==null?void 0:i.substring(t+e.length):void 0}class al{constructor(e,t,r,i,a,c,u){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=i,this.serializableCache=a,this.persistencePlugin=c,this.performanceClient=u}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?ge(el,"Cached State"):ge(el,"Server State");let r,i;try{r=decodeURIComponent(e.state)}catch{throw ge(Ea,e.state)}try{i=decodeURIComponent(t)}catch{throw ge(Ea,e.state)}if(r!==i)throw ge(up);if(e.error||e.error_description||e.suberror){const a=X7(e);throw Rx(e.error,e.error_description,e.suberror)?new wr(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",a):new Li(e.error||"",e.error_description,e.suberror,a)}}validateTokenResponse(e,t){var r;if(e.error||e.error_description||e.suberror){const i=`Error(s): ${e.error_codes||ee.NOT_AVAILABLE} - Timestamp: ${e.timestamp||ee.NOT_AVAILABLE} - Description: ${e.error_description||ee.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||ee.NOT_AVAILABLE} - Trace ID: ${e.trace_id||ee.NOT_AVAILABLE}`,a=(r=e.error_codes)!=null&&r.length?e.error_codes[0]:void 0,c=new Li(e.error,i,e.suberror,a,e.status);if(t&&e.status&&e.status>=Ov.SERVER_ERROR_RANGE_START&&e.status<=Ov.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${c}`);return}else if(t&&e.status&&e.status>=Ov.CLIENT_ERROR_RANGE_START&&e.status<=Ov.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${c}`);return}throw Rx(e.error,e.error_description,e.suberror)?new wr(e.error,e.error_description,e.suberror,e.timestamp||ee.EMPTY_STRING,e.trace_id||ee.EMPTY_STRING,e.correlation_id||ee.EMPTY_STRING,e.claims||ee.EMPTY_STRING,a):c}}async handleServerTokenResponse(e,t,r,i,a,c,u,d,f){var b;(b=this.performanceClient)==null||b.addQueueMeasurement(P.HandleServerTokenResponse,e.correlation_id);let p;if(e.id_token){if(p=Ca(e.id_token||ee.EMPTY_STRING,this.cryptoObj.base64Decode),a&&a.nonce&&p.nonce!==a.nonce)throw ge(dp);if(i.maxAge||i.maxAge===0){const C=p.auth_time;if(!C)throw ge(wd);iz(C,i.maxAge)}}this.homeAccountIdentifier=In.generateHomeAccountId(e.client_info||ee.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,p);let g;a&&a.state&&(g=Zi.parseRequestState(this.cryptoObj,a.state)),e.key_id=e.key_id||i.sshKid||void 0;const v=this.generateCacheRecord(e,t,r,i,p,c,a);let y;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),y=new W7(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(y)),u&&!d&&v.account){const C=v.account.generateAccountKey();if(!this.cacheStorage.getAccount(C,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await al.generateAuthenticationResult(this.cryptoObj,t,v,!1,i,p,g,void 0,f)}await this.cacheStorage.saveCacheRecord(v,i.storeInCache,i.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&y&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(y))}return al.generateAuthenticationResult(this.cryptoObj,t,v,!1,i,p,g,e,f)}generateCacheRecord(e,t,r,i,a,c,u){const d=t.getPreferredCache();if(!d)throw ge(Id);const f=sz(a);let p,g;e.id_token&&a&&(p=db(this.homeAccountIdentifier,d,e.id_token,this.clientId,f||""),g=M0(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,a,e.client_info,d,f,u,void 0,this.logger));let v=null;if(e.access_token){const C=e.scope?kn.fromString(e.scope):new kn(i.scopes||[]),E=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,S=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,w=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,A=r+E,k=A+S,O=w&&w>0?r+w:void 0;v=hb(this.homeAccountIdentifier,d,e.access_token,this.clientId,f||t.tenant||"",C.printScopes(),A,k,this.cryptoObj.base64Decode,O,e.token_type,c,e.key_id,i.claims,i.requestedClaimsHash)}let y=null;if(e.refresh_token){let C;if(e.refresh_token_expires_in){const E=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;C=r+E}y=az(this.homeAccountIdentifier,d,e.refresh_token,this.clientId,e.foci,c,C)}let b=null;return e.foci&&(b={clientId:this.clientId,environment:d,familyId:e.foci}),{account:g,idToken:p,accessToken:v,refreshToken:y,appMetadata:b}}static async generateAuthenticationResult(e,t,r,i,a,c,u,d,f){var A,k,O,D,M;let p=ee.EMPTY_STRING,g=[],v=null,y,b,C=ee.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===Et.POP&&!a.popKid){const N=new ol(e),{secret:K,keyId:F}=r.accessToken;if(!F)throw ge(Md);p=await N.signPopToken(K,F,a)}else p=r.accessToken.secret;g=kn.fromString(r.accessToken.target).asArray(),v=new Date(Number(r.accessToken.expiresOn)*1e3),y=new Date(Number(r.accessToken.extendedExpiresOn)*1e3),r.accessToken.refreshOn&&(b=new Date(Number(r.accessToken.refreshOn)*1e3))}r.appMetadata&&(C=r.appMetadata.familyId===Uf?Uf:"");const E=(c==null?void 0:c.oid)||(c==null?void 0:c.sub)||"",S=(c==null?void 0:c.tid)||"";d!=null&&d.spa_accountid&&r.account&&(r.account.nativeAccountId=d==null?void 0:d.spa_accountid);const w=r.account?k0(r.account.getAccountInfo(),void 0,c,(A=r.idToken)==null?void 0:A.secret):null;return{authority:t.canonicalAuthority,uniqueId:E,tenantId:S,scopes:g,account:w,idToken:((k=r==null?void 0:r.idToken)==null?void 0:k.secret)||"",idTokenClaims:c||{},accessToken:p,fromCache:i,expiresOn:v,extExpiresOn:y,refreshOn:b,correlationId:a.correlationId,requestId:f||ee.EMPTY_STRING,familyId:C,tokenType:((O=r.accessToken)==null?void 0:O.tokenType)||ee.EMPTY_STRING,state:u?u.userRequestState:ee.EMPTY_STRING,cloudGraphHostName:((D=r.account)==null?void 0:D.cloudGraphHostName)||ee.EMPTY_STRING,msGraphHost:((M=r.account)==null?void 0:M.msGraphHost)||ee.EMPTY_STRING,code:d==null?void 0:d.spa_code,fromNativeBroker:!1}}}function M0(n,e,t,r,i,a,c,u,d,f,p){p==null||p.verbose("setCachedAccount called");const v=n.getAccountKeys().find(S=>S.startsWith(t));let y=null;v&&(y=n.getAccount(v,p));const b=y||In.createAccount({homeAccountId:t,idTokenClaims:i,clientInfo:a,environment:c,cloudGraphHostName:d==null?void 0:d.cloud_graph_host_name,msGraphHost:d==null?void 0:d.msgraph_host,nativeAccountId:f},e,r),C=b.tenantProfiles||[],E=u||b.realm;if(E&&!C.find(S=>S.tenantId===E)){const S=fb(t,b.localAccountId,E,i);C.push(S)}return b.tenantProfiles=C,b}/*! @azure/msal-common v14.15.0 2024-09-20 */async function _z(n,e,t){return typeof n=="string"?n:n({clientId:e,tokenEndpoint:t})}/*! @azure/msal-common v14.15.0 2024-09-20 */class bz extends N0{constructor(e,t){var r;super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=(r=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:r.defaultScopes}async getAuthCodeUrl(e){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(P.GetAuthCodeUrl,e.correlationId);const t=await Ee(this.createAuthCodeUrlQueryString.bind(this),P.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return mt.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){var u,d;if((u=this.performanceClient)==null||u.addQueueMeasurement(P.AuthClientAcquireToken,e.correlationId),!e.code)throw ge(pp);const r=Di(),i=await Ee(this.executeTokenRequest.bind(this),P.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),a=(d=i.headers)==null?void 0:d[ki.X_MS_REQUEST_ID],c=new al(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return c.validateTokenResponse(i.body),Ee(c.handleServerTokenResponse.bind(c),P.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,r,e,t,void 0,void 0,void 0,a)}handleFragmentResponse(e,t){if(new al(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw ge(_p);return e}getLogoutUri(e){if(!e)throw xt(Op);const t=this.createLogoutUrlQueryString(e);return mt.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){var f,p;(f=this.performanceClient)==null||f.addQueueMeasurement(P.AuthClientExecuteTokenRequest,t.correlationId);const r=this.createTokenQueryParameters(t),i=mt.appendQueryString(e.tokenEndpoint,r),a=await Ee(this.createTokenRequestBody.bind(this),P.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t);let c;if(t.clientInfo)try{const g=E_(t.clientInfo,this.cryptoUtils.base64Decode);c={credential:`${g.uid}${pr.CLIENT_INFO_SEPARATOR}${g.utid}`,type:ai.HOME_ACCOUNT_ID}}catch(g){this.logger.verbose("Could not parse client info for CCS Header: "+g)}const u=this.createTokenRequestHeaders(c||t.ccsCredential),d={clientId:((p=t.tokenBodyParameters)==null?void 0:p.clientId)||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return Ee(this.executePostToTokenEndpoint.bind(this),P.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(i,a,u,d,t.correlationId,P.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var a,c;(a=this.performanceClient)==null||a.addQueueMeasurement(P.AuthClientCreateTokenRequestBody,e.correlationId);const t=new Yu;if(t.addClientId(((c=e.tokenBodyParameters)==null?void 0:c[Bd])||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):Au.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!WA(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const u=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await _z(u.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(u.assertionType)}if(t.addGrantType(ez.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme===Et.POP){const u=new ol(this.cryptoUtils,this.performanceClient);let d;e.popKid?d=this.cryptoUtils.encodeKid(e.popKid):d=(await Ee(u.generateCnf.bind(u),P.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,t.addPopToken(d)}else if(e.authenticationScheme===Et.SSH)if(e.sshJwk)t.addSshJwk(e.sshJwk);else throw xt(nl);const r=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(r),(!li.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities);let i;if(e.clientInfo)try{const u=E_(e.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${u.uid}${pr.CLIENT_INFO_SEPARATOR}${u.utid}`,type:ai.HOME_ACCOUNT_ID}}catch(u){this.logger.verbose("Could not parse client info for CCS Header: "+u)}else i=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&i)switch(i.type){case ai.HOME_ACCOUNT_ID:try{const u=Du(i.credential);t.addCcsOid(u)}catch(u){this.logger.verbose("Could not parse home account ID for CCS Header: "+u)}break;case ai.UPN:t.addCcsUpn(i.credential);break}return e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Ax])&&t.addExtraQueryParameters({[Ax]:"1"}),t.createQueryString()}async createAuthCodeUrlQueryString(e){var a,c;(a=this.performanceClient)==null||a.addQueueMeasurement(P.AuthClientCreateQueryString,e.correlationId);const t=new Yu;t.addClientId(((c=e.extraQueryParameters)==null?void 0:c[Bd])||this.config.authOptions.clientId);const r=[...e.scopes||[],...e.extraScopesToConsent||[]];t.addScopes(r,!0,this.oidcDefaultScopes),t.addRedirectUri(e.redirectUri);const i=e.correlationId||this.config.cryptoInterface.createNewGuid();if(t.addCorrelationId(i),t.addResponseMode(e.responseMode),t.addResponseTypeCode(),t.addLibraryInfo(this.config.libraryInfo),WA(this.config)||t.addApplicationTelemetry(this.config.telemetry.application),t.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&t.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&t.addPrompt(e.prompt),e.domainHint&&t.addDomainHint(e.domainHint),e.prompt!==jn.SELECT_ACCOUNT)if(e.sid&&e.prompt===jn.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),t.addSid(e.sid);else if(e.account){const u=this.extractAccountSid(e.account);let d=this.extractLoginHint(e.account);if(d&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),d=null),d){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),t.addLoginHint(d);try{const f=Du(e.account.homeAccountId);t.addCcsOid(f)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(u&&e.prompt===jn.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),t.addSid(u);try{const f=Du(e.account.homeAccountId);t.addCcsOid(f)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),t.addLoginHint(e.account.username);try{const f=Du(e.account.homeAccountId);t.addCcsOid(f)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&t.addNonce(e.nonce),e.state&&t.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.addExtraQueryParams(e,t),e.nativeBroker&&(t.addNativeBroker(),e.authenticationScheme===Et.POP)){const u=new ol(this.cryptoUtils);let d;e.popKid?d=this.cryptoUtils.encodeKid(e.popKid):d=(await Ee(u.generateCnf.bind(u),P.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,t.addPopToken(d)}return t.createQueryString()}createLogoutUrlQueryString(e){const t=new Yu;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){var t;return((t=e.idTokenClaims)==null?void 0:t.sid)||null}extractLoginHint(e){var t;return((t=e.idTokenClaims)==null?void 0:t.login_hint)||null}}/*! @azure/msal-common v14.15.0 2024-09-20 */const J7=300;class ew extends N0{constructor(e,t){super(e,t)}async acquireToken(e){var c,u;(c=this.performanceClient)==null||c.addQueueMeasurement(P.RefreshTokenClientAcquireToken,e.correlationId);const t=Di(),r=await Ee(this.executeTokenRequest.bind(this),P.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=(u=r.headers)==null?void 0:u[ki.X_MS_REQUEST_ID],a=new al(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(r.body),Ee(a.handleServerTokenResponse.bind(a),P.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){var r;if(!e)throw xt(Ip);if((r=this.performanceClient)==null||r.addQueueMeasurement(P.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw ge(kd);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Ee(this.acquireTokenWithCachedRefreshToken.bind(this),P.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(i){const a=i instanceof wr&&i.errorCode===rl,c=i instanceof Li&&i.errorCode===fx.INVALID_GRANT_ERROR&&i.subError===fx.CLIENT_MISMATCH_ERROR;if(a||c)return Ee(this.acquireTokenWithCachedRefreshToken.bind(this),P.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw i}return Ee(this.acquireTokenWithCachedRefreshToken.bind(this),P.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){var a;(a=this.performanceClient)==null||a.addQueueMeasurement(P.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=Bs(this.cacheManager.getRefreshToken.bind(this.cacheManager),P.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!r)throw JA(rl);if(r.expiresOn&&__(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||J7))throw JA(gb);const i={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||Et.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:ai.HOME_ACCOUNT_ID}};try{return await Ee(this.acquireToken.bind(this),P.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(c){if(c instanceof wr&&c.subError===il){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const u=xu(r);this.cacheManager.removeRefreshToken(u)}throw c}}async executeTokenRequest(e,t){var d,f;(d=this.performanceClient)==null||d.addQueueMeasurement(P.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),i=mt.appendQueryString(t.tokenEndpoint,r),a=await Ee(this.createTokenRequestBody.bind(this),P.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),c=this.createTokenRequestHeaders(e.ccsCredential),u={clientId:((f=e.tokenBodyParameters)==null?void 0:f.clientId)||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return Ee(this.executePostToTokenEndpoint.bind(this),P.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,a,c,u,e.correlationId,P.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var i,a,c;(i=this.performanceClient)==null||i.addQueueMeasurement(P.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const t=e.correlationId,r=new Yu;if(r.addClientId(((a=e.tokenBodyParameters)==null?void 0:a[Bd])||this.config.authOptions.clientId),e.redirectUri&&r.addRedirectUri(e.redirectUri),r.addScopes(e.scopes,!0,(c=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:c.defaultScopes),r.addGrantType(ez.REFRESH_TOKEN_GRANT),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!WA(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),r.addCorrelationId(t),r.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const u=this.config.clientCredentials.clientAssertion;r.addClientAssertion(await _z(u.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(u.assertionType)}if(e.authenticationScheme===Et.POP){const u=new ol(this.cryptoUtils,this.performanceClient);let d;e.popKid?d=this.cryptoUtils.encodeKid(e.popKid):d=(await Ee(u.generateCnf.bind(u),P.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(d)}else if(e.authenticationScheme===Et.SSH)if(e.sshJwk)r.addSshJwk(e.sshJwk);else throw xt(nl);if((!li.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case ai.HOME_ACCOUNT_ID:try{const u=Du(e.ccsCredential.credential);r.addCcsOid(u)}catch(u){this.logger.verbose("Could not parse home account ID for CCS Header: "+u)}break;case ai.UPN:r.addCcsUpn(e.ccsCredential.credential);break}return e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),r.createQueryString()}}/*! @azure/msal-common v14.15.0 2024-09-20 */class eX extends N0{constructor(e,t){super(e,t)}async acquireToken(e){var t;try{const[r,i]=await this.acquireCachedToken({...e,scopes:(t=e.scopes)!=null&&t.length?e.scopes:[...Wi]});return i===rs.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new ew(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),r}catch(r){if(r instanceof Ri&&r.errorCode===oi)return new ew(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw r}}async acquireCachedToken(e){var d;(d=this.performanceClient)==null||d.addQueueMeasurement(P.SilentFlowClientAcquireCachedToken,e.correlationId);let t=rs.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!li.isEmptyObj(e.claims))throw this.setCacheOutcome(rs.FORCE_REFRESH_OR_CLAIMS,e.correlationId),ge(oi);if(!e.account)throw ge(kd);const r=e.account.tenantId||G7(e.authority),i=this.cacheManager.getTokenKeys(),a=this.cacheManager.getAccessToken(e.account,e,i,r,this.performanceClient,e.correlationId);if(a){if(oz(a.cachedAt)||__(a.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(rs.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),ge(oi);a.refreshOn&&__(a.refreshOn,0)&&(t=rs.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(rs.NO_CACHED_ACCESS_TOKEN,e.correlationId),ge(oi);const c=e.authority||this.authority.getPreferredCache(),u={account:this.cacheManager.readAccountFromCache(e.account),accessToken:a,idToken:this.cacheManager.getIdToken(e.account,i,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(c)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Ee(this.generateResultFromCacheRecord.bind(this),P.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(u,e),t]}setCacheOutcome(e,t){var r,i;(r=this.serverTelemetryManager)==null||r.setCacheOutcome(e),(i=this.performanceClient)==null||i.addFields({cacheOutcome:e},t),e!==rs.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(P.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId);let r;if(e.idToken&&(r=Ca(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||t.maxAge===0){const a=r==null?void 0:r.auth_time;if(!a)throw ge(wd);iz(a,t.maxAge)}return al.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)}}/*! @azure/msal-common v14.15.0 2024-09-20 */const tX={sendGetRequestAsync:()=>Promise.reject(ge(it)),sendPostRequestAsync:()=>Promise.reject(ge(it))};/*! @azure/msal-common v14.15.0 2024-09-20 */class nX{constructor(e){this.headers=e}getShrNonce(){const e=this.headers[ki.AuthenticationInfo];if(e){const r=this.parseChallenges(e);if(r.nextnonce)return r.nextnonce;throw xt(Hd)}const t=this.headers[ki.WWWAuthenticate];if(t){const r=this.parseChallenges(t);if(r.nonce)return r.nonce;throw xt(Hd)}throw xt(Dp)}parseChallenges(e){const t=e.indexOf(" "),r=e.substr(t+1).split(","),i={};return r.forEach(a=>{const[c,u]=a.split("=");i[c]=unescape(u.replace(/['"]+/g,ee.EMPTY_STRING))}),i}}/*! @azure/msal-common v14.15.0 2024-09-20 */const kx=",",Ez="|";function rX(n){const{skus:e,libraryName:t,libraryVersion:r,extensionName:i,extensionVersion:a}=n,c=new Map([[0,[t,r]],[2,[i,a]]]);let u=[];if(e!=null&&e.length){if(u=e.split(kx),u.length<4)return e}else u=Array.from({length:4},()=>Ez);return c.forEach((d,f)=>{var p,g;d.length===2&&((p=d[0])!=null&&p.length)&&((g=d[1])!=null&&g.length)&&iX({skuArr:u,index:f,skuName:d[0],skuVersion:d[1]})}),u.join(kx)}function iX(n){const{skuArr:e,index:t,skuName:r,skuVersion:i}=n;t>=e.length||(e[t]=[r,i].join(Ez))}class Fp{constructor(e,t){this.cacheOutcome=rs.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||ee.EMPTY_STRING,this.wrapperVer=e.wrapperVer||ee.EMPTY_STRING,this.telemetryCacheKey=nr.CACHE_KEY+pr.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${nr.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r!=null&&r.length&&t.push(`broker_error=${r}`);const i=t.join(nr.VALUE_SEPARATOR),a=this.getRegionDiscoveryFields(),c=[e,a].join(nr.VALUE_SEPARATOR);return[nr.SCHEMA_VERSION,c,i].join(nr.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=Fp.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(nr.VALUE_SEPARATOR),i=e.errors.slice(0,t).join(nr.VALUE_SEPARATOR),a=e.errors.length,c=t<a?nr.OVERFLOW_TRUE:nr.OVERFLOW_FALSE,u=[a,c].join(nr.VALUE_SEPARATOR);return[nr.SCHEMA_VERSION,e.cacheHits,r,i,u].join(nr.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=nr.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof ht?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(nr.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),t=Fp.maxErrorsToSend(e),r=e.errors.length;if(t===r)this.cacheManager.removeItem(this.telemetryCacheKey);else{const i={failedRequests:e.failedRequests.slice(t*2),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}}static maxErrorsToSend(e){let t,r=0,i=0;const a=e.errors.length;for(t=0;t<a;t++){const c=e.failedRequests[2*t]||ee.EMPTY_STRING,u=e.failedRequests[2*t+1]||ee.EMPTY_STRING,d=e.errors[t]||ee.EMPTY_STRING;if(i+=c.toString().length+u.toString().length+d.length+3,i<nr.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||ee.EMPTY_STRING),e.push(this.regionSource||ee.EMPTY_STRING),e.push(this.regionOutcome||ee.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return rX(e)}}/*! @azure/msal-common v14.15.0 2024-09-20 */const Cz="missing_kid_error",Sz="missing_alg_error";/*! @azure/msal-common v14.15.0 2024-09-20 */const oX={[Cz]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Sz]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class P0 extends ht{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,P0.prototype)}}function Ix(n){return new P0(n,oX[n])}/*! @azure/msal-common v14.15.0 2024-09-20 */class x0{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Ix(Cz);if(!e.alg)throw Ix(Sz);const t=new x0({typ:e.typ||tz.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class tw{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class D0{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:XA.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new tw}}startPerformanceMeasurement(){return new tw}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v14.15.0 2024-09-20 */function aX(n,e,t){t&&t.push({name:e.get(n.name)||n.name})}function sX(n,e,t,r){if(!(t!=null&&t.length))return;const i=y=>y.length?y[y.length-1]:void 0,a=e.get(n.name)||n.name,c=i(t);if((c==null?void 0:c.name)!==a)return;const u=t==null?void 0:t.pop();if(!u)return;const d=r instanceof ht?r.errorCode:r instanceof Error?r.name:void 0,f=r instanceof ht?r.subError:void 0;d&&u.childErr!==d&&(u.err=d,f&&(u.subErr=f)),delete u.name,delete u.childErr;const p={...u,dur:n.durationMs};n.success||(p.fail=1);const g=i(t);if(!g)return{[a]:p};d&&(g.childErr=d);let v;if(!g[a])v=a;else{const y=Object.keys(g).filter(b=>b.startsWith(a)).length;v=`${a}_${y+1}`}return g[v]=p,g}function cX(n,e,t,r=5){var i,a;if(n instanceof Error){if(n instanceof ht){t.errorCode=n.errorCode,t.subErrorCode=n.subError,(n instanceof Li||n instanceof wr)&&(t.serverErrorNo=n.errorNo);return}else if(n instanceof Uc){t.errorCode=n.errorCode;return}else if((i=t.errorStack)!=null&&i.length){e.trace("PerformanceClient.addErrorStack: Stack already exist",t.correlationId);return}else if(!((a=n.stack)!=null&&a.length)){e.trace("PerformanceClient.addErrorStack: Input stack is empty",t.correlationId);return}}else{e.trace("PerformanceClient.addErrorStack: Input error is not instance of Error",t.correlationId);return}n.stack&&(t.errorStack=lX(n.stack,r)),t.errorName=n.name}function lX(n,e){if(e<0)return[];const t=n.split(`
`)||[];if(t.length<2)return[];const r=[];for(let i=Math.max(t.length-e-1,1);i<t.length;i++){const a=t[i];if(r.length>=e)break;r.push(uX(a))}return r}function uX(n){const e=n.lastIndexOf(" ")+1;if(e<1)return n;const t=n.substring(e);let r=t.lastIndexOf("/");return r=r<0?t.lastIndexOf("\\"):r,r>=0?(n.substring(0,e)+"("+t.substring(r+1)+(t.charAt(t.length-1)===")"?"":")")).trimStart():n.trimStart()}class dX{constructor(e,t,r,i,a,c,u,d){this.authority=t,this.libraryName=i,this.libraryVersion=a,this.applicationTelemetry=c,this.clientId=e,this.logger=r,this.callbacks=new Map,this.eventsByCorrelationId=new Map,this.eventStack=new Map,this.queueMeasurements=new Map,this.preQueueTimeByCorrelationId=new Map,this.intFields=u||new Set;for(const f of j7)this.intFields.add(f);this.abbreviations=d||new Map;for(const[f,p]of $7)this.abbreviations.set(f,p)}startPerformanceMeasurement(e,t){return{}}getPreQueueTime(e,t){const r=this.preQueueTimeByCorrelationId.get(t);if(r){if(r.name!==e){this.logger.trace(`PerformanceClient.getPreQueueTime: no pre-queue time found for ${e}, unable to add queue measurement`);return}}else{this.logger.trace(`PerformanceClient.getPreQueueTime: no pre-queue times found for correlationId: ${t}, unable to add queue measurement`);return}return r.time}calculateQueuedTime(e,t){return e<1?(this.logger.trace(`PerformanceClient: preQueueTime should be a positive integer and not ${e}`),0):t<1?(this.logger.trace(`PerformanceClient: currentTime should be a positive integer and not ${t}`),0):t<e?(this.logger.trace("PerformanceClient: currentTime is less than preQueueTime, check how time is being retrieved"),0):t-e}addQueueMeasurement(e,t,r,i){if(!t){this.logger.trace(`PerformanceClient.addQueueMeasurement: correlationId not provided for ${e}, cannot add queue measurement`);return}if(r===0)this.logger.trace(`PerformanceClient.addQueueMeasurement: queue time provided for ${e} is ${r}`);else if(!r){this.logger.trace(`PerformanceClient.addQueueMeasurement: no queue time provided for ${e}`);return}const a={eventName:e,queueTime:i?0:r,manuallyCompleted:i},c=this.queueMeasurements.get(t);if(c)c.push(a),this.queueMeasurements.set(t,c);else{this.logger.trace(`PerformanceClient.addQueueMeasurement: adding correlationId ${t} to queue measurements`);const u=[a];this.queueMeasurements.set(t,u)}this.preQueueTimeByCorrelationId.delete(t)}startMeasurement(e,t){var a,c;const r=t||this.generateId();t||this.logger.info(`PerformanceClient: No correlation id provided for ${e}, generating`,r),this.logger.trace(`PerformanceClient: Performance measurement started for ${e}`,r);const i={eventId:this.generateId(),status:XA.InProgress,authority:this.authority,libraryName:this.libraryName,libraryVersion:this.libraryVersion,clientId:this.clientId,name:e,startTimeMs:Date.now(),correlationId:r,appName:(a=this.applicationTelemetry)==null?void 0:a.appName,appVersion:(c=this.applicationTelemetry)==null?void 0:c.appVersion};return this.cacheEventByCorrelationId(i),aX(i,this.abbreviations,this.eventStack.get(r)),{end:(u,d)=>this.endMeasurement({...i,...u},d),discard:()=>this.discardMeasurements(i.correlationId),add:u=>this.addFields(u,i.correlationId),increment:u=>this.incrementFields(u,i.correlationId),event:i,measurement:new tw}}endMeasurement(e,t){var f,p;const r=this.eventsByCorrelationId.get(e.correlationId);if(!r)return this.logger.trace(`PerformanceClient: Measurement not found for ${e.eventId}`,e.correlationId),null;const i=e.eventId===r.eventId;let a={totalQueueTime:0,totalQueueCount:0,manuallyCompletedCount:0};e.durationMs=Math.round(e.durationMs||this.getDurationMs(e.startTimeMs));const c=JSON.stringify(sX(e,this.abbreviations,this.eventStack.get(r.correlationId),t));if(i?(a=this.getQueueInfo(e.correlationId),this.discardMeasurements(r.correlationId)):(f=r.incompleteSubMeasurements)==null||f.delete(e.eventId),this.logger.trace(`PerformanceClient: Performance measurement ended for ${e.name}: ${e.durationMs} ms`,e.correlationId),!i)return r[e.name+"DurationMs"]=Math.floor(e.durationMs),{...r};t&&cX(t,this.logger,r);let u={...r,...e},d=0;return(p=u.incompleteSubMeasurements)==null||p.forEach(g=>{this.logger.trace(`PerformanceClient: Incomplete submeasurement ${g.name} found for ${e.name}`,u.correlationId),d++}),u.incompleteSubMeasurements=void 0,u={...u,queuedTimeMs:a.totalQueueTime,queuedCount:a.totalQueueCount,queuedManuallyCompletedCount:a.manuallyCompletedCount,status:XA.Completed,incompleteSubsCount:d,context:c},this.truncateIntegralFields(u),this.emitEvents([u],e.correlationId),u}addFields(e,t){this.logger.trace("PerformanceClient: Updating static fields");const r=this.eventsByCorrelationId.get(t);r?this.eventsByCorrelationId.set(t,{...r,...e}):this.logger.trace("PerformanceClient: Event not found for",t)}incrementFields(e,t){this.logger.trace("PerformanceClient: Updating counters");const r=this.eventsByCorrelationId.get(t);if(r)for(const i in e){if(!r.hasOwnProperty(i))r[i]=0;else if(isNaN(Number(r[i])))return;r[i]+=e[i]}else this.logger.trace("PerformanceClient: Event not found for",t)}cacheEventByCorrelationId(e){const t=this.eventsByCorrelationId.get(e.correlationId);t?(this.logger.trace(`PerformanceClient: Performance measurement for ${e.name} added/updated`,e.correlationId),t.incompleteSubMeasurements=t.incompleteSubMeasurements||new Map,t.incompleteSubMeasurements.set(e.eventId,{name:e.name,startTimeMs:e.startTimeMs})):(this.logger.trace(`PerformanceClient: Performance measurement for ${e.name} started`,e.correlationId),this.eventsByCorrelationId.set(e.correlationId,{...e}),this.eventStack.set(e.correlationId,[]))}getQueueInfo(e){const t=this.queueMeasurements.get(e);t||this.logger.trace(`PerformanceClient: no queue measurements found for for correlationId: ${e}`);let r=0,i=0,a=0;return t==null||t.forEach(c=>{r+=c.queueTime,i++,a+=c.manuallyCompleted?1:0}),{totalQueueTime:r,totalQueueCount:i,manuallyCompletedCount:a}}discardMeasurements(e){this.logger.trace("PerformanceClient: Performance measurements discarded",e),this.eventsByCorrelationId.delete(e),this.logger.trace("PerformanceClient: QueueMeasurements discarded",e),this.queueMeasurements.delete(e),this.logger.trace("PerformanceClient: Pre-queue times discarded",e),this.preQueueTimeByCorrelationId.delete(e),this.logger.trace("PerformanceClient: Event stack discarded",e),this.eventStack.delete(e)}addPerformanceCallback(e){for(const[r,i]of this.callbacks)if(i.toString()===e.toString())return this.logger.warning(`PerformanceClient: Performance callback is already registered with id: ${r}`),r;const t=this.generateId();return this.callbacks.set(t,e),this.logger.verbose(`PerformanceClient: Performance callback registered with id: ${t}`),t}removePerformanceCallback(e){const t=this.callbacks.delete(e);return t?this.logger.verbose(`PerformanceClient: Performance callback ${e} removed.`):this.logger.verbose(`PerformanceClient: Performance callback ${e} not removed.`),t}emitEvents(e,t){this.logger.verbose("PerformanceClient: Emitting performance events",t),this.callbacks.forEach((r,i)=>{this.logger.trace(`PerformanceClient: Emitting event to callback ${i}`,t),r.apply(null,[e])})}truncateIntegralFields(e){this.intFields.forEach(t=>{t in e&&typeof e[t]=="number"&&(e[t]=Math.floor(e[t]))})}getDurationMs(e){const t=Date.now()-e;return t<0?t:0}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const Kd="pkce_not_created",Bp="crypto_nonexistent",sl="empty_navigate_uri",Kp="hash_empty_error",qd="no_state_in_hash",qp="hash_does_not_contain_known_properties",$p="unable_to_parse_state",jp="state_interaction_type_mismatch",Gp="interaction_in_progress",Vp="popup_window_error",Yp="empty_window_error",Do="user_cancelled",A_="monitor_popup_timeout",Qp="monitor_window_timeout",Zp="redirect_in_iframe",Wp="block_iframe_reload",Xp="block_nested_popups",w_="iframe_closed_prematurely",cl="silent_logout_unsupported",Jp="no_account_error",R_="silent_prompt_value_error",eg="no_token_request_cache_error",tg="unable_to_parse_token_request_cache_error",$d="no_cached_authority_error",k_="auth_request_not_set_error",I_="invalid_cache_type",jd="non_browser_environment",sa="database_not_open",ll="no_network_connectivity",ng="post_request_failed",rg="get_request_failed",Gd="failed_to_parse_response",ig="unable_to_load_token",Vd="crypto_key_not_found",og="auth_code_required",ag="auth_code_or_nativeAccountId_required",sg="spa_code_and_nativeAccountId_present",Yd="database_unavailable",cg="unable_to_acquire_token_from_native_platform",lg="native_handshake_timeout",ug="native_extension_not_installed",Ds="native_connection_not_established",dg="uninitialized_public_client_application",hg="native_prompt_not_supported",fg="invalid_base64_string",pg="invalid_pop_token_request",hX=Object.freeze(Object.defineProperty({__proto__:null,authCodeOrNativeAccountIdRequired:ag,authCodeRequired:og,authRequestNotSetError:k_,blockIframeReload:Wp,blockNestedPopups:Xp,cryptoKeyNotFound:Vd,cryptoNonExistent:Bp,databaseNotOpen:sa,databaseUnavailable:Yd,emptyNavigateUri:sl,emptyWindowError:Yp,failedToParseResponse:Gd,getRequestFailed:rg,hashDoesNotContainKnownProperties:qp,hashEmptyError:Kp,iframeClosedPrematurely:w_,interactionInProgress:Gp,invalidBase64String:fg,invalidCacheType:I_,invalidPopTokenRequest:pg,monitorPopupTimeout:A_,monitorWindowTimeout:Qp,nativeConnectionNotEstablished:Ds,nativeExtensionNotInstalled:ug,nativeHandshakeTimeout:lg,nativePromptNotSupported:hg,noAccountError:Jp,noCachedAuthorityError:$d,noNetworkConnectivity:ll,noStateInHash:qd,noTokenRequestCacheError:eg,nonBrowserEnvironment:jd,pkceNotCreated:Kd,popupWindowError:Vp,postRequestFailed:ng,redirectInIframe:Zp,silentLogoutUnsupported:cl,silentPromptValueError:R_,spaCodeAndNativeAccountIdPresent:sg,stateInteractionTypeMismatch:jp,unableToAcquireTokenFromNativePlatform:cg,unableToLoadToken:ig,unableToParseState:$p,unableToParseTokenRequestCacheError:tg,uninitializedPublicClientApplication:dg,userCancelled:Do},Symbol.toStringTag,{value:"Module"}));/*! @azure/msal-browser v3.26.1 2024-10-08 */const Jo="For more visit: aka.ms/msaljs/browser-errors",Ye={[Kd]:"The PKCE code challenge and verifier could not be generated.",[Bp]:"The crypto object or function is not available.",[sl]:"Navigation URI is empty. Please check stack trace for more info.",[Kp]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Jo}`,[qd]:"Hash does not contain state. Please verify that the request originated from msal.",[qp]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Jo}`,[$p]:"Unable to parse state. Please verify that the request originated from msal.",[jp]:"Hash contains state but the interaction type does not match the caller.",[Gp]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Jo}`,[Vp]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Yp]:"window.open returned null or undefined window object.",[Do]:"User cancelled the flow.",[A_]:`Token acquisition in popup failed due to timeout.  ${Jo}`,[Qp]:`Token acquisition in iframe failed due to timeout.  ${Jo}`,[Zp]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Wp]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Jo}`,[Xp]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[w_]:"The iframe being monitored was closed prematurely.",[cl]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Jp]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[R_]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[eg]:"No token request found in cache.",[tg]:"The cached token request could not be parsed.",[$d]:"No cached authority found.",[k_]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[I_]:"Invalid cache type",[jd]:"Login and token requests are not supported in non-browser environments.",[sa]:"Database is not open!",[ll]:"No network connectivity. Check your internet connection.",[ng]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[rg]:"Network request failed. Please check the network trace to determine root cause.",[Gd]:"Failed to parse network response. Check network trace.",[ig]:"Error loading token to cache.",[Vd]:"Cryptographic Key or Keypair not found in browser storage.",[og]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[ag]:"An authorization code or nativeAccountId must be provided to this flow.",[sg]:"Request cannot contain both spa code and native account id.",[Yd]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[cg]:`Unable to acquire token from native platform.  ${Jo}`,[lg]:"Timed out while attempting to establish connection to browser extension",[ug]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Ds]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Jo}`,[dg]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Jo}`,[hg]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[fg]:"Invalid base64 encoded string.",[pg]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true."},fX={pkceNotGenerated:{code:Kd,desc:Ye[Kd]},cryptoDoesNotExist:{code:Bp,desc:Ye[Bp]},emptyNavigateUriError:{code:sl,desc:Ye[sl]},hashEmptyError:{code:Kp,desc:Ye[Kp]},hashDoesNotContainStateError:{code:qd,desc:Ye[qd]},hashDoesNotContainKnownPropertiesError:{code:qp,desc:Ye[qp]},unableToParseStateError:{code:$p,desc:Ye[$p]},stateInteractionTypeMismatchError:{code:jp,desc:Ye[jp]},interactionInProgress:{code:Gp,desc:Ye[Gp]},popupWindowError:{code:Vp,desc:Ye[Vp]},emptyWindowError:{code:Yp,desc:Ye[Yp]},userCancelledError:{code:Do,desc:Ye[Do]},monitorPopupTimeoutError:{code:A_,desc:Ye[A_]},monitorIframeTimeoutError:{code:Qp,desc:Ye[Qp]},redirectInIframeError:{code:Zp,desc:Ye[Zp]},blockTokenRequestsInHiddenIframeError:{code:Wp,desc:Ye[Wp]},blockAcquireTokenInPopupsError:{code:Xp,desc:Ye[Xp]},iframeClosedPrematurelyError:{code:w_,desc:Ye[w_]},silentLogoutUnsupportedError:{code:cl,desc:Ye[cl]},noAccountError:{code:Jp,desc:Ye[Jp]},silentPromptValueError:{code:R_,desc:Ye[R_]},noTokenRequestCacheError:{code:eg,desc:Ye[eg]},unableToParseTokenRequestCacheError:{code:tg,desc:Ye[tg]},noCachedAuthorityError:{code:$d,desc:Ye[$d]},authRequestNotSet:{code:k_,desc:Ye[k_]},invalidCacheType:{code:I_,desc:Ye[I_]},notInBrowserEnvironment:{code:jd,desc:Ye[jd]},databaseNotOpen:{code:sa,desc:Ye[sa]},noNetworkConnectivity:{code:ll,desc:Ye[ll]},postRequestFailed:{code:ng,desc:Ye[ng]},getRequestFailed:{code:rg,desc:Ye[rg]},failedToParseNetworkResponse:{code:Gd,desc:Ye[Gd]},unableToLoadTokenError:{code:ig,desc:Ye[ig]},signingKeyNotFoundInStorage:{code:Vd,desc:Ye[Vd]},authCodeRequired:{code:og,desc:Ye[og]},authCodeOrNativeAccountRequired:{code:ag,desc:Ye[ag]},spaCodeAndNativeAccountPresent:{code:sg,desc:Ye[sg]},databaseUnavailable:{code:Yd,desc:Ye[Yd]},unableToAcquireTokenFromNativePlatform:{code:cg,desc:Ye[cg]},nativeHandshakeTimeout:{code:lg,desc:Ye[lg]},nativeExtensionNotInstalled:{code:ug,desc:Ye[ug]},nativeConnectionNotEstablished:{code:Ds,desc:Ye[Ds]},uninitializedPublicClientApplication:{code:dg,desc:Ye[dg]},nativePromptNotSupported:{code:hg,desc:Ye[hg]},invalidBase64StringError:{code:fg,desc:Ye[fg]},invalidPopTokenRequest:{code:pg,desc:Ye[pg]}};class bl extends ht{constructor(e){super(e,Ye[e]),Object.setPrototypeOf(this,bl.prototype),this.name="BrowserAuthError"}}function Le(n){return new bl(n)}/*! @azure/msal-browser v3.26.1 2024-10-08 */const Hr={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Lu={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},yc={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},gn={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},Ox={GET:"GET",POST:"POST"},zt={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},es={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},Dv={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},nn={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var se;(function(n){n.Redirect="redirect",n.Popup="popup",n.Silent="silent",n.None="none"})(se||(se={}));const _r={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},nw={scopes:Wi},Tz="jwk",pX={React:"@azure/msal-react",Angular:"@azure/msal-angular"},rw="msal.db",gX=1,mX=`${rw}.keys`,pn={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},vX=[pn.Default,pn.Skip,pn.RefreshTokenAndNetwork],yX="msal.browser.log.level",_X="msal.browser.log.pii",bX="msal.browser.performance.enabled";/*! @azure/msal-browser v3.26.1 2024-10-08 */function Lv(n){return encodeURIComponent(L0(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function mb(n){return Az(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function L0(n){return Az(new TextEncoder().encode(n))}function Az(n){const e=Array.from(n,t=>String.fromCodePoint(t)).join("");return btoa(e)}/*! @azure/msal-browser v3.26.1 2024-10-08 */const EX="RSASSA-PKCS1-v1_5",wz="SHA-256",CX=2048,SX=new Uint8Array([1,0,1]),Nx="0123456789abcdef",Mx=new Uint32Array(1),U0={name:EX,hash:wz,modulusLength:CX,publicExponent:SX};function TX(n){if("crypto"in window)n.verbose("BrowserCrypto: modern crypto interface available");else throw n.error("BrowserCrypto: crypto interface is unavailable"),Le(Bp)}async function Rz(n,e,t){e==null||e.addQueueMeasurement(P.Sha256Digest,t);const i=new TextEncoder().encode(n);return window.crypto.subtle.digest(wz,i)}function AX(n){return window.crypto.getRandomValues(n)}function CT(){return window.crypto.getRandomValues(Mx),Mx[0]}function Xi(){const n=Date.now(),e=CT()*1024+(CT()&1023),t=new Uint8Array(16),r=Math.trunc(e/2**30),i=e&2**30-1,a=CT();t[0]=n/2**40,t[1]=n/2**32,t[2]=n/2**24,t[3]=n/2**16,t[4]=n/2**8,t[5]=n,t[6]=112|r>>>8,t[7]=r,t[8]=128|i>>>24,t[9]=i>>>16,t[10]=i>>>8,t[11]=i,t[12]=a>>>24,t[13]=a>>>16,t[14]=a>>>8,t[15]=a;let c="";for(let u=0;u<t.length;u++)c+=Nx.charAt(t[u]>>>4),c+=Nx.charAt(t[u]&15),(u===3||u===5||u===7||u===9)&&(c+="-");return c}async function wX(n,e){return window.crypto.subtle.generateKey(U0,n,e)}async function ST(n){return window.crypto.subtle.exportKey(Tz,n)}async function RX(n,e,t){return window.crypto.subtle.importKey(Tz,n,U0,e,t)}async function kX(n,e){return window.crypto.subtle.sign(U0,n,e)}async function kz(n){const e=await Rz(n),t=new Uint8Array(e);return mb(t)}/*! @azure/msal-browser v3.26.1 2024-10-08 */const gg="storage_not_supported",wn="stubbed_public_client_application_called",mg="in_mem_redirect_unavailable",IX=Object.freeze(Object.defineProperty({__proto__:null,inMemRedirectUnavailable:mg,storageNotSupported:gg,stubbedPublicClientApplicationCalled:wn},Symbol.toStringTag,{value:"Module"}));/*! @azure/msal-browser v3.26.1 2024-10-08 */const oy={[gg]:"Given storage configuration option was not supported.",[wn]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[mg]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."},OX={storageNotSupportedError:{code:gg,desc:oy[gg]},stubPcaInstanceCalled:{code:wn,desc:oy[wn]},inMemRedirectUnavailable:{code:mg,desc:oy[mg]}};class Ug extends ht{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Ug.prototype)}}function Fn(n){return new Ug(n,oy[n])}/*! @azure/msal-browser v3.26.1 2024-10-08 */function Iz(n){n.location.hash="",typeof n.history.replaceState=="function"&&n.history.replaceState(null,"",`${n.location.origin}${n.location.pathname}${n.location.search}`)}function Oz(n){const e=n.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function vb(){return window.parent!==window}function Nz(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${Hr.POPUP_NAME_PREFIX}.`)===0}function Ii(){return window.location.href.split("?")[0].split("#")[0]}function Mz(){const e=new mt(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function Pz(){if(mt.hashContainsKnownProperties(window.location.hash)&&vb())throw Le(Wp)}function xz(n){if(vb()&&!n)throw Le(Zp)}function Dz(){if(Nz())throw Le(Xp)}function Mt(){if(typeof window>"u")throw Le(jd)}function St(n){if(!n)throw Le(dg)}function Oo(n){Mt(),Pz(),Dz(),St(n)}function iw(n,e){if(Oo(n),xz(e.system.allowRedirectInIframe),e.cache.cacheLocation===gn.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw Fn(mg)}function z0(n){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(n).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function si(){return Xi()}const NX=Object.freeze(Object.defineProperty({__proto__:null,blockAPICallsBeforeInitialize:St,blockAcquireTokenInPopups:Dz,blockNonBrowserEnvironment:Mt,blockRedirectInIframe:xz,blockReloadInHiddenIframes:Pz,clearHash:Iz,createGuid:si,getCurrentUri:Ii,getHomepage:Mz,invoke:Bs,invokeAsync:Ee,isInIframe:vb,isInPopup:Nz,preconnect:z0,preflightCheck:Oo,redirectPreflightCheck:iw,replaceHash:Oz},Symbol.toStringTag,{value:"Module"}));/*! @azure/msal-browser v3.26.1 2024-10-08 */class vg{navigateInternal(e,t){return vg.defaultNavigateWindow(e,t)}navigateExternal(e,t){return vg.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise(r=>{setTimeout(()=>{r(!0)},t.timeout)})}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class MX{async sendGetRequestAsync(e,t){let r;try{r=await fetch(e,{method:Ox.GET,headers:this.getFetchHeaders(t)})}catch{throw window.navigator.onLine?Le(rg):Le(ll)}try{return{headers:this.getHeaderDict(r.headers),body:await r.json(),status:r.status}}catch{throw Le(Gd)}}async sendPostRequestAsync(e,t){const r=t&&t.body||ee.EMPTY_STRING;let i;try{i=await fetch(e,{method:Ox.POST,headers:this.getFetchHeaders(t),body:r})}catch{throw window.navigator.onLine?Le(ng):Le(ll)}try{return{headers:this.getHeaderDict(i.headers),body:await i.json(),status:i.status}}catch{throw Le(Gd)}}getFetchHeaders(e){const t=new Headers;if(!(e&&e.headers))return t;const r=e.headers;return Object.keys(r).forEach(i=>{t.append(i,r[i])}),t}getHeaderDict(e){const t={};return e.forEach((r,i)=>{t[i]=r}),t}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const PX=6e4,yg=1e4,xX=3e4,DX=2e3;function LX({auth:n,cache:e,system:t,telemetry:r},i){const a={clientId:ee.EMPTY_STRING,authority:`${ee.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:ee.EMPTY_STRING,authorityMetadata:ee.EMPTY_STRING,redirectUri:ee.EMPTY_STRING,postLogoutRedirectUri:ee.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Io.AAD,OIDCOptions:{serverResponseType:rh.FRAGMENT,defaultScopes:[ee.OPENID_SCOPE,ee.PROFILE_SCOPE,ee.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Dd.None,tenant:ee.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},c={cacheLocation:gn.SessionStorage,temporaryCacheLocation:gn.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===gn.LocalStorage),claimsBasedCachingEnabled:!1},u={loggerCallback:()=>{},logLevel:rn.Info,piiLoggingEnabled:!1},f={...{...hz,loggerOptions:u,networkClient:i?new MX:tX,navigationClient:new vg,loadFrameTimeout:0,windowHashTimeout:(t==null?void 0:t.loadFrameTimeout)||PX,iframeHashTimeout:(t==null?void 0:t.loadFrameTimeout)||yg,navigateFrameWait:0,redirectNavigationTimeout:xX,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(t==null?void 0:t.nativeBrokerHandshakeTimeout)||DX,pollIntervalMilliseconds:Hr.DEFAULT_POLL_INTERVAL_MS},...t,loggerOptions:(t==null?void 0:t.loggerOptions)||u},p={application:{appName:ee.EMPTY_STRING,appVersion:ee.EMPTY_STRING},client:new D0};if((n==null?void 0:n.protocolMode)!==Io.OIDC&&(n!=null&&n.OIDCOptions)&&new xi(f.loggerOptions).warning(JSON.stringify(xt(Lp))),n!=null&&n.protocolMode&&n.protocolMode!==Io.AAD&&(f!=null&&f.allowNativeBroker))throw xt(Up);return{auth:{...a,...n,OIDCOptions:{...a.OIDCOptions,...n==null?void 0:n.OIDCOptions}},cache:{...c,...e},system:f,telemetry:{...p,...r}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const O_="@azure/msal-browser",Ls="3.26.1";/*! @azure/msal-browser v3.26.1 2024-10-08 */class zg{static loggerCallback(e,t){switch(e){case rn.Error:console.error(t);return;case rn.Info:console.info(t);return;case rn.Verbose:console.debug(t);return;case rn.Warning:console.warn(t);return;default:console.log(t);return}}constructor(e){var d;this.browserEnvironment=typeof window<"u",this.config=LX(e,this.browserEnvironment);let t;try{t=window[gn.SessionStorage]}catch{}const r=t==null?void 0:t.getItem(yX),i=(d=t==null?void 0:t.getItem(_X))==null?void 0:d.toLowerCase(),a=i==="true"?!0:i==="false"?!1:void 0,c={...this.config.system.loggerOptions},u=r&&Object.keys(rn).includes(r)?rn[r]:void 0;u&&(c.loggerCallback=zg.loggerCallback,c.logLevel=u),a!==void 0&&(c.piiLoggingEnabled=a),this.logger=new xi(c,O_,Ls),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const ta={UserInteractionRequired:"USER_INTERACTION_REQUIRED",UserCancel:"USER_CANCEL",NoNetwork:"NO_NETWORK",TransientError:"TRANSIENT_ERROR",PersistentError:"PERSISTENT_ERROR",Disabled:"DISABLED",AccountUnavailable:"ACCOUNT_UNAVAILABLE",NestedAppAuthUnavailable:"NESTED_APP_AUTH_UNAVAILABLE"};/*! @azure/msal-browser v3.26.1 2024-10-08 */class br{static async initializeNestedAppAuthBridge(){if(window===void 0)throw new Error("window is undefined");if(window.nestedAppAuthBridge===void 0)throw new Error("window.nestedAppAuthBridge is undefined");try{window.nestedAppAuthBridge.addEventListener("message",t=>{const r=typeof t=="string"?t:t.data,i=JSON.parse(r),a=br.bridgeRequests.find(c=>c.requestId===i.requestId);a!==void 0&&(br.bridgeRequests.splice(br.bridgeRequests.indexOf(a),1),i.success?a.resolve(i):a.reject(i.error))});const e=await new Promise((t,r)=>{const i=br.buildRequest("GetInitContext"),a={requestId:i.requestId,method:i.method,resolve:t,reject:r};br.bridgeRequests.push(a),window.nestedAppAuthBridge.postMessage(JSON.stringify(i))});return br.validateBridgeResultOrThrow(e.initContext)}catch(e){throw window.console.log(e),e}}getTokenInteractive(e){return this.getToken("GetTokenPopup",e)}getTokenSilent(e){return this.getToken("GetToken",e)}async getToken(e,t){const r=await this.sendRequest(e,{tokenParams:t});return{token:br.validateBridgeResultOrThrow(r.token),account:br.validateBridgeResultOrThrow(r.account)}}getHostCapabilities(){return this.capabilities??null}getAccountContext(){return this.accountContext?this.accountContext:null}static buildRequest(e,t){return{messageType:"NestedAppAuthRequest",method:e,requestId:Xi(),sendTime:Date.now(),clientLibrary:Hr.MSAL_SKU,clientLibraryVersion:Ls,...t}}sendRequest(e,t){const r=br.buildRequest(e,t);return new Promise((a,c)=>{const u={requestId:r.requestId,method:r.method,resolve:a,reject:c};br.bridgeRequests.push(u),window.nestedAppAuthBridge.postMessage(JSON.stringify(r))})}static validateBridgeResultOrThrow(e){if(e===void 0)throw{status:ta.NestedAppAuthUnavailable};return e}constructor(e,t,r,i){this.sdkName=e,this.sdkVersion=t,this.accountContext=r,this.capabilities=i}static async create(){const e=await br.initializeNestedAppAuthBridge();return new br(e.sdkName,e.sdkVersion,e.accountContext,e.capabilities)}}br.bridgeRequests=[];/*! @azure/msal-browser v3.26.1 2024-10-08 */class ul extends zg{constructor(){super(...arguments),this.bridgeProxy=void 0,this.accountContext=null}getModuleName(){return ul.MODULE_NAME}getId(){return ul.ID}getBridgeProxy(){return this.bridgeProxy}async initialize(){try{if(typeof window<"u"){typeof window.__initializeNestedAppAuth=="function"&&await window.__initializeNestedAppAuth();const e=await br.create();this.accountContext=e.getAccountContext(),this.bridgeProxy=e,this.available=e!==void 0}}catch(e){this.logger.infoPii(`Could not initialize Nested App Auth bridge (${e})`)}return this.logger.info(`Nested App Auth Bridge available: ${this.available}`),this.available}}ul.MODULE_NAME="";ul.ID="NestedAppOperatingContext";/*! @azure/msal-browser v3.26.1 2024-10-08 */class Us extends zg{getModuleName(){return Us.MODULE_NAME}getId(){return Us.ID}async initialize(){return this.available=typeof window<"u",this.available}}Us.MODULE_NAME="";Us.ID="StandardOperatingContext";/*! @azure/msal-browser v3.26.1 2024-10-08 */function No(n){return new TextDecoder().decode(UX(n))}function UX(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw Le(fg)}const t=atob(e);return Uint8Array.from(t,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v3.26.1 2024-10-08 */class zX{constructor(){this.dbName=rw,this.version=gX,this.tableName=mX,this.dbOpen=!1}async open(){return new Promise((e,t)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",i=>{const a=i;this.db=a.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>t(Le(Yd)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(Le(sa));const c=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);c.addEventListener("success",u=>{const d=u;this.closeConnection(),t(d.target.result)}),c.addEventListener("error",u=>{this.closeConnection(),r(u)})})}async setItem(e,t){return await this.validateDbIsOpen(),new Promise((r,i)=>{if(!this.db)return i(Le(sa));const u=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);u.addEventListener("success",()=>{this.closeConnection(),r()}),u.addEventListener("error",d=>{this.closeConnection(),i(d)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(Le(sa));const c=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);c.addEventListener("success",()=>{this.closeConnection(),t()}),c.addEventListener("error",u=>{this.closeConnection(),r(u)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,t)=>{if(!this.db)return t(Le(sa));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();a.addEventListener("success",c=>{const u=c;this.closeConnection(),e(u.target.result)}),a.addEventListener("error",c=>{this.closeConnection(),t(c)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(Le(sa));const c=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);c.addEventListener("success",u=>{const d=u;this.closeConnection(),t(d.target.result===1)}),c.addEventListener("error",u=>{this.closeConnection(),r(u)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,t)=>{const r=window.indexedDB.deleteDatabase(rw),i=setTimeout(()=>t(!1),200);r.addEventListener("success",()=>(clearTimeout(i),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),r.addEventListener("error",()=>(clearTimeout(i),t(!1)))})}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class _g{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,t){this.cache.set(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((t,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class HX{constructor(e){this.inMemoryCache=new _g,this.indexedDBCache=new zX,this.logger=e}handleDatabaseAccessError(e){if(e instanceof bl&&e.errorCode===Yd)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class Sa{constructor(e,t){this.logger=e,TX(e),this.cache=new HX(this.logger),this.performanceClient=t}createNewGuid(){return Xi()}base64Encode(e){return L0(e)}base64Decode(e){return No(e)}base64UrlEncode(e){return Lv(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var p;const t=(p=this.performanceClient)==null?void 0:p.startMeasurement(P.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await wX(Sa.EXTRACTABLE,Sa.POP_KEY_USAGES),i=await ST(r.publicKey),a={e:i.e,kty:i.kty,n:i.n},c=Px(a),u=await this.hashString(c),d=await ST(r.privateKey),f=await RX(d,!1,["sign"]);return await this.cache.setItem(u,{privateKey:f,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),u}async removeTokenBindingKey(e){return await this.cache.removeItem(e),!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,r,i){var A;const a=(A=this.performanceClient)==null?void 0:A.startMeasurement(P.CryptoOptsSignJwt,i),c=await this.cache.getItem(t);if(!c)throw Le(Vd);const u=await ST(c.publicKey),d=Px(u),f=Lv(JSON.stringify({kid:t})),p=x0.getShrHeaderString({...r==null?void 0:r.header,alg:u.alg,kid:f}),g=Lv(p);e.cnf={jwk:JSON.parse(d)};const v=Lv(JSON.stringify(e)),y=`${g}.${v}`,C=new TextEncoder().encode(y),E=await kX(c.privateKey,C),S=mb(new Uint8Array(E)),w=`${y}.${S}`;return a&&a.end({success:!0}),w}async hashString(e){return kz(e)}}Sa.POP_KEY_USAGES=["sign","verify"];Sa.EXTRACTABLE=!0;function Px(n){return JSON.stringify(n,Object.keys(n).sort())}/*! @azure/msal-browser v3.26.1 2024-10-08 */class bg{constructor(e){this.validateWindowStorage(e),this.windowStorage=window[e]}validateWindowStorage(e){if(e!==gn.LocalStorage&&e!==gn.SessionStorage||!window[e])throw Fn(gg)}getItem(e){return this.windowStorage.getItem(e)}setItem(e,t){this.windowStorage.setItem(e,t)}removeItem(e){this.windowStorage.removeItem(e)}getKeys(){return Object.keys(this.windowStorage)}containsKey(e){return this.windowStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */function Lz(n,e){if(!e)return null;try{return Zi.parseRequestState(n,e).libraryState.meta}catch{throw ge(Ea)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class Eg extends Fd{constructor(e,t,r,i,a,c){super(e,r,i,a),this.COOKIE_LIFE_MULTIPLIER=24*60*60*1e3,this.cacheConfig=t,this.logger=i,this.internalStorage=new _g,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupTemporaryCacheStorage(this.cacheConfig.temporaryCacheLocation,this.cacheConfig.cacheLocation),t.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=c}setupBrowserStorage(e){switch(e){case gn.LocalStorage:case gn.SessionStorage:try{return new bg(e)}catch(t){this.logger.verbose(t);break}}return this.cacheConfig.cacheLocation=gn.MemoryStorage,new _g}setupTemporaryCacheStorage(e,t){switch(t){case gn.LocalStorage:case gn.SessionStorage:try{return new bg(e||gn.SessionStorage)}catch(r){return this.logger.verbose(r),this.internalStorage}case gn.MemoryStorage:default:return this.internalStorage}}migrateCacheEntries(){const e=`${ee.CACHE_PREFIX}.${Xn.ID_TOKEN}`,t=`${ee.CACHE_PREFIX}.${Xn.CLIENT_INFO}`,r=`${ee.CACHE_PREFIX}.${Xn.ERROR}`,i=`${ee.CACHE_PREFIX}.${Xn.ERROR_DESC}`,a=this.browserStorage.getItem(e),c=this.browserStorage.getItem(t),u=this.browserStorage.getItem(r),d=this.browserStorage.getItem(i),f=[a,c,u,d];[Xn.ID_TOKEN,Xn.CLIENT_INFO,Xn.ERROR,Xn.ERROR_DESC].forEach((g,v)=>{const y=f[v];y&&this.setTemporaryCache(g,y,!0)})}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const e=this.getItem(es.ACCOUNT_KEYS),t=this.getItem(`${es.TOKEN_KEYS}.${this.clientId}`);if(e&&t){this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");return}this.browserStorage.getKeys().forEach(i=>{if(this.isCredentialKey(i)){const a=this.getItem(i);if(a){const c=this.validateAndParseJson(a);if(c&&c.hasOwnProperty("credentialType"))switch(c.credentialType){case Ge.ID_TOKEN:if(mx(c)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${i} found, saving key to token key map`);const u=c,d=this.updateCredentialCacheKey(i,u);this.addTokenKey(d,Ge.ID_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${i}`);break;case Ge.ACCESS_TOKEN:case Ge.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(gx(c)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${i} found, saving key to token key map`);const u=c,d=this.updateCredentialCacheKey(i,u);this.addTokenKey(d,Ge.ACCESS_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${i}`);break;case Ge.REFRESH_TOKEN:if(vx(c)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${i} found, saving key to token key map`);const u=c,d=this.updateCredentialCacheKey(i,u);this.addTokenKey(d,Ge.REFRESH_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${i}`);break}}}if(this.isAccountKey(i)){const a=this.getItem(i);if(a){const c=this.validateAndParseJson(a);c&&In.isAccountEntity(c)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${i} found, saving key to account key map`),this.addAccountKeyToMap(i))}}})}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&typeof t=="object"?t:null}catch{return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,t){this.browserStorage.setItem(e,t)}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,r,t)}getCachedAccountEntity(e){const t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;const r=this.validateAndParseJson(t);return!r||!In.isAccountEntity(r)?(this.removeAccountKeyFromMap(e),null):Fd.toObject(new In,r)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");const t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const e=this.getItem(es.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();t.indexOf(e)===-1?(t.push(e),this.setItem(es.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),r=t.indexOf(e);r>-1?(t.splice(r,1),this.setItem(es.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,Ge.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,Ge.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,Ge.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const e=this.getItem(`${es.TOKEN_KEYS}.${this.clientId}`);if(e){const t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const r=this.getTokenKeys();switch(t){case Ge.ID_TOKEN:r.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(e));break;case Ge.ACCESS_TOKEN:r.accessToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),r.accessToken.push(e));break;case Ge.REFRESH_TOKEN:r.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),ge(Nd)}this.setItem(`${es.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const r=this.getTokenKeys();switch(t){case Ge.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const i=r.idToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case Ge.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const a=r.accessToken.indexOf(e);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case Ge.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const c=r.refreshToken.indexOf(e);c>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(c,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),ge(Nd)}this.setItem(`${es.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}getIdTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ge.ID_TOKEN),null;const r=this.validateAndParseJson(t);return!r||!mx(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ge.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const t=xu(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,Ge.ID_TOKEN)}getAccessTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ge.ACCESS_TOKEN),null;const r=this.validateAndParseJson(t);return!r||!gx(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ge.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const t=xu(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,Ge.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ge.REFRESH_TOKEN),null;const r=this.validateAndParseJson(t);return!r||!vx(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ge.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const t=xu(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,Ge.REFRESH_TOKEN)}getAppMetadata(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!BW(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=FW(e);this.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!zW(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(t);return r&&KW(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(t=>this.isAuthorityMetadata(t))}setWrapperMetadata(e,t){this.internalStorage.setItem(Dv.WRAPPER_SKU,e),this.internalStorage.setItem(Dv.WRAPPER_VER,t)}getWrapperMetadata(){const e=this.internalStorage.getItem(Dv.WRAPPER_SKU)||ee.EMPTY_STRING,t=this.internalStorage.getItem(Dv.WRAPPER_VER)||ee.EMPTY_STRING;return[e,t]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(Xn.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const i=this.generateCacheKey(Xn.ACTIVE_ACCOUNT),a=this.getItem(i);if(!a)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const c=this.getAccountInfoFilteredBy({localAccountId:a});return c?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(c),c):null}const r=this.validateAndParseJson(t);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(Xn.ACTIVE_ACCOUNT_FILTERS),r=this.generateCacheKey(Xn.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");const i={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(i)),this.browserStorage.setItem(r,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(r)}getThrottlingCache(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!HW(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const r=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const a=this.getItemCookie(r);if(a)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),a}const i=this.temporaryCacheStorage.getItem(r);if(!i){if(this.cacheConfig.cacheLocation===gn.LocalStorage){const a=this.browserStorage.getItem(r);if(a)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),a}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,t,r){const i=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(i,t))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(e=>{(e.indexOf(ee.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{(e.indexOf(ee.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(e)}),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(P.ClearTokensAndKeysWithClaims,t);const r=this.getTokenKeys(),i=[];r.accessToken.forEach(a=>{const c=this.getAccessTokenCredential(a);c!=null&&c.requestedClaimsHash&&a.includes(c.requestedClaimsHash.toLowerCase())&&i.push(this.removeAccessToken(a))}),await Promise.all(i),i.length>0&&this.logger.warning(`${i.length} access tokens with claims in the cache keys have been removed from the cache.`)}setItemCookie(e,t,r){let i=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=Lax;`;if(r){const a=this.getCookieExpirationTime(r);i+=`expires=${a};`}this.cacheConfig.secureCookies&&(i+="Secure;"),document.cookie=i}getItemCookie(e){const t=`${encodeURIComponent(e)}=`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){let a=r[i];for(;a.charAt(0)===" ";)a=a.substring(1);if(a.indexOf(t)===0)return decodeURIComponent(a.substring(t.length,a.length))}return ee.EMPTY_STRING}clearMsalCookies(){const e=`${ee.CACHE_PREFIX}.${this.clientId}`;document.cookie.split(";").forEach(r=>{for(;r.charAt(0)===" ";)r=r.substring(1);if(r.indexOf(e)===0){const i=r.split("=")[0];this.clearItemCookie(i)}})}clearItemCookie(e){this.setItemCookie(e,ee.EMPTY_STRING,-1)}getCookieExpirationTime(e){const t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):li.startsWith(e,ee.CACHE_PREFIX)||li.startsWith(e,Xn.ADAL_ID_TOKEN)?e:`${ee.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=Zi.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${zt.AUTHORITY}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=Zi.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${zt.NONCE_IDTOKEN}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=Zi.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${zt.REQUEST_STATE}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),r=this.getTemporaryCache(t);if(!r)return null;const i=this.generateAuthorityKey(r);return this.getTemporaryCache(i)}updateCacheEntries(e,t,r,i,a){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const c=this.generateStateKey(e);this.setTemporaryCache(c,e,!1);const u=this.generateNonceKey(e);this.setTemporaryCache(u,t,!1);const d=this.generateAuthorityKey(e);if(this.setTemporaryCache(d,r,!1),a){const f={credential:a.homeAccountId,type:ai.HOME_ACCOUNT_ID};this.setTemporaryCache(zt.CCS_CREDENTIAL,JSON.stringify(f),!0)}else if(i){const f={credential:i,type:ai.UPN};this.setTemporaryCache(zt.CCS_CREDENTIAL,JSON.stringify(f),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach(t=>{t.indexOf(e)!==-1&&this.removeTemporaryItem(t)}),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(zt.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(zt.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(zt.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(zt.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(zt.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(zt.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),r=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r||ee.EMPTY_STRING)}this.clearMsalCookies()}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(t=>{if(t.indexOf(zt.REQUEST_STATE)===-1)return;const r=this.temporaryCacheStorage.getItem(t);if(!r)return;const i=Lz(this.cryptoImpl,r);i&&i.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r))}),this.clearMsalCookies(),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=L0(JSON.stringify(e));this.setTemporaryCache(zt.REQUEST_PARAMS,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(zt.REQUEST_PARAMS,!0);if(!t)throw Le(eg);let r;try{r=JSON.parse(No(t))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),Le(tg)}if(this.removeTemporaryItem(this.generateCacheKey(zt.REQUEST_PARAMS)),!r.authority){const i=this.generateAuthorityKey(e),a=this.getTemporaryCache(i);if(!a)throw Le($d);r.authority=a}return r}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(zt.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${ee.CACHE_PREFIX}.${zt.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${ee.CACHE_PREFIX}.${zt.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw Le(Gp);this.setTemporaryCache(t,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(t)}getLegacyLoginHint(){const e=this.getTemporaryCache(Xn.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(Xn.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const t=this.getTemporaryCache(Xn.ID_TOKEN,!0);t&&(this.browserStorage.removeItem(this.generateCacheKey(Xn.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const r=t||e;if(r){const i=Ca(r,No);if(i.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),i.preferred_username;if(i.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),i.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,t){const r=xu(t);if(e!==r){const i=this.getItem(e);if(i)return this.browserStorage.removeItem(e),this.setItem(r,i),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),r;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}async hydrateCache(e,t){var u,d,f;const r=db((u=e.account)==null?void 0:u.homeAccountId,(d=e.account)==null?void 0:d.environment,e.idToken,this.clientId,e.tenantId);let i;t.claims&&(i=await this.cryptoImpl.hashString(t.claims));const a=hb((f=e.account)==null?void 0:f.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,No,void 0,e.tokenType,void 0,t.sshKid,t.claims,i),c={idToken:r,accessToken:a};return this.saveCacheRecord(c)}async saveCacheRecord(e,t,r){try{await super.saveCacheRecord(e,t,r)}catch(i){if(i instanceof Uc&&this.performanceClient&&r)try{const a=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:a.refreshToken.length,cacheIdCount:a.idToken.length,cacheAtCount:a.accessToken.length},r)}catch{}throw i}}}const H0=(n,e)=>{const t={cacheLocation:gn.MemoryStorage,temporaryCacheLocation:gn.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Eg(n,t,xd,e)};/*! @azure/msal-browser v3.26.1 2024-10-08 */function Uz(n,e,t,r){return n.verbose("getAllAccounts called"),t?e.getAllAccounts(r):[]}function ay(n,e,t){if(e.trace("getAccount called"),Object.keys(n).length===0)return e.warning("getAccount: No accountFilter provided"),null;const r=t.getAccountInfoFilteredBy(n);return r?(e.verbose("getAccount: Account matching provided filter found, returning"),r):(e.verbose("getAccount: No matching account found, returning null"),null)}function zz(n,e,t){if(e.trace("getAccountByUsername called"),!n)return e.warning("getAccountByUsername: No username provided"),null;const r=t.getAccountInfoFilteredBy({username:n});return r?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${n}`),r):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function Hz(n,e,t){if(e.trace("getAccountByHomeId called"),!n)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=t.getAccountInfoFilteredBy({homeAccountId:n});return r?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${n}`),r):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function Fz(n,e,t){if(e.trace("getAccountByLocalId called"),!n)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const r=t.getAccountInfoFilteredBy({localAccountId:n});return r?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${n}`),r):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function ow(n,e){e.setActiveAccount(n)}function Bz(n){return n.getActiveAccount()}/*! @azure/msal-browser v3.26.1 2024-10-08 */const re={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};/*! @azure/msal-browser v3.26.1 2024-10-08 */class yb{constructor(e){this.eventCallbacks=new Map,this.logger=e||new xi({})}addEventCallback(e,t,r){if(typeof window<"u"){const i=r||si();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,r,i){if(typeof window<"u"){const a={eventType:e,interactionType:t||null,payload:r||null,error:i||null,timestamp:Date.now()};this.eventCallbacks.forEach(([c,u],d)=>{(u.length===0||u.includes(e))&&(this.logger.verbose(`Emitting event to callback ${d}: ${e}`),c.apply(null,[a]))})}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class Kz{constructor(e,t,r,i,a,c,u,d,f){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=a,this.navigationClient=c,this.nativeMessageHandler=d,this.correlationId=f||Xi(),this.logger=i.clone(Hr.MSAL_SKU,Ls,this.correlationId),this.performanceClient=u}async clearCacheOnLogout(e){if(e){In.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(In.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri||Ii();return mt.getAbsoluteUrl(t,Ii())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Fp(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(P.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.requestAuthority||this.config.auth.authority,c=r!=null&&r.length?r==="true":this.config.auth.instanceAware,u=t&&c?this.config.auth.authority.replace(mt.getDomainFromUrl(a),t.environment):a,d=hr.generateAuthority(u,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),f=await Ee(gz,P.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(d,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(t&&!f.isAlias(t.environment))throw xt(zp);return f}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const FX=32;async function BX(n,e,t){n.addQueueMeasurement(P.GeneratePkceCodes,t);const r=Bs(KX,P.GenerateCodeVerifier,e,n,t)(n,e,t),i=await Ee(qX,P.GenerateCodeChallengeFromVerifier,e,n,t)(r,n,e,t);return{verifier:r,challenge:i}}function KX(n,e,t){try{const r=new Uint8Array(FX);return Bs(AX,P.GetRandomValues,e,n,t)(r),mb(r)}catch{throw Le(Kd)}}async function qX(n,e,t,r){e.addQueueMeasurement(P.GenerateCodeChallengeFromVerifier,r);try{const i=await Ee(Rz,P.Sha256Digest,t,e,r)(n,e,r);return mb(new Uint8Array(i))}catch{throw Le(Kd)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */async function F0(n,e,t,r){t.addQueueMeasurement(P.InitializeBaseRequest,n.correlationId);const i=n.authority||e.auth.authority,a=[...n&&n.scopes||[]],c={...n,correlationId:n.correlationId,authority:i,scopes:a};if(!c.authenticationScheme)c.authenticationScheme=Et.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(c.authenticationScheme===Et.SSH){if(!n.sshJwk)throw xt(nl);if(!n.sshKid)throw xt(xp)}r.verbose(`Authentication Scheme set to "${c.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&n.claims&&!li.isEmptyObj(n.claims)&&(c.requestedClaimsHash=await kz(n.claims)),c}async function $X(n,e,t,r,i){r.addQueueMeasurement(P.InitializeSilentRequest,n.correlationId);const a=await Ee(F0,P.InitializeBaseRequest,i,r,n.correlationId)(n,t,r,i);return{...n,...a,account:e,forceRefresh:n.forceRefresh||!1}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class ih extends Kz{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(P.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);const t=await Ee(BX,P.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),r={...e,redirectUri:e.redirectUri,code:ee.EMPTY_STRING,codeVerifier:t.verifier};return e.codeChallenge=t.challenge,e.codeChallengeMethod=ee.S256_CODE_CHALLENGE_METHOD,r}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const t={correlationId:this.correlationId||Xi(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=mt.getAbsoluteUrl(e.postLogoutRedirectUri,Ii())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=mt.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Ii())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=mt.getAbsoluteUrl(Ii(),Ii())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(P.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const t=await Ee(this.getClientConfiguration.bind(this),P.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new bz(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:a,account:c}=e;this.performanceClient.addQueueMeasurement(P.StandardInteractionClientGetClientConfiguration,this.correlationId);const u=await Ee(this.getDiscoveredAuthority.bind(this),P.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:a,account:c}),d=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:u,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:d.loggerCallback,piiLoggingEnabled:d.piiLoggingEnabled,logLevel:d.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:Hr.MSAL_SKU,version:Ls,cpu:ee.EMPTY_STRING,os:ee.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(P.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),i={interactionType:t},a=Zi.setRequestState(this.browserCrypto,e&&e.state||ee.EMPTY_STRING,i),u={...await Ee(F0,P.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:a,nonce:e.nonce||Xi(),responseMode:this.config.auth.OIDCOptions.serverResponseType},d=e.account||this.browserStorage.getActiveAccount();if(d&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${d.homeAccountId}`,this.correlationId),u.account=d),!u.loginHint&&!d){const f=this.browserStorage.getLegacyLoginHint();f&&(u.loginHint=f)}return u}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const jX="ContentError",qz="user_switch";/*! @azure/msal-browser v3.26.1 2024-10-08 */const GX="USER_INTERACTION_REQUIRED",VX="USER_CANCEL",YX="NO_NETWORK",QX="PERSISTENT_ERROR",ZX="DISABLED",WX="ACCOUNT_UNAVAILABLE";/*! @azure/msal-browser v3.26.1 2024-10-08 */const XX=-2147186943,JX={[qz]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class bo extends ht{constructor(e,t,r){super(e,t),Object.setPrototypeOf(this,bo.prototype),this.name="NativeAuthError",this.ext=r}}function wu(n){if(n.ext&&n.ext.status&&(n.ext.status===QX||n.ext.status===ZX)||n.ext&&n.ext.error&&n.ext.error===XX)return!0;switch(n.errorCode){case jX:return!0;default:return!1}}function aw(n,e,t){if(t&&t.status)switch(t.status){case WX:return JA(Hp);case GX:return new wr(n,e);case VX:return Le(Do);case YX:return Le(ll)}return new bo(n,JX[n]||e,t)}/*! @azure/msal-browser v3.26.1 2024-10-08 */class $z extends ih{async acquireToken(e){this.performanceClient.addQueueMeasurement(P.SilentCacheClientAcquireToken,e.correlationId);const t=this.initializeServerTelemetryManager(nn.acquireTokenSilent_silentFlow),r=await Ee(this.getClientConfiguration.bind(this),P.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),i=new eX(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const c=(await Ee(i.acquireCachedToken.bind(i),P.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),c}catch(a){throw a instanceof bl&&a.errorCode===Vd&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),a}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t==null?void 0:t.account)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const TT={BROKER_CLIENT_ID:"brk_client_id",BROKER_REDIRECT_URI:"brk_redirect_uri"};class Qu extends Kz{constructor(e,t,r,i,a,c,u,d,f,p,g,v){var b;super(e,t,r,i,a,c,d,f,v),this.apiId=u,this.accountId=p,this.nativeMessageHandler=f,this.nativeStorageManager=g,this.silentCacheClient=new $z(e,this.nativeStorageManager,r,i,a,c,d,f,v),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);const y=this.nativeMessageHandler.getExtensionId()===Lu.PREFERRED_EXTENSION_ID?"chrome":(b=this.nativeMessageHandler.getExtensionId())!=null&&b.length?"unknown":void 0;this.skus=Fp.makeExtraSkuString({libraryName:Hr.MSAL_SKU,libraryVersion:Ls,extensionName:y,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[F7]:this.skus}}async acquireToken(e){this.performanceClient.addQueueMeasurement(P.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const t=this.performanceClient.startMeasurement(P.NativeInteractionClientAcquireToken,e.correlationId),r=Di();try{const i=await this.initializeNativeRequest(e);try{const f=await this.acquireTokensFromCache(this.accountId,i);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),f}catch{this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...a}=i,c={method:yc.GetToken,request:a},u=await this.nativeMessageHandler.sendMessage(c),d=this.validateNativeResponse(u);return await this.handleNativeResponse(d,i,r).then(f=>(t.end({success:!0,isNativeBroker:!0,requestId:f.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),f)).catch(f=>{throw t.end({success:!1,errorCode:f.errorCode,subErrorCode:f.subError,isNativeBroker:!0}),f})}catch(i){throw i instanceof bo&&this.serverTelemetryManager.setNativeBrokerErrorCode(i.errorCode),i}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:kn.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),ge(tl);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!r)throw ge(tl);try{const i=this.createSilentCacheRequest(t,r),a=await this.silentCacheClient.acquireToken(i),c={...r,idTokenClaims:a==null?void 0:a.idTokenClaims,idToken:a==null?void 0:a.idToken};return{...a,account:c}}catch(i){throw i}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=e;delete r.onRedirectNavigate;const i=await this.initializeNativeRequest(r),a={method:yc.GetToken,request:i};try{const d=await this.nativeMessageHandler.sendMessage(a);this.validateNativeResponse(d)}catch(d){if(d instanceof bo&&(this.serverTelemetryManager.setNativeBrokerErrorCode(d.errorCode),wu(d)))throw d}this.browserStorage.setTemporaryCache(zt.NATIVE_REQUEST,JSON.stringify(i),!0);const c={apiId:nn.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},u=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(u,c)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&(e==null||e.addFields({errorCode:"no_cached_request"},t)),null;const{prompt:i,...a}=r;i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(zt.NATIVE_REQUEST));const c={method:yc.GetToken,request:a},u=Di();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const d=await this.nativeMessageHandler.sendMessage(c);this.validateNativeResponse(d);const f=this.handleNativeResponse(d,a,u);this.browserStorage.setInteractionInProgress(!1);const p=await f;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),p}catch(d){throw this.browserStorage.setInteractionInProgress(!1),d}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,r){var p;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=Ca(e.id_token,No),a=this.createHomeAccountIdentifier(e,i),c=(p=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId}))==null?void 0:p.homeAccountId;if(a!==c&&e.account.id!==t.accountId)throw aw(qz);const u=await this.getDiscoveredAuthority({requestAuthority:t.authority}),d=M0(this.browserStorage,u,a,No,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger),f=await this.generateAuthenticationResult(e,t,i,d,u.canonicalAuthority,r);return this.cacheAccount(d),this.cacheNativeTokens(e,t,a,i,e.access_token,f.tenantId,r),f}createHomeAccountIdentifier(e,t){return In.generateHomeAccountId(e.client_info||ee.EMPTY_STRING,Gi.Default,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?kn.fromString(e.scope):kn.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===Et.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new ol(this.browserCrypto),i={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw ge(Md);return r.signPopToken(e.access_token,t.keyId,i)}else return e.access_token}async generateAuthenticationResult(e,t,r,i,a,c){const u=this.addTelemetryFromNativeResponse(e),d=e.scope?kn.fromString(e.scope):kn.fromString(t.scope),f=e.account.properties||{},p=f.UID||r.oid||r.sub||ee.EMPTY_STRING,g=f.TenantId||r.tid||ee.EMPTY_STRING,v=k0(i.getAccountInfo(),void 0,r,e.id_token);v.nativeAccountId!==e.account.id&&(v.nativeAccountId=e.account.id);const y=await this.generatePopAccessToken(e,t),b=t.tokenType===Et.POP?Et.POP:Et.BEARER;return{authority:a,uniqueId:p,tenantId:g,scopes:d.asArray(),account:v,idToken:e.id_token,idTokenClaims:r,accessToken:y,fromCache:u?this.isResponseFromCache(u):!1,expiresOn:new Date(Number(c+e.expires_in)*1e3),tokenType:b,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch(t=>{this.logger.error(`Error occurred while removing account context from browser storage. ${t}`)})}cacheNativeTokens(e,t,r,i,a,c,u){const d=db(r,t.authority,e.id_token||"",t.clientId,i.tid||""),f=t.tokenType===Et.POP?ee.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,p=u+f,g=this.generateScopes(e,t),v=hb(r,t.authority,a,t.clientId,i.tid||c,g.printScopes(),p,0,No,void 0,t.tokenType,void 0,t.keyId),y={idToken:d,accessToken:v};this.nativeStorageManager.saveCacheRecord(y,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw nz(Xc,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new mt(t);r.validateAsUri();const{scopes:i,...a}=e,c=new kn(i||[]);c.appendScopes(Wi);const u=()=>{switch(this.apiId){case nn.ssoSilent:case nn.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),jn.NONE}if(!e.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e.prompt){case jn.NONE:case jn.CONSENT:case jn.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),Le(hg)}},d={...a,accountId:this.accountId,clientId:this.config.auth.clientId,authority:r.urlString,scope:c.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:u(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(d.signPopToken&&e.popKid)throw Le(pg);if(this.handleExtraBrokerParams(d),d.extraParameters=d.extraParameters||{},d.extraParameters.telemetry=Lu.MATS_TELEMETRY,e.authenticationScheme===Et.POP){const f={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},p=new ol(this.browserCrypto);let g;if(d.keyId)g=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:d.keyId})),d.signPopToken=!1;else{const v=await Ee(p.generateCnf.bind(p),P.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(f,this.logger);g=v.reqCnfString,d.keyId=v.kid,d.signPopToken=!0}d.reqCnf=g}return this.addRequestSKUs(d),d}handleExtraBrokerParams(e){if(e.extraParameters&&e.extraParameters.hasOwnProperty(TT.BROKER_CLIENT_ID)&&e.extraParameters.hasOwnProperty(TT.BROKER_REDIRECT_URI)&&e.extraParameters.hasOwnProperty(Bd)){const t=e.extraParameters[Bd],r=e.redirectUri,i=e.extraParameters[TT.BROKER_REDIRECT_URI];e.extraParameters={child_client_id:t,child_redirect_uri:r},e.redirectUri=i}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class Ao{constructor(e,t,r,i){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(P.NativeMessageHandlerHandshake)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:Lu.CHANNEL_ID,extensionId:this.extensionId,responseId:Xi(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise((r,i)=>{this.resolvers.set(t.responseId,{resolve:r,reject:i})})}static async createProvider(e,t,r){e.trace("NativeMessageHandler - createProvider called.");try{const i=new Ao(e,t,r,Lu.PREFERRED_EXTENSION_ID);return await i.sendHandshakeRequest(),i}catch{const a=new Ao(e,t,r);return await a.sendHandshakeRequest(),a}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Lu.CHANNEL_ID,extensionId:this.extensionId,responseId:Xi(),body:{method:yc.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=t=>{this.onChannelMessage(t)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((t,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(Le(lg)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(!(!t.channel||t.channel!==Lu.CHANNEL_ID)&&!(t.extensionId&&t.extensionId!==this.extensionId)&&t.body.method===yc.HandshakeRequest){const r=this.handshakeResolvers.get(t.responseId);if(!r){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);return}this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(Le(ug))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,r=this.resolvers.get(t.responseId),i=this.handshakeResolvers.get(t.responseId);try{const a=t.body.method;if(a===yc.Response){if(!r)return;const c=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(c)}`),c.status!=="Success")r.reject(aw(c.code,c.description,c.ext));else if(c.result)c.result.code&&c.result.description?r.reject(aw(c.result.code,c.result.description,c.result.ext)):r.resolve(c.result);else throw nz(Xc,"Event does not contain result.");this.resolvers.delete(t.responseId)}else if(a===yc.HandshakeResponse){if(!i){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(a){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${a}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(a):i&&i.reject(a)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,t,r,i){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!r)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case Et.BEARER:case Et.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class B0{constructor(e,t,r,i,a){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=i,this.performanceClient=a}async handleCodeResponse(e,t){this.performanceClient.addQueueMeasurement(P.HandleCodeResponse,t.correlationId);let r;try{r=this.authModule.handleFragmentResponse(e,t.state)}catch(i){throw i instanceof Li&&i.subError===Do?Le(Do):i}return Ee(this.handleCodeResponseFromServer.bind(this),P.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)(r,t)}async handleCodeResponseFromServer(e,t,r=!0){if(this.performanceClient.addQueueMeasurement(P.HandleCodeResponseFromServer,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await Ee(this.authModule.updateAuthority.bind(this.authModule),P.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),r&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const a=this.createCcsCredentials(t);a&&(this.authCodeRequest.ccsCredential=a)}return await Ee(this.authModule.acquireToken.bind(this.authModule),P.AuthClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:ai.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:ai.UPN}:null}}/*! @azure/msal-browser v3.26.1 2024-10-08 */function jz(n,e,t){const r=S_(n);if(!r)throw cz(n)?(t.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),t.errorPii(`The ${e} detected is: ${n}`),Le(qp)):(t.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),Le(Kp));return r}function eJ(n,e,t){if(!n.state)throw Le(qd);const r=Lz(e,n.state);if(!r)throw Le($p);if(r.interactionType!==t)throw Le(jp)}/*! @azure/msal-browser v3.26.1 2024-10-08 */class tJ extends ih{constructor(e,t,r,i,a,c,u,d,f,p){super(e,t,r,i,a,c,u,f,p),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=d}acquireToken(e){try{const r={popupName:this.generatePopupName(e.scopes||Wi,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(e,r))}catch(t){return Promise.reject(t)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},i=e&&e.authority,a=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,r,i,a)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(t,r,i,a))}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t){var a;this.logger.verbose("acquireTokenPopupAsync called");const r=this.initializeServerTelemetryManager(nn.acquireTokenPopup),i=await Ee(this.initializeAuthorizationRequest.bind(this),P.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,se.Popup);z0(i.authority);try{const c=await Ee(this.initializeAuthorizationCodeRequest.bind(this),P.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(i),u=await Ee(this.createAuthCodeClient.bind(this),P.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),d=Ao.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let f;d&&(f=this.performanceClient.startMeasurement(P.FetchAccountIdWithNativeBroker,e.correlationId));const p=await u.getAuthCodeUrl({...i,nativeBroker:d}),g=new B0(u,this.browserStorage,c,this.logger,this.performanceClient),v=this.initiateAuthRequest(p,t);this.eventHandler.emitEvent(re.POPUP_OPENED,se.Popup,{popupWindow:v},null);const y=await this.monitorPopupForHash(v,t.popupWindowParent),b=Bs(jz,P.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(y,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(_o.removeThrottle(this.browserStorage,this.config.auth.clientId,c),b.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),f&&f.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw Le(Ds);const E=new Qu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,nn.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,b.accountId,this.nativeStorage,i.correlationId),{userRequestState:S}=Zi.parseRequestState(this.browserCrypto,i.state);return await E.acquireToken({...i,state:S,prompt:void 0})}return await g.handleCodeResponse(b,i)}catch(c){throw(a=t.popup)==null||a.close(),c instanceof ht&&(c.setCorrelationId(this.correlationId),r.cacheFailedRequest(c)),c}}async logoutPopupAsync(e,t,r,i){var c,u,d,f;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(re.LOGOUT_START,se.Popup,e);const a=this.initializeServerTelemetryManager(nn.logoutPopup);try{await this.clearCacheOnLogout(e.account);const p=await Ee(this.createAuthCodeClient.bind(this),P.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:a,requestAuthority:r,account:e.account||void 0});try{p.authority.endSessionEndpoint}catch{if((c=e.account)!=null&&c.homeAccountId&&e.postLogoutRedirectUri&&p.authority.protocolMode===Io.OIDC){if(this.browserStorage.removeAccount((u=e.account)==null?void 0:u.homeAccountId),this.eventHandler.emitEvent(re.LOGOUT_SUCCESS,se.Popup,e),i){const y={apiId:nn.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},b=mt.getAbsoluteUrl(i,Ii());await this.navigationClient.navigateInternal(b,y)}(d=t.popup)==null||d.close();return}}const g=p.getLogoutUri(e);this.eventHandler.emitEvent(re.LOGOUT_SUCCESS,se.Popup,e);const v=this.openPopup(g,t);if(this.eventHandler.emitEvent(re.POPUP_OPENED,se.Popup,{popupWindow:v},null),await this.monitorPopupForHash(v,t.popupWindowParent).catch(()=>{}),i){const y={apiId:nn.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},b=mt.getAbsoluteUrl(i,Ii());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${b}`),await this.navigationClient.navigateInternal(b,y)}else this.logger.verbose("No main window navigation requested")}catch(p){throw(f=t.popup)==null||f.close(),p instanceof ht&&(p.setCorrelationId(this.correlationId),a.cacheFailedRequest(p)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(re.LOGOUT_FAILURE,se.Popup,null,p),this.eventHandler.emitEvent(re.LOGOUT_END,se.Popup),p}this.eventHandler.emitEvent(re.LOGOUT_END,se.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),Le(sl)}monitorPopupForHash(e,t){return new Promise((r,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const a=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(a),i(Le(Do));return}let c="";try{c=e.location.href}catch{}if(!c||c==="about:blank")return;clearInterval(a);let u="";const d=this.config.auth.OIDCOptions.serverResponseType;e&&(d===rh.QUERY?u=e.location.search:u=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(u)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,t)})}openPopup(e,t){try{let r;if(t.popup?(r=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof t.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,t)),!r)throw Le(Yp);return r.focus&&r.focus(),this.currentWindow=r,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),this.browserStorage.setInteractionInProgress(!1),Le(Vp)}}openSizedPopup(e,{popupName:t,popupWindowAttributes:r,popupWindowParent:i}){var y,b,C,E;const a=i.screenLeft?i.screenLeft:i.screenX,c=i.screenTop?i.screenTop:i.screenY,u=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,d=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let f=(y=r.popupSize)==null?void 0:y.width,p=(b=r.popupSize)==null?void 0:b.height,g=(C=r.popupPosition)==null?void 0:C.top,v=(E=r.popupPosition)==null?void 0:E.left;return(!f||f<0||f>u)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),f=Hr.POPUP_WIDTH),(!p||p<0||p>d)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),p=Hr.POPUP_HEIGHT),(!g||g<0||g>d)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),g=Math.max(0,d/2-Hr.POPUP_HEIGHT/2+c)),(!v||v<0||v>u)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),v=Math.max(0,u/2-Hr.POPUP_WIDTH/2+a)),i.open(e,t,`width=${f}, height=${p}, top=${g}, left=${v}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(se.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${Hr.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${Hr.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class xx{constructor(e,t,r,i,a){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=i,this.performanceClient=a}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(zt.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(zt.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:nn.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1};if(typeof t.onRedirectNavigate=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),t.onRedirectNavigate(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await t.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await t.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Le(sl)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const r=this.browserStorage.generateStateKey(t),i=this.browserStorage.getTemporaryCache(r);if(!i)throw ge(el,"Cached State");let a;try{a=this.authModule.handleFragmentResponse(e,i)}catch(f){throw f instanceof Li&&f.subError===Do?Le(Do):f}const c=this.browserStorage.generateNonceKey(i),u=this.browserStorage.getTemporaryCache(c);if(this.authCodeRequest.code=a.code,a.cloud_instance_host_name&&await Ee(this.authModule.updateAuthority.bind(this.authModule),P.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(a.cloud_instance_host_name,this.authCodeRequest.correlationId),a.nonce=u||void 0,a.state=i,a.client_info)this.authCodeRequest.clientInfo=a.client_info;else{const f=this.checkCcsCredentials();f&&(this.authCodeRequest.ccsCredential=f)}const d=await this.authModule.acquireToken(this.authCodeRequest,a);return this.browserStorage.cleanRequestByState(t),d}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(zt.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}/*! @azure/msal-browser v3.26.1 2024-10-08 */function nJ(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const n=window.performance.getEntriesByType("navigation"),e=n.length?n[0]:void 0;return e==null?void 0:e.type}class rJ extends ih{constructor(e,t,r,i,a,c,u,d,f,p){super(e,t,r,i,a,c,u,f,p),this.nativeStorage=d}async acquireToken(e){const t=await Ee(this.initializeAuthorizationRequest.bind(this),P.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,se.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const r=this.initializeServerTelemetryManager(nn.acquireTokenRedirect),i=a=>{a.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(re.RESTORE_FROM_BFCACHE,se.Redirect))};try{const a=await Ee(this.initializeAuthorizationCodeRequest.bind(this),P.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(t),c=await Ee(this.createAuthCodeClient.bind(this),P.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),u=new xx(c,this.browserStorage,a,this.logger,this.performanceClient),d=await c.getAuthCodeUrl({...t,nativeBroker:Ao.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),f=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${f}`),window.addEventListener("pageshow",i),await u.initiateAuthRequest(d,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:f,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(a){throw a instanceof ht&&(a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a)),window.removeEventListener("pageshow",i),this.browserStorage.cleanRequestByState(t.state),a}}async handleRedirectPromise(e="",t){const r=this.initializeServerTelemetryManager(nn.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[i,a]=this.getRedirectResponse(e||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(se.Redirect),nJ()!=="back_forward"?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const c=this.browserStorage.getTemporaryCache(zt.ORIGIN_URI,!0)||ee.EMPTY_STRING,u=mt.removeHashFromUrl(c),d=mt.removeHashFromUrl(window.location.href);if(u===d&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),c.indexOf("#")>-1&&Oz(c),await this.handleResponse(i,r);if(this.config.auth.navigateToLoginRequestUrl){if(!vb()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(zt.URL_HASH,a,!0);const f={apiId:nn.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let p=!0;if(!c||c==="null"){const g=Mz();this.browserStorage.setTemporaryCache(zt.ORIGIN_URI,g,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),p=await this.navigationClient.navigateInternal(g,f)}else this.logger.verbose(`Navigating to loginRequestUrl: ${c}`),p=await this.navigationClient.navigateInternal(c,f);if(!p)return await this.handleResponse(i,r)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(i,r);return null}catch(i){throw i instanceof ht&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),this.browserStorage.cleanRequestByInteractionType(se.Redirect),i}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(this.config.auth.OIDCOptions.serverResponseType===rh.QUERY?t=window.location.search:t=window.location.hash);let r=S_(t);if(r){try{eJ(r,this.browserCrypto,se.Redirect)}catch(a){return a instanceof ht&&this.logger.error(`Interaction type validation failed due to ${a.errorCode}: ${a.errorMessage}`),[null,""]}return Iz(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,t]}const i=this.browserStorage.getTemporaryCache(zt.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(zt.URL_HASH)),i&&(r=S_(i),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,i]):[null,""]}async handleResponse(e,t){const r=e.state;if(!r)throw Le(qd);const i=this.browserStorage.getCachedRequest(r);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Le(Ds);const d=new Qu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,nn.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,i.correlationId),{userRequestState:f}=Zi.parseRequestState(this.browserCrypto,r);return d.acquireToken({...i,state:f,prompt:void 0}).finally(()=>{this.browserStorage.cleanRequestByState(r)})}const a=this.browserStorage.getCachedAuthority(r);if(!a)throw Le($d);const c=await Ee(this.createAuthCodeClient.bind(this),P.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:a});return _o.removeThrottle(this.browserStorage,this.config.auth.clientId,i),new xx(c,this.browserStorage,i,this.logger,this.performanceClient).handleCodeResponse(e,r)}async logout(e){var i,a;this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(nn.logout);try{this.eventHandler.emitEvent(re.LOGOUT_START,se.Redirect,e),await this.clearCacheOnLogout(t.account);const c={apiId:nn.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},u=await Ee(this.createAuthCodeClient.bind(this),P.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(u.authority.protocolMode===Io.OIDC)try{u.authority.endSessionEndpoint}catch{if((i=t.account)!=null&&i.homeAccountId){this.browserStorage.removeAccount((a=t.account)==null?void 0:a.homeAccountId),this.eventHandler.emitEvent(re.LOGOUT_SUCCESS,se.Redirect,t);return}}const d=u.getLogoutUri(t);if(this.eventHandler.emitEvent(re.LOGOUT_SUCCESS,se.Redirect,t),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(d)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(d,c);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(d,c);return}}catch(c){throw c instanceof ht&&(c.setCorrelationId(this.correlationId),r.cacheFailedRequest(c)),this.eventHandler.emitEvent(re.LOGOUT_FAILURE,se.Redirect,null,c),this.eventHandler.emitEvent(re.LOGOUT_END,se.Redirect),c}this.eventHandler.emitEvent(re.LOGOUT_END,se.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return mt.getAbsoluteUrl(t,Ii())}}/*! @azure/msal-browser v3.26.1 2024-10-08 */async function iJ(n,e,t,r,i){if(e.addQueueMeasurement(P.SilentHandlerInitiateAuthRequest,r),!n)throw t.info("Navigate url is empty"),Le(sl);return i?Ee(aJ,P.SilentHandlerLoadFrame,t,e,r)(n,i,e,r):Bs(sJ,P.SilentHandlerLoadFrameSync,t,e,r)(n)}async function oJ(n,e,t,r,i,a,c){return r.addQueueMeasurement(P.SilentHandlerMonitorIframeForHash,a),new Promise((u,d)=>{e<yg&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${yg}ms). This may result in timeouts.`);const f=window.setTimeout(()=>{window.clearInterval(p),d(Le(Qp))},e),p=window.setInterval(()=>{let g="";const v=n.contentWindow;try{g=v?v.location.href:""}catch{}if(!g||g==="about:blank")return;let y="";v&&(c===rh.QUERY?y=v.location.search:y=v.location.hash),window.clearTimeout(f),window.clearInterval(p),u(y)},t)}).finally(()=>{Bs(cJ,P.RemoveHiddenIframe,i,r,a)(n)})}function aJ(n,e,t,r){return t.addQueueMeasurement(P.SilentHandlerLoadFrame,r),new Promise((i,a)=>{const c=Gz();window.setTimeout(()=>{if(!c){a("Unable to load iframe");return}c.src=n,i(c)},e)})}function sJ(n){const e=Gz();return e.src=n,e}function Gz(){const n=document.createElement("iframe");return n.className="msalSilentIframe",n.style.visibility="hidden",n.style.position="absolute",n.style.width=n.style.height="0",n.style.border="0",n.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(n),n}function cJ(n){document.body===n.parentNode&&document.body.removeChild(n)}/*! @azure/msal-browser v3.26.1 2024-10-08 */class lJ extends ih{constructor(e,t,r,i,a,c,u,d,f,p,g){super(e,t,r,i,a,c,d,p,g),this.apiId=u,this.nativeStorage=f}async acquireToken(e){this.performanceClient.addQueueMeasurement(P.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==jn.NONE&&t.prompt!==jn.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${jn.NONE}`),t.prompt=jn.NONE):t.prompt=jn.NONE;const r=await Ee(this.initializeAuthorizationRequest.bind(this),P.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,se.Silent);z0(r.authority);const i=this.initializeServerTelemetryManager(this.apiId);let a;try{return a=await Ee(this.createAuthCodeClient.bind(this),P.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:i,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),await Ee(this.silentTokenHelper.bind(this),P.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(a,r)}catch(c){if(c instanceof ht&&(c.setCorrelationId(this.correlationId),i.cacheFailedRequest(c)),!a||!(c instanceof ht)||c.errorCode!==Hr.INVALID_GRANT_ERROR)throw c;this.performanceClient.addFields({retryError:c.errorCode},this.correlationId);const u=await Ee(this.initializeAuthorizationRequest.bind(this),P.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,se.Silent);return await Ee(this.silentTokenHelper.bind(this),P.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(a,u)}}logout(){return Promise.reject(Le(cl))}async silentTokenHelper(e,t){const r=t.correlationId;this.performanceClient.addQueueMeasurement(P.SilentIframeClientTokenHelper,r);const i=await Ee(this.initializeAuthorizationCodeRequest.bind(this),P.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,r)(t),a=await Ee(e.getAuthCodeUrl.bind(e),P.GetAuthCodeUrl,this.logger,this.performanceClient,r)({...t,nativeBroker:Ao.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),c=new B0(e,this.browserStorage,i,this.logger,this.performanceClient),u=await Ee(iJ,P.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(a,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait),d=this.config.auth.OIDCOptions.serverResponseType,f=await Ee(oJ,P.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(u,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,d),p=Bs(jz,P.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(f,d,this.logger);if(p.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Le(Ds);const g=new Qu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,p.accountId,this.browserStorage,r),{userRequestState:v}=Zi.parseRequestState(this.browserCrypto,t.state);return Ee(g.acquireToken.bind(g),P.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,r)({...t,state:v,prompt:t.prompt||jn.NONE})}return Ee(c.handleCodeResponse.bind(c),P.HandleCodeResponse,this.logger,this.performanceClient,r)(p,t)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class uJ extends ih{async acquireToken(e){this.performanceClient.addQueueMeasurement(P.SilentRefreshClientAcquireToken,e.correlationId);const t=await Ee(F0,P.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r={...e,...t};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const i=this.initializeServerTelemetryManager(nn.acquireTokenSilent_silentFlow),a=await this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return Ee(a.acquireTokenByRefreshToken.bind(a),P.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(c=>{throw c.setCorrelationId(this.correlationId),i.cacheFailedRequest(c),c})}logout(){return Promise.reject(Le(cl))}async createRefreshTokenClient(e){const t=await Ee(this.getClientConfiguration.bind(this),P.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new ew(t,this.performanceClient)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class dJ{constructor(e,t,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=r,this.cryptoObj=i}loadExternalTokens(e,t,r){if(!this.isBrowserEnvironment)throw Le(jd);const i=t.id_token?Ca(t.id_token,No):void 0,a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},c=e.authority?new hr(hr.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,a,this.logger,e.correlationId||Xi()):void 0,u=this.loadAccount(e,r.clientInfo||t.client_info||"",i,c),d=this.loadIdToken(t,u.homeAccountId,u.environment,u.realm),f=this.loadAccessToken(e,t,u.homeAccountId,u.environment,u.realm,r),p=this.loadRefreshToken(t,u.homeAccountId,u.environment);return this.generateAuthenticationResult(e,{account:u,idToken:d,accessToken:f,refreshToken:p},i,c)}loadAccount(e,t,r,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const d=In.createFromAccountInfo(e.account);return this.storage.setAccount(d),d}else if(!i||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),Le(ig);const a=In.generateHomeAccountId(t,i.authorityType,this.logger,this.cryptoObj,r),c=r==null?void 0:r.tid,u=M0(this.storage,i,a,No,r,t,i.hostnameAndPort,c,void 0,void 0,this.logger);return this.storage.setAccount(u),u}loadIdToken(e,t,r,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const a=db(t,r,e.id_token,this.config.auth.clientId,i);return this.storage.setIdTokenCredential(a),a}loadAccessToken(e,t,r,i,a,c){if(t.access_token)if(t.expires_in){if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const u=t.scope?kn.fromString(t.scope):new kn(e.scopes),d=c.expiresOn||t.expires_in+new Date().getTime()/1e3,f=c.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+new Date().getTime()/1e3,p=hb(r,i,t.access_token,this.config.auth.clientId,a,u.printScopes(),d,f,No);return this.storage.setAccessTokenCredential(p),p}loadRefreshToken(e,t,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=az(t,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(i),i}generateAuthenticationResult(e,t,r,i){var p,g,v;let a="",c=[],u=null,d;t!=null&&t.accessToken&&(a=t.accessToken.secret,c=kn.fromString(t.accessToken.target).asArray(),u=new Date(Number(t.accessToken.expiresOn)*1e3),d=new Date(Number(t.accessToken.extendedExpiresOn)*1e3));const f=t.account;return{authority:i?i.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:c,account:f.getAccountInfo(),idToken:((p=t.idToken)==null?void 0:p.secret)||"",idTokenClaims:r||{},accessToken:a,fromCache:!0,expiresOn:u,correlationId:e.correlationId||"",requestId:"",extExpiresOn:d,familyId:((g=t.refreshToken)==null?void 0:g.familyId)||"",tokenType:((v=t==null?void 0:t.accessToken)==null?void 0:v.tokenType)||"",state:e.state||"",cloudGraphHostName:f.cloudGraphHostName||"",msGraphHost:f.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class hJ extends bz{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class fJ extends ih{constructor(e,t,r,i,a,c,u,d,f,p){super(e,t,r,i,a,c,d,f,p),this.apiId=u}async acquireToken(e){if(!e.code)throw Le(og);const t=await Ee(this.initializeAuthorizationRequest.bind(this),P.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,se.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const i={...t,code:e.code},a=await Ee(this.getClientConfiguration.bind(this),P.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),c=new hJ(a);this.logger.verbose("Auth code client created");const u=new B0(c,this.browserStorage,i,this.logger,this.performanceClient);return await Ee(u.handleCodeResponseFromServer.bind(u),P.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(i){throw i instanceof ht&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),i}}logout(){return Promise.reject(Le(cl))}}/*! @azure/msal-browser v3.26.1 2024-10-08 */function co(n){const e=n==null?void 0:n.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Uv(n,e){try{Oo(n)}catch(t){throw e.end({success:!1},t),t}}class Hg{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Sa(this.logger,this.performanceClient):xd,this.eventHandler=new yb(this.logger),this.browserStorage=this.isBrowserEnvironment?new Eg(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,pz(this.config.auth),this.performanceClient):H0(this.config.auth.clientId,this.logger);const t={cacheLocation:gn.MemoryStorage,temporaryCacheLocation:gn.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Eg(this.config.auth.clientId,t,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new dJ(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this),this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}static async createController(e,t){const r=new Hg(e);return await r.initialize(t),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(re.INITIALIZE_END);return}const t=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),r=this.config.system.allowNativeBroker,i=this.performanceClient.startMeasurement(P.InitializeClientApplication,t);if(this.eventHandler.emitEvent(re.INITIALIZE_START),r)try{this.nativeExtensionProvider=await Ao.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(a){this.logger.verbose(a)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await Ee(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),P.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.initialized=!0,this.eventHandler.emitEvent(re.INITIALIZE_END),i.end({allowNativeBroker:r,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),St(this.initialized),this.isBrowserEnvironment){const t=e||"";let r=this.redirectResponse.get(t);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const t=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),i=r&&Ao.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,a=i?r==null?void 0:r.correlationId:this.browserStorage.getTemporaryCache(zt.CORRELATION_ID,!0)||"",c=this.performanceClient.startMeasurement(P.AcquireTokenRedirect,a);this.eventHandler.emitEvent(re.HANDLE_REDIRECT_START,se.Redirect);let u;if(i&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const d=new Qu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,nn.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,r.accountId,this.nativeInternalStorage,r.correlationId);u=Ee(d.handleRedirectPromise.bind(d),P.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,c.event.correlationId)(this.performanceClient,c.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const d=this.createRedirectClient(a);u=Ee(d.handleRedirectPromise.bind(d),P.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,c.event.correlationId)(e,c)}return u.then(d=>(d?(t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(re.LOGIN_SUCCESS,se.Redirect,d),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_SUCCESS,se.Redirect,d),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),c.end({success:!0,accountType:co(d.account)})):c.event.errorCode?c.end({success:!1}):c.discard(),this.eventHandler.emitEvent(re.HANDLE_REDIRECT_END,se.Redirect),d)).catch(d=>{const f=d;throw t.length>0?this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,se.Redirect,null,f):this.eventHandler.emitEvent(re.LOGIN_FAILURE,se.Redirect,null,f),this.eventHandler.emitEvent(re.HANDLE_REDIRECT_END,se.Redirect),c.end({success:!1},f),d})}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const r=this.performanceClient.startMeasurement(P.AcquireTokenPreRedirect,t);r.add({accountType:co(e.account),scenarioId:e.scenarioId});const i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=c=>{const u=typeof i=="function"?i(c):void 0;return u!==!1?r.end({success:!0}):r.discard(),u};else{const c=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=u=>{const d=typeof c=="function"?c(u):void 0;return d!==!1?r.end({success:!0}):r.discard(),d}}const a=this.getAllAccounts().length>0;try{iw(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),a?this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_START,se.Redirect,e):this.eventHandler.emitEvent(re.LOGIN_START,se.Redirect,e);let c;return this.nativeExtensionProvider&&this.canUseNative(e)?c=new Qu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,nn.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,r).catch(d=>{if(d instanceof bo&&wu(d))return this.nativeExtensionProvider=void 0,this.createRedirectClient(t).acquireToken(e);if(d instanceof wr)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),d}):c=this.createRedirectClient(t).acquireToken(e),await c}catch(c){throw r.end({success:!1},c),a?this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,se.Redirect,null,c):this.eventHandler.emitEvent(re.LOGIN_FAILURE,se.Redirect,null,c),c}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(P.AcquireTokenPopup,t);r.add({scenarioId:e.scenarioId,accountType:co(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),Uv(this.initialized,r),this.browserStorage.setInteractionInProgress(!0)}catch(c){return Promise.reject(c)}const i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_START,se.Popup,e):this.eventHandler.emitEvent(re.LOGIN_START,se.Popup,e);let a;return this.canUseNative(e)?a=this.acquireTokenNative({...e,correlationId:t},nn.acquireTokenPopup).then(c=>(this.browserStorage.setInteractionInProgress(!1),r.end({success:!0,isNativeBroker:!0,requestId:c.requestId,accountType:co(c.account)}),c)).catch(c=>{if(c instanceof bo&&wu(c))return this.nativeExtensionProvider=void 0,this.createPopupClient(t).acquireToken(e);if(c instanceof wr)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),c}):a=this.createPopupClient(t).acquireToken(e),a.then(c=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(re.LOGIN_SUCCESS,se.Popup,c):this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_SUCCESS,se.Popup,c),r.end({success:!0,requestId:c.requestId,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,accountType:co(c.account)}),c)).catch(c=>(i.length>0?this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,se.Popup,null,c):this.eventHandler.emitEvent(re.LOGIN_FAILURE,se.Popup,null,c),r.end({success:!1},c),Promise.reject(c)))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var a,c;const t=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:t};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(P.SsoSilent,t),(a=this.ssoSilentMeasurement)==null||a.add({scenarioId:e.scenarioId,accountType:co(e.account)}),Uv(this.initialized,this.ssoSilentMeasurement),(c=this.ssoSilentMeasurement)==null||c.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(re.SSO_SILENT_START,se.Silent,r);let i;return this.canUseNative(r)?i=this.acquireTokenNative(r,nn.ssoSilent).catch(u=>{if(u instanceof bo&&wu(u))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw u}):i=this.createSilentIframeClient(r.correlationId).acquireToken(r),i.then(u=>{var d;return this.eventHandler.emitEvent(re.SSO_SILENT_SUCCESS,se.Silent,u),(d=this.ssoSilentMeasurement)==null||d.end({success:!0,isNativeBroker:u.fromNativeBroker,requestId:u.requestId,accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length,accountType:co(u.account)}),u}).catch(u=>{var d;throw this.eventHandler.emitEvent(re.SSO_SILENT_FAILURE,se.Silent,null,u),(d=this.ssoSilentMeasurement)==null||d.end({success:!1},u),u}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const r=this.performanceClient.startMeasurement(P.AcquireTokenByCode,t);Uv(this.initialized,r),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_BY_CODE_START,se.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw Le(sg);if(e.code){const i=e.code;let a=this.hybridAuthCodeResponses.get(i);return a?(this.logger.verbose("Existing acquireTokenByCode request found",t),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),a=this.acquireTokenByCodeAsync({...e,correlationId:t}).then(c=>(this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_BY_CODE_SUCCESS,se.Silent,c),this.hybridAuthCodeResponses.delete(i),r.end({success:!0,isNativeBroker:c.fromNativeBroker,requestId:c.requestId,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,accountType:co(c.account)}),c)).catch(c=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_BY_CODE_FAILURE,se.Silent,null,c),r.end({success:!1},c),c}),this.hybridAuthCodeResponses.set(i,a)),await a}else if(e.nativeAccountId)if(this.canUseNative(e,e.nativeAccountId)){const i=await this.acquireTokenNative({...e,correlationId:t},nn.acquireTokenByCode,e.nativeAccountId).catch(a=>{throw a instanceof bo&&wu(a)&&(this.nativeExtensionProvider=void 0),a});return r.end({accountType:co(i.account),success:!0}),i}else throw Le(cg);else throw Le(ag)}catch(i){throw this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_BY_CODE_FAILURE,se.Silent,null,i),r.end({success:!1},i),i}}async acquireTokenByCodeAsync(e){var i;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(P.AcquireTokenByCodeAsync,e.correlationId),(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(a=>{var c;return(c=this.acquireTokenByCodeAsyncMeasurement)==null||c.end({success:!0,fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker,requestId:a.requestId}),a}).catch(a=>{var c;throw(c=this.acquireTokenByCodeAsyncMeasurement)==null||c.end({success:!1},a),a}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(P.AcquireTokenFromCache,e.correlationId),t){case pn.Default:case pn.AccessToken:case pn.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(e.correlationId);return Ee(r.acquireToken.bind(r),P.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw ge(oi)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(P.AcquireTokenByRefreshToken,e.correlationId),t){case pn.Default:case pn.AccessTokenAndRefreshToken:case pn.RefreshToken:case pn.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return Ee(r.acquireToken.bind(r),P.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw ge(oi)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(P.AcquireTokenBySilentIframe,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return Ee(t.acquireToken.bind(t),P.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);return iw(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);return Oo(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return Uz(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return ay(e,this.logger,this.browserStorage)}getAccountByUsername(e){return zz(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return Hz(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return Fz(e,this.logger,this.browserStorage)}setActiveAccount(e){ow(e,this.browserStorage)}getActiveAccount(){return Bz(this.browserStorage)}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const r=In.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(r),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw Le(Ds);return new Qu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUseNative(e,t){if(this.logger.trace("canUseNative called"),!Ao.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case jn.NONE:case jn.CONSENT:case jn.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!t&&!this.getNativeAccountId(e)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new tJ(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new rJ(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new lJ(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,nn.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new $z(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new uJ(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new fJ(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,nn.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return Mt(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}handleAccountCacheChange(e){var t;try{(t=e.key)!=null&&t.includes(Xn.ACTIVE_ACCOUNT_FILTERS)&&this.eventHandler.emitEvent(re.ACTIVE_ACCOUNT_CHANGED);const r=e.newValue||e.oldValue;if(!r)return;const i=JSON.parse(r);if(typeof i!="object"||!In.isAccountEntity(i))return;const c=Fd.toObject(new In,i).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.eventHandler.emitEvent(re.ACCOUNT_ADDED,void 0,c)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.eventHandler.emitEvent(re.ACCOUNT_REMOVED,void 0,c))}catch{return}}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?Xi():ee.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||nw})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||nw})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(P.AcquireTokenSilent,t);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Uv(this.initialized,r),this.logger.verbose("acquireTokenSilent called",t);const i=e.account||this.getActiveAccount();if(!i)throw Le(Jp);r.add({accountType:co(i)});const a={clientId:this.config.auth.clientId,authority:e.authority||ee.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:i.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},c=JSON.stringify(a),u=this.activeSilentTokenRequests.get(c);if(typeof u>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);const d=Ee(this.acquireTokenSilentAsync.bind(this),P.AcquireTokenSilentAsync,this.logger,this.performanceClient,t)({...e,correlationId:t},i).then(f=>(this.activeSilentTokenRequests.delete(c),r.end({success:!0,fromCache:f.fromCache,isNativeBroker:f.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:f.requestId,accessTokenSize:f.accessToken.length,idTokenSize:f.idToken.length}),f)).catch(f=>{throw this.activeSilentTokenRequests.delete(c),r.end({success:!1},f),f});return this.activeSilentTokenRequests.set(c,d),{...await d,state:e.state}}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),r.discard(),{...await u,state:e.state}}async acquireTokenSilentAsync(e,t){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(P.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_START,se.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const i=await Ee($X,P.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),a=e.cacheLookupPolicy||pn.Default;return this.acquireTokenSilentNoIframe(i,a).catch(async u=>{if(pJ(u,a))if(this.activeIframeRequest)if(a!==pn.Skip){const[f,p]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${p}`,i.correlationId);const g=this.performanceClient.startMeasurement(P.AwaitConcurrentIframe,i.correlationId);g.add({awaitIframeCorrelationId:p});const v=await f;if(g.end({success:v}),v)return this.logger.verbose(`Parallel iframe request with correlationId: ${p} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,a);throw this.logger.info(`Iframe request with correlationId: ${p} failed. Interaction is required.`),u}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),Ee(this.acquireTokenBySilentIframe.bind(this),P.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let f;return this.activeIframeRequest=[new Promise(p=>{f=p}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),Ee(this.acquireTokenBySilentIframe.bind(this),P.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(p=>(f(!0),p)).catch(p=>{throw f(!1),p}).finally(()=>{this.activeIframeRequest=void 0})}else throw u}).then(u=>(this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_SUCCESS,se.Silent,u),e.correlationId&&this.performanceClient.addFields({fromCache:u.fromCache,isNativeBroker:u.fromNativeBroker,requestId:u.requestId},e.correlationId),u)).catch(u=>{throw this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,se.Silent,null,u),u}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,t){return Ao.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,nn.acquireTokenSilent_silentFlow).catch(async r=>{throw r instanceof bo&&wu(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,ge(oi)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),Ee(this.acquireTokenFromCache.bind(this),P.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,t).catch(r=>{if(t===pn.AccessToken)throw r;return this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_NETWORK_START,se.Silent,e),Ee(this.acquireTokenByRefreshToken.bind(this),P.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,t)}))}}function pJ(n,e){const t=!(n instanceof wr&&n.subError!==il),r=n.errorCode===Hr.INVALID_GRANT_ERROR||n.errorCode===oi,i=t&&r||n.errorCode===rl||n.errorCode===gb,a=vX.includes(e);return i&&a}/*! @azure/msal-browser v3.26.1 2024-10-08 */function gJ(n){return n.status!==void 0}/*! @azure/msal-browser v3.26.1 2024-10-08 */class mJ{constructor(e,t,r,i){this.clientId=e,this.clientCapabilities=t,this.crypto=r,this.logger=i}toNaaTokenRequest(e){var u;let t;e.extraQueryParameters===void 0?t=new Map:t=new Map(Object.entries(e.extraQueryParameters));const i=new Yu().addClientCapabilitiesToClaims(e.claims,this.clientCapabilities),a=e.scopes||Wi;return{platformBrokerId:(u=e.account)==null?void 0:u.homeAccountId,clientId:this.clientId,authority:e.authority,scope:a.join(" "),correlationId:e.correlationId!==void 0?e.correlationId:this.crypto.createNewGuid(),claims:li.isEmptyObj(i)?void 0:i,state:e.state,authenticationScheme:e.authenticationScheme||Et.BEARER,extraParameters:t}}fromNaaTokenResponse(e,t,r){if(!t.token.id_token||!t.token.access_token)throw ge(Jc);const i=new Date((r+(t.token.expires_in||0))*1e3),a=Ca(t.token.id_token,this.crypto.base64Decode),c=this.fromNaaAccountInfo(t.account,t.token.id_token,a),u=t.token.scope||e.scope;return{authority:t.token.authority||c.environment,uniqueId:c.localAccountId,tenantId:c.tenantId,scopes:u.split(" "),account:c,idToken:t.token.id_token,idTokenClaims:a,accessToken:t.token.access_token,fromCache:!1,expiresOn:i,tokenType:e.authenticationScheme||Et.BEARER,correlationId:e.correlationId,extExpiresOn:i,state:e.state}}fromNaaAccountInfo(e,t,r){const i=r||e.idTokenClaims,a=e.localAccountId||(i==null?void 0:i.oid)||(i==null?void 0:i.sub)||"",c=e.tenantId||(i==null?void 0:i.tid)||"",u=e.homeAccountId||`${a}.${c}`,d=e.username||(i==null?void 0:i.preferred_username)||"",f=e.name||(i==null?void 0:i.name),p=new Map,g=fb(u,a,c,i);return p.set(c,g),{homeAccountId:u,environment:e.environment,tenantId:c,username:d,localAccountId:a,name:f,idToken:t,idTokenClaims:i,tenantProfiles:p}}fromBridgeError(e){if(gJ(e))switch(e.status){case ta.UserCancel:return new Ri(Sp);case ta.NoNetwork:return new Ri(Cp);case ta.AccountUnavailable:return new Ri(tl);case ta.Disabled:return new Ri(Pd);case ta.NestedAppAuthUnavailable:return new Ri(e.code||Pd,e.description);case ta.TransientError:case ta.PersistentError:return new Li(e.code,e.description);case ta.UserInteractionRequired:return new wr(e.code,e.description);default:return new ht(e.code,e.description)}else return new ht("unknown_error","An unknown error occurred")}toAuthenticationResultFromCache(e,t,r,i,a){if(!t||!r)throw ge(Jc);const c=Ca(t.secret,this.crypto.base64Decode),u=r.target||i.scopes.join(" ");return{authority:r.environment||e.environment,uniqueId:e.localAccountId,tenantId:e.tenantId,scopes:u.split(" "),account:e,idToken:t.secret,idTokenClaims:c||{},accessToken:r.secret,fromCache:!0,expiresOn:new Date(Number(r.expiresOn)*1e3),tokenType:i.authenticationScheme||Et.BEARER,correlationId:a,extExpiresOn:new Date(Number(r.extendedExpiresOn)*1e3),state:i.state}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const Dx={unsupportedMethod:{code:"unsupported_method",desc:"This method is not supported in nested app environment."}};class Bn extends ht{constructor(e,t){super(e,t),Object.setPrototypeOf(this,Bn.prototype),this.name="NestedAppAuthError"}static createUnsupportedError(){return new Bn(Dx.unsupportedMethod.code,Dx.unsupportedMethod.desc)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class _b{constructor(e){this.operatingContext=e;const t=this.operatingContext.getBridgeProxy();if(t!==void 0)this.bridgeProxy=t;else throw new Error("unexpected: bridgeProxy is undefined");this.config=e.getConfig(),this.logger=this.operatingContext.getLogger(),this.performanceClient=this.config.telemetry.client,this.browserCrypto=e.isBrowserEnvironment()?new Sa(this.logger,this.performanceClient):xd,this.browserStorage=this.operatingContext.isBrowserEnvironment()?new Eg(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,pz(this.config.auth)):H0(this.config.auth.clientId,this.logger),this.eventHandler=new yb(this.logger),this.nestedAppAuthAdapter=new mJ(this.config.auth.clientId,this.config.auth.clientCapabilities,this.browserCrypto,this.logger);const r=this.bridgeProxy.getAccountContext();if(r){const i=ay(r,this.logger,this.browserStorage);ow(i,this.browserStorage)}}static async createController(e){const t=new _b(e);return Promise.resolve(t)}initialize(){return Promise.resolve()}ensureValidRequest(e){return e!=null&&e.correlationId?e:{...e,correlationId:this.browserCrypto.createNewGuid()}}async acquireTokenInteractive(e){const t=this.ensureValidRequest(e);this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_START,se.Popup,t);const r=this.performanceClient.startMeasurement(P.AcquireTokenPopup,t.correlationId);r==null||r.add({nestedAppAuthRequest:!0});try{const i=this.nestedAppAuthAdapter.toNaaTokenRequest(t),a=Di(),c=await this.bridgeProxy.getTokenInteractive(i),u={...this.nestedAppAuthAdapter.fromNaaTokenResponse(i,c,a)};return await this.hydrateCache(u,e),this.browserStorage.setActiveAccount(u.account),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_SUCCESS,se.Popup,u),r.add({accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length}),r.end({success:!0,requestId:u.requestId}),u}catch(i){const a=this.nestedAppAuthAdapter.fromBridgeError(i);throw this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,se.Popup,null,i),r.end({success:!1},i),a}}async acquireTokenSilentInternal(e){const t=this.ensureValidRequest(e);this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_START,se.Silent,t);const r=await this.acquireTokenFromCache(t);if(r)return this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_SUCCESS,se.Silent,r),r;const i=this.performanceClient.startMeasurement(P.SsoSilent,t.correlationId);i==null||i.increment({visibilityChangeCount:0}),i==null||i.add({nestedAppAuthRequest:!0});try{const a=this.nestedAppAuthAdapter.toNaaTokenRequest(t),c=Di(),u=await this.bridgeProxy.getTokenSilent(a),d=this.nestedAppAuthAdapter.fromNaaTokenResponse(a,u,c);return await this.hydrateCache(d,e),this.browserStorage.setActiveAccount(d.account),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_SUCCESS,se.Silent,d),i==null||i.add({accessTokenSize:d.accessToken.length,idTokenSize:d.idToken.length}),i==null||i.end({success:!0,requestId:d.requestId}),d}catch(a){const c=this.nestedAppAuthAdapter.fromBridgeError(a);throw this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,se.Silent,null,a),i==null||i.end({success:!1},a),c}}async acquireTokenFromCache(e){const t=this.performanceClient.startMeasurement(P.AcquireTokenSilent,e.correlationId);if(t==null||t.add({nestedAppAuthRequest:!0}),e.claims)return this.logger.verbose("Claims are present in the request, skipping cache lookup"),null;let r=null;switch(e.cacheLookupPolicy){case pn.Default:case pn.AccessToken:case pn.AccessTokenAndRefreshToken:r=await this.acquireTokenFromCacheInternal(e);break;default:return null}return r?(this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_SUCCESS,se.Silent,r),t==null||t.add({accessTokenSize:r==null?void 0:r.accessToken.length,idTokenSize:r==null?void 0:r.idToken.length}),t==null||t.end({success:!0}),r):(this.logger.error("Cached tokens are not found for the account, proceeding with silent token request."),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,se.Silent,null),t==null||t.end({success:!1}),null)}async acquireTokenFromCacheInternal(e){var d;const t=this.bridgeProxy.getAccountContext();let r=null;if(t&&(r=ay(t,this.logger,this.browserStorage)||e.account),!r)return this.logger.verbose("No active account found, falling back to the host"),Promise.resolve(null);this.logger.verbose("active account found, attempting to acquire token silently");const i={...e,correlationId:e.correlationId||this.browserCrypto.createNewGuid(),authority:e.authority||r.environment,scopes:(d=e.scopes)!=null&&d.length?e.scopes:[...Wi]},a=this.browserStorage.getTokenKeys(),c=this.browserStorage.getAccessToken(r,i,a,r.tenantId,this.performanceClient,i.correlationId);if(c){if(oz(c.cachedAt)||__(c.expiresOn,this.config.system.tokenRenewalOffsetSeconds))return this.logger.verbose("Cached access token has expired"),Promise.resolve(null)}else return this.logger.verbose("No cached access token found"),Promise.resolve(null);const u=this.browserStorage.getIdToken(r,a,r.tenantId,this.performanceClient,i.correlationId);return u?this.nestedAppAuthAdapter.toAuthenticationResultFromCache(r,u,c,i,i.correlationId):(this.logger.verbose("No cached id token found"),Promise.resolve(null))}async acquireTokenPopup(e){return this.acquireTokenInteractive(e)}acquireTokenRedirect(e){throw Bn.createUnsupportedError()}async acquireTokenSilent(e){return this.acquireTokenSilentInternal(e)}acquireTokenByCode(e){throw Bn.createUnsupportedError()}acquireTokenNative(e,t,r){throw Bn.createUnsupportedError()}acquireTokenByRefreshToken(e,t){throw Bn.createUnsupportedError()}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){throw Bn.createUnsupportedError()}removePerformanceCallback(e){throw Bn.createUnsupportedError()}enableAccountStorageEvents(){throw Bn.createUnsupportedError()}disableAccountStorageEvents(){throw Bn.createUnsupportedError()}getAllAccounts(e){return Uz(this.logger,this.browserStorage,this.isBrowserEnv(),e)}getAccount(e){return ay(e,this.logger,this.browserStorage)}getAccountByUsername(e){return zz(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return Hz(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return Fz(e,this.logger,this.browserStorage)}setActiveAccount(e){return ow(e,this.browserStorage)}getActiveAccount(){return Bz(this.browserStorage)}handleRedirectPromise(e){return Promise.resolve(null)}loginPopup(e){return this.acquireTokenInteractive(e||nw)}loginRedirect(e){throw Bn.createUnsupportedError()}logout(e){throw Bn.createUnsupportedError()}logoutRedirect(e){throw Bn.createUnsupportedError()}logoutPopup(e){throw Bn.createUnsupportedError()}ssoSilent(e){return this.acquireTokenSilentInternal(e)}getTokenCache(){throw Bn.createUnsupportedError()}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){}setNavigationClient(e){this.logger.warning("setNavigationClient is not supported in nested app auth")}getConfiguration(){return this.config}isBrowserEnv(){return this.operatingContext.isBrowserEnvironment()}getBrowserCrypto(){return this.browserCrypto}getPerformanceClient(){throw Bn.createUnsupportedError()}getRedirectResponse(){throw Bn.createUnsupportedError()}async clearCache(e){throw Bn.createUnsupportedError()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const r=In.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(r),this.browserStorage.hydrateCache(e,t)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */async function vJ(n,e){const t=new Us(n);return await t.initialize(),Hg.createController(t,e)}async function Lx(n){const e=new Us(n),t=new ul(n),r=[e.initialize(),t.initialize()];return await Promise.all(r),t.isAvailable()&&n.auth.supportsNestedAppAuth?_b.createController(t):e.isAvailable()?Hg.createController(e):null}/*! @azure/msal-browser v3.26.1 2024-10-08 */let K0=class Vz{static async createPublicClientApplication(e){const t=await vJ(e);return new Vz(e,t)}constructor(e,t){this.controller=t||new Hg(new Us(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}};async function yJ(n){const e=new ul(n);if(await e.initialize(),e.isAvailable()){const t=new _b(e);return new K0(n,t)}return Yz(n)}async function Yz(n){const e=new K0(n);return await e.initialize(),e}/*! @azure/msal-browser v3.26.1 2024-10-08 */class Ux{constructor(e){this.initialized=!1,this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.logger=e.getLogger(),this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Sa(this.logger,this.performanceClient):xd,this.browserStorage=this.isBrowserEnvironment?new Eg(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,void 0,this.performanceClient):H0(this.config.auth.clientId,this.logger)}getBrowserStorage(){return this.browserStorage}getAccount(e){return null}getAccountByHomeId(e){return null}getAccountByLocalId(e){return null}getAccountByUsername(e){return null}getAllAccounts(){return[]}initialize(){return this.initialized=!0,Promise.resolve()}acquireTokenPopup(e){return St(this.initialized),Mt(),{}}acquireTokenRedirect(e){return St(this.initialized),Mt(),Promise.resolve()}acquireTokenSilent(e){return St(this.initialized),Mt(),{}}acquireTokenByCode(e){return St(this.initialized),Mt(),{}}acquireTokenNative(e,t,r){return St(this.initialized),Mt(),{}}acquireTokenByRefreshToken(e,t){return St(this.initialized),Mt(),{}}addEventCallback(e,t){return null}removeEventCallback(e){}addPerformanceCallback(e){return St(this.initialized),Mt(),""}removePerformanceCallback(e){return St(this.initialized),Mt(),!0}enableAccountStorageEvents(){St(this.initialized),Mt()}disableAccountStorageEvents(){St(this.initialized),Mt()}handleRedirectPromise(e){return St(this.initialized),Promise.resolve(null)}loginPopup(e){return St(this.initialized),Mt(),{}}loginRedirect(e){return St(this.initialized),Mt(),{}}logout(e){return St(this.initialized),Mt(),{}}logoutRedirect(e){return St(this.initialized),Mt(),{}}logoutPopup(e){return St(this.initialized),Mt(),{}}ssoSilent(e){return St(this.initialized),Mt(),{}}getTokenCache(){return St(this.initialized),Mt(),{}}getLogger(){return this.logger}setLogger(e){St(this.initialized),Mt()}setActiveAccount(e){St(this.initialized),Mt()}getActiveAccount(){return St(this.initialized),Mt(),null}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){St(this.initialized),Mt()}getConfiguration(){return this.config}isBrowserEnv(){return St(this.initialized),Mt(),!0}getBrowserCrypto(){return St(this.initialized),Mt(),{}}getPerformanceClient(){return St(this.initialized),Mt(),{}}getRedirectResponse(){return St(this.initialized),Mt(),{}}async clearCache(e){St(this.initialized),Mt()}async hydrateCache(e,t){St(this.initialized),Mt()}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class Qd extends zg{getId(){return Qd.ID}getModuleName(){return Qd.MODULE_NAME}async initialize(){return!0}}Qd.MODULE_NAME="";Qd.ID="UnknownOperatingContext";/*! @azure/msal-browser v3.26.1 2024-10-08 */class N_{static async createPublicClientApplication(e){const t=await Lx(e);let r;return t!==null?r=new N_(e,t):r=new N_(e),r}constructor(e,t){if(this.configuration=e,t)this.controller=t;else{const r=new Qd(e);this.controller=new Ux(r)}}async initialize(){if(this.controller instanceof Ux){const e=await Lx(this.configuration);return e!==null&&(this.controller=e),this.controller.initialize()}return Promise.resolve()}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const _J={initialize:()=>Promise.reject(Fn(wn)),acquireTokenPopup:()=>Promise.reject(Fn(wn)),acquireTokenRedirect:()=>Promise.reject(Fn(wn)),acquireTokenSilent:()=>Promise.reject(Fn(wn)),acquireTokenByCode:()=>Promise.reject(Fn(wn)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(Fn(wn)),loginPopup:()=>Promise.reject(Fn(wn)),loginRedirect:()=>Promise.reject(Fn(wn)),logout:()=>Promise.reject(Fn(wn)),logoutRedirect:()=>Promise.reject(Fn(wn)),logoutPopup:()=>Promise.reject(Fn(wn)),ssoSilent:()=>Promise.reject(Fn(wn)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw Fn(wn)},getLogger:()=>{throw Fn(wn)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw Fn(wn)},hydrateCache:()=>Promise.reject(Fn(wn)),clearCache:()=>Promise.reject(Fn(wn))};/*! @azure/msal-browser v3.26.1 2024-10-08 */class bJ{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case re.LOGIN_START:return _r.Login;case re.SSO_SILENT_START:return _r.SsoSilent;case re.ACQUIRE_TOKEN_START:if(e.interactionType===se.Redirect||e.interactionType===se.Popup)return _r.AcquireToken;break;case re.HANDLE_REDIRECT_START:return _r.HandleRedirect;case re.LOGOUT_START:return _r.Logout;case re.SSO_SILENT_SUCCESS:case re.SSO_SILENT_FAILURE:if(t&&t!==_r.SsoSilent)break;return _r.None;case re.LOGOUT_END:if(t&&t!==_r.Logout)break;return _r.None;case re.HANDLE_REDIRECT_END:if(t&&t!==_r.HandleRedirect)break;return _r.None;case re.LOGIN_SUCCESS:case re.LOGIN_FAILURE:case re.ACQUIRE_TOKEN_SUCCESS:case re.ACQUIRE_TOKEN_FAILURE:case re.RESTORE_FROM_BFCACHE:if(e.interactionType===se.Redirect||e.interactionType===se.Popup){if(t&&t!==_r.Login&&t!==_r.AcquireToken)break;return _r.None}break}return null}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class sw{constructor(e,t){const r=t&&t.loggerOptions||{};this.logger=new xi(r,O_,Ls),this.cryptoOps=new Sa(this.logger),this.popTokenGenerator=new ol(this.cryptoOps),this.shrParameters=e}async generatePublicKeyThumbprint(){const{kid:e}=await this.popTokenGenerator.generateKid(this.shrParameters);return e}async signRequest(e,t,r){return this.popTokenGenerator.signPayload(e,t,this.shrParameters,r)}async removeKeys(e){return this.cryptoOps.removeTokenBindingKey(e)}}function zx(){let n;try{n=window[gn.SessionStorage];const e=n==null?void 0:n.getItem(bX);if(Number(e)===1)return bG(()=>Promise.resolve().then(()=>CJ),void 0)}catch{}}function sy(){return typeof window<"u"&&typeof window.performance<"u"&&typeof window.performance.now=="function"}function EJ(n){if(!(!n||!sy()))return Math.round(window.performance.now()-n)}class Qz extends dX{constructor(e,t,r){var i,a;super(e.auth.clientId,e.auth.authority||`${ee.DEFAULT_AUTHORITY}`,new xi(((i=e.system)==null?void 0:i.loggerOptions)||{},O_,Ls),O_,Ls,((a=e.telemetry)==null?void 0:a.application)||{appName:"",appVersion:""},t,r)}generateId(){return Xi()}getPageVisibility(){var e;return((e=document.visibilityState)==null?void 0:e.toString())||null}deleteIncompleteSubMeasurements(e){var t;(t=zx())==null||t.then(r=>{const i=this.eventsByCorrelationId.get(e.event.correlationId),a=i&&i.eventId===e.event.eventId,c=[];a&&(i!=null&&i.incompleteSubMeasurements)&&i.incompleteSubMeasurements.forEach(u=>{c.push({...u})}),r.BrowserPerformanceMeasurement.flushMeasurements(e.event.correlationId,c)})}startMeasurement(e,t){var u;const r=this.getPageVisibility(),i=super.startMeasurement(e,t),a=sy()?window.performance.now():void 0,c=(u=zx())==null?void 0:u.then(d=>new d.BrowserPerformanceMeasurement(e,i.event.correlationId));return c==null||c.then(d=>d.startMeasurement()),{...i,end:(d,f)=>{const p=i.end({...d,startPageVisibility:r,endPageVisibility:this.getPageVisibility(),durationMs:EJ(a)},f);return c==null||c.then(g=>g.endMeasurement()),this.deleteIncompleteSubMeasurements(i),p},discard:()=>{i.discard(),c==null||c.then(d=>d.flushMeasurement()),this.deleteIncompleteSubMeasurements(i)}}}setPreQueueTime(e,t){if(!sy()){this.logger.trace(`BrowserPerformanceClient: window performance API not available, unable to set telemetry queue time for ${e}`);return}if(!t){this.logger.trace(`BrowserPerformanceClient: correlationId for ${e} not provided, unable to set telemetry queue time`);return}const r=this.preQueueTimeByCorrelationId.get(t);r&&(this.logger.trace(`BrowserPerformanceClient: Incomplete pre-queue ${r.name} found`,t),this.addQueueMeasurement(r.name,t,void 0,!0)),this.preQueueTimeByCorrelationId.set(t,{name:e,time:window.performance.now()})}addQueueMeasurement(e,t,r,i){if(!sy()){this.logger.trace(`BrowserPerformanceClient: window performance API not available, unable to add queue measurement for ${e}`);return}if(!t){this.logger.trace(`BrowserPerformanceClient: correlationId for ${e} not provided, unable to add queue measurement`);return}const a=super.getPreQueueTime(e,t);if(!a)return;const c=window.performance.now(),u=r||super.calculateQueuedTime(a,c);return super.addQueueMeasurement(e,t,u,i)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class ni{constructor(e,t){this.correlationId=t,this.measureName=ni.makeMeasureName(e,t),this.startMark=ni.makeStartMark(e,t),this.endMark=ni.makeEndMark(e,t)}static makeMeasureName(e,t){return`msal.measure.${e}.${t}`}static makeStartMark(e,t){return`msal.start.${e}.${t}`}static makeEndMark(e,t){return`msal.end.${e}.${t}`}static supportsBrowserPerformance(){return typeof window<"u"&&typeof window.performance<"u"&&typeof window.performance.mark=="function"&&typeof window.performance.measure=="function"&&typeof window.performance.clearMarks=="function"&&typeof window.performance.clearMeasures=="function"&&typeof window.performance.getEntriesByName=="function"}static flushMeasurements(e,t){if(ni.supportsBrowserPerformance())try{t.forEach(r=>{const i=ni.makeMeasureName(r.name,e);window.performance.getEntriesByName(i,"measure").length>0&&(window.performance.clearMeasures(i),window.performance.clearMarks(ni.makeStartMark(i,e)),window.performance.clearMarks(ni.makeEndMark(i,e)))})}catch{}}startMeasurement(){if(ni.supportsBrowserPerformance())try{window.performance.mark(this.startMark)}catch{}}endMeasurement(){if(ni.supportsBrowserPerformance())try{window.performance.mark(this.endMark),window.performance.measure(this.measureName,this.startMark,this.endMark)}catch{}}flushMeasurement(){if(ni.supportsBrowserPerformance())try{const e=window.performance.getEntriesByName(this.measureName,"measure");if(e.length>0){const t=e[0].duration;return window.performance.clearMeasures(this.measureName),window.performance.clearMarks(this.startMark),window.performance.clearMarks(this.endMark),t}}catch{}return null}}const CJ=Object.freeze(Object.defineProperty({__proto__:null,BrowserPerformanceMeasurement:ni},Symbol.toStringTag,{value:"Module"}));/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const dt={...P,PairwiseBrokerApplicationInitializeBrokering:"pairwiseBrokerApplicationInitializeBrokering",BrokerClientApplicationHandleBrokerHandshake:"brokerClientApplicationHandleBrokerHandshake",BrokerClientApplicationBrokeredSSOSilentRequest:"brokerClientApplicationBrokeredSSOSilentRequest",BrokerClientApplicationBrokeredSilentRequest:"brokerClientApplicationBrokeredSilentRequest",EmbeddedClientApplicationSendSSOSilentRequest:"embeddedSSOSilent",EmbeddedClientApplicationSendPopupRequest:"embeddedPopup",EmbeddedClientApplicationSendRedirectRequest:"embeddedRedirect",EmbeddedClientApplicationHandleRedirectRequest:"embeddedHandleRedirect",EmbeddedClientApplicationSendSilentRefreshRequest:"embeddedSilentRefresh"},SJ=new Map([[dt.PairwiseBrokerApplicationInitializeBrokering,"PWBInitBrk"],[dt.BrokerClientApplicationHandleBrokerHandshake,"BrkClientHandeBrkHandshake"],[dt.BrokerClientApplicationBrokeredSSOSilentRequest,"BrkClientBrkSSOReq"],[dt.BrokerClientApplicationBrokeredSilentRequest,"BrkClientBrkSltReq"],[dt.EmbeddedClientApplicationSendSSOSilentRequest,"EmbClientSendSSOReq"],[dt.EmbeddedClientApplicationSendPopupRequest,"EmbClientSendPopupReq"],[dt.EmbeddedClientApplicationSendRedirectRequest,"EmbClientSendRedirectReq"],[dt.EmbeddedClientApplicationHandleRedirectRequest,"EmbClientHandleRedirectReq"],[dt.EmbeddedClientApplicationSendSilentRefreshRequest,"EmbClientSendSltRefreshReq"]]),TJ=new Set(["brokerInteractionTimeoutMs","brokerMessageTimeoutMs","brokerHandshakeTimeoutMs","brokerIframeTimeoutMs"]);/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const Zz="msal.request";function cy(n){var e;try{return new bg(((e=n.cache)==null?void 0:e.temporaryCacheLocation)||gn.SessionStorage)}catch{return new _g}}function cw(n){return`${Zz}.${n}`}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const AJ="faab4ead691e451eb230afc98a28e0f2-698cf73d-7930-426b-87d8-d36936f6912f-7401",wJ="https://eu-mobile.events.data.microsoft.com/OneCollector/1.0/",Hx=`${Zz}.mats-telemetry-profile-id`;class RJ{constructor(e,t,r,i){this.logger=e,this.appName=r,this.appVersion=i,this.eventsToEmit=new Set(t),this.sessionId=si();const a={instrumentationKey:AJ,endpointUrl:wJ,extensions:[],propertyConfiguration:{gpcDataSharingOptIn:!1},disableCookiesUsage:!0};this.appInsightsMATS=new T0,this.appInsightsMATS.initialize(a,[]),this.logger.verbose("MATSTelemetryReporter: Initialized");try{const c=new bg(gn.LocalStorage),u=c.getItem(Hx);if(u!=null&&u.length)this.profileTelemetryId=u;else{const d=si();this.profileTelemetryId=d,c.setItem(Hx,d)}}catch{e.warning("MATSTelemetryReporter: local storage is not available"),this.profileTelemetryId=""}}sendCustomEvent(e){if(!this.eventsToEmit.has(e.name)){this.logger.verbose(`MATSTelemetryReporter: Skipping telemetry for ${e.name}`,e.correlationId);return}const t={...e,appName:this.appName,appVersion:this.appVersion,libraryName:"MSAL-JS",profileTelemetryId:this.profileTelemetryId,sessionId:this.sessionId};delete t.context,delete t.errorStack;const r={name:"actionmsaljs".concat(e.name.toLowerCase()||""),data:t};this.logger.verbose(`MATSTelemetryReporter: Sending ${r.name} for tracking`),this.appInsightsMATS.track(r),e.name===dt.AcquireTokenPreRedirect&&this.appInsightsMATS.flush()}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const kJ="d634483c08244c1ca09af2b2d952c92e-ab2bba03-2ba3-49d8-a82c-ef6da750d8ab-7725";function IJ(n){return Math.random()<=n}class OJ{constructor(e,t,r){this.synthetic=!1,this.redactionRatio=.1,this.logger=e,this.eventsToEmit=new Set(t);const i={instrumentationKey:kJ,extensions:[],propertyConfiguration:{gpcDataSharingOptIn:!1},disableCookiesUsage:!0};this.appInsights=new T0,this.appInsights.initialize(i,[]),this.synthetic=r||!1,this.logger.verbose("PerformanceTelemetryReporter: Initialized")}sendCustomEvent(e){if(!this.eventsToEmit.has(e.name)){this.logger.verbose(`PerformanceTelemetryReporter: Skipping telemetry for ${e.name}`,e.correlationId);return}let t;!e.success||IJ(this.redactionRatio)?(t={...e,appName:void 0,synthetic:this.synthetic},this.logger.verbose(`PerformanceTelemetryReporter: Sending ${t.name} for tracking`)):(t={name:e.name,eventId:e.eventId,correlationId:e.correlationId,requestId:e.requestId,success:e.success,status:e.status,fromCache:e.fromCache,startPageVisibility:e.startPageVisibility,endPageVisibility:e.endPageVisibility,authority:e.authority,durationMs:e.durationMs,startTimeMs:e.startTimeMs,clientId:e.clientId,libraryName:e.libraryName,libraryVersion:e.libraryVersion,accountType:e.accountType,synthetic:this.synthetic,isBroker:e.isBroker,isBackground:e.isBackground},this.logger.verbose(`PerformanceTelemetryReporter: Sending redacted ${t.name} for tracking`));const r={name:e.name,data:t};this.appInsights.track(r),e.name===dt.AcquireTokenPreRedirect&&this.appInsights.flush()}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const zv=new Set([dt.AcquireTokenSilent,dt.AcquireTokenByCode,dt.AcquireTokenPopup,dt.AcquireTokenRedirect,dt.AcquireTokenPreRedirect,dt.PairwiseBrokerApplicationInitializeBrokering,dt.SsoSilent,dt.EmbeddedClientApplicationSendSSOSilentRequest,dt.EmbeddedClientApplicationSendPopupRequest,dt.EmbeddedClientApplicationSendRedirectRequest,dt.EmbeddedClientApplicationHandleRedirectRequest,dt.EmbeddedClientApplicationSendSilentRefreshRequest]);class NJ{constructor(e,t){var i;this.logger=e;const r=((i=t==null?void 0:t.eventsToEmit)==null?void 0:i.filter(a=>zv==null?void 0:zv.has(a)))||[...zv];this.matsTelemetryReporter=t!=null&&t.enableMATS?new RJ(e,r,t==null?void 0:t.appName,t==null?void 0:t.appVersion):null,this.perfTelemetryReporter=new OJ(e,r,t==null?void 0:t.synthetic)}sendCustomEvent(e){var t;this.perfTelemetryReporter.sendCustomEvent(e),(t=this.matsTelemetryReporter)==null||t.sendCustomEvent(e)}getTelemetryCallback(){this.logger.trace("TelemetryReporter: Attaching callback to send custom metrics.");const e=t=>{t.forEach(r=>{r.name===dt.AcquireTokenByBroker&&(r.name=r.brokerEventName||r.name,r.isBroker=!0,delete r.brokerEventName,this.logger.verbosePii(`TelemetryReporter: Updated broker event ${JSON.stringify(r)}`,r.correlationId)),this.sendCustomEvent(r)})};return this.logger.verbose("TelemetryReporter: Returning callback as telemetry emitted."),e}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const MJ=[Dd.AzurePublic,Dd.AzurePpe];function PJ(n){return n.auth.authority?MJ.some(e=>{var t;return((t=n.auth.authority)==null?void 0:t.indexOf(e.toString()))===0}):!0}class Fg extends K0{constructor(e,t){var a;let r;const i=typeof window<"u";if(!(t!=null&&t.disabled)&&PJ(e)&&i?(r=((a=e.telemetry)==null?void 0:a.client)||new Qz(e,new Set(TJ),new Map(SJ)),super({...e,telemetry:{...e.telemetry,client:r}})):(super(e),r=new D0),this.performanceClient=r,i){const c=new NJ(this.getLogger(),t);this.addPerformanceCallback(c.getTelemetryCallback())}}static async createPublicClientApplication(e,t,r){const i=new Fg(e,t);return await i.initialize({correlationId:r}),i}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const Tt={BROKER_READY:"BrokerReady",HANDSHAKE_REQUEST:"BrokerHandshakeRequest",HANDSHAKE_RESPONSE:"BrokerHandshakeResponse",AUTH_REQUEST:"BrokerAuthRequest",REDIRECT_RESPONSE:"BrokerRedirectResponse",HANDLE_REDIRECT_REQUEST:"BrokerHandleRedirectRequest",AUTH_RESULT:"BrokerAuthResult",EMBEDDED_LOGOUT_REQUEST:"EmbeddedLogoutRequest",EMBEDDED_LOGOUT_RESPONSE:"EmbeddedLogoutResponse"},na={BROKER_AUTH_ERROR_NAME:"BrokerAuthError",INTERACTION_REQ_ERROR_NAME:"InteractionRequiredAuthError",SERVER_ERROR_NAME:"ServerError",CLIENT_AUTH_ERR_NAME:"ClientAuthError",CLIENT_CONFIG_ERROR_NAME:"ClientConfigurationError",BROWSER_AUTH_ERROR_NAME:"BrowserAuthError",BROWSER_CONFIG_ERROR_NAME:"BrowserConfigurationError",AUTH_ERROR_NAME:"AuthError"},xJ=2e3,DJ=6e3,LJ=3e5;/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */class Ji{constructor(e){this.messageType=e}static validateMessage(e){if(e.data&&e.data.messageType)switch(e.data.messageType){case Tt.HANDSHAKE_REQUEST:case Tt.HANDSHAKE_RESPONSE:case Tt.HANDLE_REDIRECT_REQUEST:case Tt.AUTH_REQUEST:case Tt.AUTH_RESULT:case Tt.REDIRECT_RESPONSE:case Tt.EMBEDDED_LOGOUT_REQUEST:return e;default:return null}else return null}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */class bb extends Ji{constructor(e,t,r=!1,i){super(Tt.HANDSHAKE_REQUEST),this.embeddedClientId=e,this.version=t,this.allowTelemetry=r,this.nonce=i}static validate(e){return e.data&&e.data.messageType===Tt.HANDSHAKE_REQUEST&&e.data.embeddedClientId&&e.data.version?new bb(e.data.embeddedClientId,e.data.version,e.data.allowTelemetry,e.data.nonce):null}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */class Eb extends Ji{constructor(e,t,r){super(Tt.HANDSHAKE_RESPONSE),this.version=e,this.brokerOrigin=t,this.nonce=r}static validate(e,t){if(!t.includes(e.origin))return null;const r=Ji.validateMessage(e);return r&&r.data.messageType===Tt.HANDSHAKE_RESPONSE&&r.data.version?new Eb(r.data.version,r.origin,r.data.nonce):null}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */class Cb extends Ji{get embeddedAppOrigin(){return this._embeddedAppOrigin}constructor(e,t,r,i){super(Tt.AUTH_REQUEST),this.embeddedClientId=e,this._embeddedAppOrigin=i,this.interactionType=t,this.request=r}static validate(e,t){return e.data&&e.data.messageType===Tt.AUTH_REQUEST&&e.data.embeddedClientId&&e.data.interactionType&&e.data.request?new Cb(e.data.embeddedClientId,e.data.interactionType,e.data.request,t):null}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */class Sb extends Ji{constructor(){super(Tt.REDIRECT_RESPONSE)}static validate(e){return e.data&&e.data.messageType===Tt.REDIRECT_RESPONSE?new Sb:null}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const Wn={noEmbeddedAppError:{code:"no_embedded_app",desc:"The embedded application object was not created. Please ensure you have configured your application correctly for an embedded application: https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/broker-v2/lib/msal-browser/docs/broker.md#brokered-application-configuration"},brokerResponseInvalidError:{code:"broker_response_invalid",desc:"The broker response did not have the expected values."},brokeredPopupRequestRedirecting:{code:"broker_popup_will_redirect",desc:"The request for a brokered popup requires a redirect by the broker. If your app does not perform the redirect, please check the broker's logs."},brokerTimeoutError:{code:"broker_timeout",desc:"Message broker timed out."},brokerHandshakeTimeoutError:{code:"broker_handshake_timeout",desc:"Broker handshake response timed out."},brokerHandshakeFailed:{code:"broker_handshake_failed",desc:"Broker handshake failed. Please see logs for details."},noTrustedBrokersProvided:{code:"no_trusted_brokers_provided",desc:"No trusted brokers provided."},brokeringDisabledError:{code:"brokering_disabled",desc:"Brokering is not enabled for the client application. Please check logs to see if handshake was performed."},shrGenerationError:{code:"shr_generation_error",desc:"Error generating SHRs. Kid is missing in the request."}};class on extends ht{constructor(e,t){super(e,t),Object.setPrototypeOf(this,on.prototype),this.name=na.BROKER_AUTH_ERROR_NAME}static createNoEmbeddedAppError(){return new on(Wn.noEmbeddedAppError.code,Wn.noEmbeddedAppError.desc)}static createBrokerResponseInvalidError(){return new on(Wn.brokerResponseInvalidError.code,`${Wn.brokerResponseInvalidError.desc}`)}static createBrokerPopupRequestRedirectingError(){return new on(Wn.brokeredPopupRequestRedirecting.code,Wn.brokeredPopupRequestRedirecting.desc)}static createNoTrustedBrokersProvidedError(){return new on(Wn.noTrustedBrokersProvided.code,Wn.noTrustedBrokersProvided.desc)}static createBrokeringDisabledError(){return new on(Wn.brokeringDisabledError.code,`${Wn.brokeringDisabledError.desc}`)}static createMessageBrokerTimeoutError(){return new on(Wn.brokerTimeoutError.code,Wn.brokerTimeoutError.desc)}static createMessageBrokerHandshakeTimeoutError(){return new on(Wn.brokerHandshakeTimeoutError.code,Wn.brokerHandshakeTimeoutError.desc)}static createBrokerHandshakeFailedError(){return new on(Wn.brokerHandshakeFailed.code,Wn.brokerHandshakeFailed.desc)}static createShrGenerationError(){return new on(Wn.shrGenerationError.code,Wn.shrGenerationError.desc)}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */class Ai extends Ji{constructor(e,t,r){if(super(Tt.AUTH_RESULT),this.interactionType=e,this.result=t,r){const{setCorrelationId:i,...a}=r;this.errorPayload=a}}static validate(e){return e.data&&e.data.messageType===Tt.AUTH_RESULT&&e.data.interactionType&&(e.data.result||e.data.errorPayload)?new Ai(e.data.interactionType,e.data.result,e.data.errorPayload):null}static detectError(e){let t;switch(e.name){case na.INTERACTION_REQ_ERROR_NAME:t=new wr(e.errorCode,e.errorMessage,e.subError);break;case na.SERVER_ERROR_NAME:t=new Li(e.errorCode,e.errorMessage,e.subError);break;case na.CLIENT_AUTH_ERR_NAME:t=new Ri(e.errorCode,e.errorMessage);break;case na.CLIENT_CONFIG_ERROR_NAME:t=new Lg(e.errorCode);break;case na.BROWSER_AUTH_ERROR_NAME:t=new bl(e.errorCode);break;case na.BROWSER_CONFIG_ERROR_NAME:t=new Ug(e.errorCode,e.errorMessage);break;case na.BROKER_AUTH_ERROR_NAME:t=new on(e.errorCode,e.errorMessage);break;case na.AUTH_ERROR_NAME:t=new ht(e.errorCode,e.errorMessage,e.subError);break;default:t=new ht(Xc,JSON.stringify(e));break}return t.setCorrelationId(e.correlationId),t}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */class Tb extends Ji{constructor(e,t){super(Tt.HANDLE_REDIRECT_REQUEST),this.embeddedClientId=e,this.version=t}static validate(e){return e.data&&e.data.messageType===Tt.HANDLE_REDIRECT_REQUEST&&e.data.embeddedClientId&&e.data.version?new Tb(e.data.embeddedClientId,e.data.version):null}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */function Wz(n){return{...{preferredInteractionType:null,brokerRedirectParams:{},actAsBroker:!1,allowBrokering:!1,trustedBrokerDomains:[],brokerHandshakeTimeout:(n==null?void 0:n.brokerHandshakeTimeout)||xJ,brokerMessageTimeout:(n==null?void 0:n.brokerMessageTimeout)||DJ,brokerInteractionTimeout:(n==null?void 0:n.brokerInteractionTimeout)||LJ},...n}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */class Ab extends Ji{constructor(e,t){super(Tt.EMBEDDED_LOGOUT_REQUEST),this.version=e,this.correlationId=t}static validate(e){const t=Ji.validateMessage(e);return t&&t.data&&t.data.version?new Ab(t.data.version,t.data.correlationId):null}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */function UJ(n,e){const t={userState:e,brokerState:{requestOrigin:n.embeddedAppOrigin,requestClientId:n.embeddedClientId}},r=JSON.stringify(t),i=new TextEncoder().encode(r);return window.btoa(Array.from(i,a=>String.fromCodePoint(a)).join(""))}function zJ(n){if(!n)return null;try{const e=window.atob(n),t=new Uint8Array(e.length);for(let a=0;a<t.length;a++)t[a]=e.charCodeAt(a);const r=new TextDecoder().decode(t),i=JSON.parse(r);return i.hasOwnProperty("brokerState")?i:null}catch{return null}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const HJ="@azure/msal-browser-1p",zc="3.26.0";/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */function Xz(n){const e=n.split("-",1)[0].split(".",3);return{major:parseInt(e[0]),minor:parseInt(e[1]),patch:parseInt(e[2])}}function vu(n){n.port1.close(),n.port2.close()}function Jz(n,e,t,r=20){if(n.length===0||t>r)return[0,t-1];let i=t,a=n.length;for(let c=0;c<n.length;c++){n[c].postMessage(e,"*");const[u,d]=Jz(n[c],e,t+1,r);a+=u,d>i&&(i=d)}return[a,i]}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */class FJ extends Fg{constructor(e,t,r){var i;super(e),this.currentBrokerRedirectResponse=void 0,this.hybridAuthPromise=void 0,this.pwbBrokerAppConfiguration=Wz(t),this.redirectResponseMap=new Map,this.embeddedAppConfigMap=new Map,this.telemetryAllowedEmbeddedClients=new Set,this.logger=new xi(((i=e.system)==null?void 0:i.loggerOptions)||{},HJ,zc),this.eventHandler=r,this.messageListener=this.handleBrokerMessage.bind(this)}getRedirectCorrelationId(){const e=`msal.${this.getConfiguration().auth.clientId}`,t=cy(this.getConfiguration()).getItem(`${e}.request.native`);try{if(t){const r=JSON.parse(t);return r&&typeof r=="object"?r.correlationId:null}}catch{this.logger.error("BrokerClientApplication.getRedirectCorrelationId: Unable to parse native request")}return cy(this.getConfiguration()).getItem(`${e}.request.correlationId`)||""}async handleRedirectPromise(e){const t=this.getRedirectCorrelationId(),r=this.performanceClient.startMeasurement(dt.AcquireTokenByBroker,t);r.add({brokerEventName:dt.AcquireTokenRedirect});try{const i=super.handleRedirectPromise(e);this.currentBrokerRedirectResponse=i;const a=await this.currentBrokerRedirectResponse;if(this.currentBrokerRedirectResponse=void 0,a){const c=zJ(a.state);if(this.setActiveAccount(a.account),c){const u={...a,state:c.userState};this.redirectResponseMap.set(c.brokerState.requestOrigin,u),r.add({embeddedClientId:c.brokerState.requestClientId,embeddedRedirectUri:c.brokerState.requestOrigin}),this.endBrokerPerformanceEvent(c.brokerState.requestClientId,r)}else return r.end({success:!0}),a}else r.discard();return null}catch(i){throw i instanceof ht&&i.setCorrelationId(t),r.end({success:!1},i),i}}async listenForBrokerMessage(e,t){return this.logger.verbose("listening for child broker messages."),window.addEventListener("message",this.messageListener),this.broadcastBrokerReadyMessage(window.frames,e,t),e&&e.codeRequest&&(this.hybridAuthPromise=this.acquireTokenByCode(e.codeRequest)),this.hybridAuthPromise}broadcastBrokerReadyMessage(e,t,r){this.logger.trace("Broadcasting broker ready message to child frames.");const i={messageType:Tt.BROKER_READY};window.postMessage(i,"*");const[a,c]=Jz(e,i,1,t==null?void 0:t.maxChildFrameDepth);r==null||r.add({maxFrameDepthReached:c,framesNotified:a,maxFrameDepthConfigured:t==null?void 0:t.maxChildFrameDepth}),this.logger.trace(`Broadcasted broker ready message to ${a} child frames with a max depth of ${c}`)}stopListeningForBrokerMessage(){this.logger.verbose("stop listening for child broker messages."),window.removeEventListener("message",this.messageListener),this.embeddedAppConfigMap.forEach(([e,t])=>{this.logger.verbose(`closing message port for ${e}`),t.close()}),this.embeddedAppConfigMap.clear()}async handleBrokerMessage(e){var r,i;const t=Ji.validateMessage(e);if(!(!t||!t.data.messageType))switch(this.logger.verbose(`Broker received message with type: ${t.data.messageType}`),t.data.messageType){case Tt.HANDSHAKE_REQUEST:return this.handleBrokerHandshake(t);case Tt.HANDLE_REDIRECT_REQUEST:const a=Tb.validate(t);return a?this.handleBrokerRedirectResponse(a,t):void 0;case Tt.AUTH_REQUEST:const c=Cb.validate(t,((r=this.embeddedAppConfigMap.get(t.data.embeddedClientId))==null?void 0:r[0])||t.origin);if(!c)return;c.request.correlationId||(c.request.correlationId=si());const u=this.performanceClient.startMeasurement(dt.AcquireTokenByBroker,c.request.correlationId),d=(i=t.ports)==null?void 0:i[0];try{await this.handleBrokerAuthRequest(c,d),this.endBrokerPerformanceEvent(c.embeddedClientId,u);return}catch(f){throw this.endBrokerPerformanceEvent(c.embeddedClientId,u,f),f}default:return}}isDescendantFrame(e){const t=[];for(t.push(e.sourceFrame);t.length>0;){const r=t.pop();if(r)for(let i=0;i<r.frames.length;i++){const a=r.frames[i];if(a===e.targetFrame)return!0;a!==r&&t.push(a)}}return!1}async handleBrokerHandshake(e){var c,u;if(!(e.source&&e.source.window&&e.source.window===e.source)){this.logger.warning("Broker handshake request validation failed. Message origin is not an iframe");return}const t=e.source;window!==t&&!this.isDescendantFrame({sourceFrame:window,targetFrame:t})&&this.logger.warning("Broker handshake request validation failed. Message origin is not a descendant iframe");const r=bb.validate(e);if(!r){this.logger.warning("Broker handshake request validation failed. Message may not have come from MSAL.js.");return}const i=si(),a=this.performanceClient.startMeasurement(dt.BrokerClientApplicationHandleBrokerHandshake,i);try{if(a.add({embeddedClientId:r.embeddedClientId}),r.allowTelemetry&&this.telemetryAllowedEmbeddedClients.add(r.embeddedClientId),this.logger.verbose(`${r.messageType} validated for AppId: ${r.embeddedClientId}`),this.hybridAuthPromise)try{await this.hybridAuthPromise}catch(g){this.logger.error(`Broker could not obtain tokens using authorization code initializer: ${g}`)}const d=new Eb(zc,"",e.data.nonce);this.logger.verbose(`Sending handshake response to ${e.origin}`);const f=(c=e.ports)==null?void 0:c[0];f&&(f.onmessage=this.messageListener,this.embeddedAppConfigMap.set(e.data.embeddedClientId,[e.origin,f]));const p=Xz(e.data.version);f&&p.major===3&&p.minor>=15&&p.minor<=19?f==null||f.postMessage(d):(u=e.source)==null||u.postMessage(d,e.origin)}catch(d){throw this.endBrokerPerformanceEvent(r.embeddedClientId,a,d),d}}async handleBrokerRedirectResponse(e,t){var r;if(e){const i=this.embeddedAppConfigMap.get(e.embeddedClientId);let a,c;i?[c,a]=i:(c=t.origin,a=(r=t.ports)==null?void 0:r[0]),this.currentBrokerRedirectResponse&&await this.currentBrokerRedirectResponse;const u=this.redirectResponseMap.get(c),d=new Ai(se.Redirect,u||null);this.logger.verbose("Sending auth response"),a==null||a.postMessage(d);const f=`msal.${this.getConfiguration().auth.clientId}`;cy(this.getConfiguration()).removeItem(`${f}.request.native`);return}}async handleBrokerAuthRequest(e,t){this.currentBrokerRedirectResponse&&await this.currentBrokerRedirectResponse,e.request.correlationId||(e.request.correlationId=si());const r=e.request.correlationId,i=e.request.account||this.getActiveAccount();let a;switch(e.interactionType){case se.Silent:if(i){this.performanceClient.addFields({brokerEventName:dt.AcquireTokenSilent},r),a=this.brokeredSilentRequest(e,i,t);break}this.performanceClient.addFields({brokerEventName:dt.SsoSilent},r),a=this.brokeredSsoSilentRequest(e,t);break;case se.Redirect:case se.Popup:default:const c=this.getInteractionType(e.interactionType);this.performanceClient.addFields({brokerEventName:c===se.Redirect?dt.AcquireTokenRedirect:dt.AcquireTokenPopup},r),a=this.interactiveBrokerRequest(c,e,t);break}return a}getInteractionType(e){const t=this.pwbBrokerAppConfiguration.preferredInteractionType;return t||e}async interactiveBrokerRequest(e,t,r){switch(e){case se.Redirect:return this.brokeredRedirectRequest(t,r);case se.Popup:return this.brokeredPopupRequest(t,r);case se.Silent:this.logger.error("Invalid code path. interactiveBrokerRequest() should only be called for interactive requests.");return;case se.None:this.logger.error("Broker is blocking interactive requests. Please attempt a silent request or sign into the broker first.");return;default:this.logger.error("Invalid code path. interactiveBrokerRequest() should only be called for interactive requests.");return}}async brokeredRedirectRequest(e,t){var a;this.logger.verbose("Brokered redirect request initiated.");const r=this.getAllAccounts();this.eventHandler.emitEvent(r.length===0?re.LOGIN_START:re.ACQUIRE_TOKEN_START,se.Redirect,e.request);const i=((a=this.embeddedAppConfigMap.get(e.embeddedClientId))==null?void 0:a[1])||t;try{const c=new Sb;i==null||i.postMessage(c),this.logger.verbose(`Sending redirect response: ${c}`);const u=this.addBrokerRequestProperties(e);return u.state=UJ(e,u.state),await super.acquireTokenRedirect(u)}catch(c){const u=new Ai(se.Redirect,null,c);this.logger.verbose(`Found auth error in redirect: ${c}`),i==null||i.postMessage(u),this.eventHandler.emitEvent(r.length===0?re.LOGIN_FAILURE:re.ACQUIRE_TOKEN_FAILURE,se.Redirect,null,c)}}async brokeredPopupRequest(e,t){var a;this.logger.verbose("Brokered popup request initiated.");const r=this.getAllAccounts();this.eventHandler.emitEvent(r.length===0?re.LOGIN_START:re.ACQUIRE_TOKEN_START,se.Popup,e.request);const i=((a=this.embeddedAppConfigMap.get(e.embeddedClientId))==null?void 0:a[1])||t;try{const c=this.addBrokerRequestProperties(e),u=await super.acquireTokenPopup(c),d=new Ai(se.Popup,u);this.logger.verbosePii("Sending auth response"),i==null||i.postMessage(d);const f=r.length<this.getAllAccounts().length;this.eventHandler.emitEvent(f?re.LOGIN_SUCCESS:re.ACQUIRE_TOKEN_SUCCESS,se.Popup,u)}catch(c){const u=new Ai(se.Popup,null,c);this.logger.verbose(`Found auth error in popup: ${c}`),i==null||i.postMessage(u),this.eventHandler.emitEvent(r.length===0?re.LOGIN_FAILURE:re.ACQUIRE_TOKEN_FAILURE,se.Popup,null,c)}}async brokeredSsoSilentRequest(e,t){var i;this.logger.verbose("Brokered SSO Silent request initiated."),this.eventHandler.emitEvent(re.SSO_SILENT_START,se.Silent,e.request);const r=((i=this.embeddedAppConfigMap.get(e.embeddedClientId))==null?void 0:i[1])||t;try{const a=this.addBrokerRequestProperties(e),c=await super.ssoSilent(a),u=new Ai(se.Silent,c);this.logger.verbosePii("Sending auth response"),r==null||r.postMessage(u),this.eventHandler.emitEvent(re.SSO_SILENT_SUCCESS,se.Silent,c)}catch(a){const c=new Ai(se.Silent,null,a);this.logger.verbose(`Found auth error in ssoSilent: ${a}`),r==null||r.postMessage(c),this.eventHandler.emitEvent(re.SSO_SILENT_FAILURE,se.Silent,null,a)}}async brokeredSilentRequest(e,t,r){var a;this.logger.verbose("Brokered Silent request initiated."),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_START,se.Silent,e.request);const i=((a=this.embeddedAppConfigMap.get(e.embeddedClientId))==null?void 0:a[1])||r;try{const c=this.addBrokerRequestProperties(e,t);c.cacheLookupPolicy=pn.RefreshTokenAndNetwork;const u=await super.acquireTokenSilent(c),d=new Ai(se.Silent,u);i==null||i.postMessage(d),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_SUCCESS,se.Silent,u)}catch(c){const u=new Ai(se.Silent,null,c);this.logger.verbose(`Found auth error in silent: ${c}`),i==null||i.postMessage(u),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,se.Silent,null,c)}}getEmbeddedAppRedirectUri(e){const t=new mt(e);return`brk-${this.getConfiguration().auth.clientId}://${t.getUrlComponents().HostNameAndPort}`}addBrokerRequestProperties(e,t){const r={...e.request};r.redirectUri=this.getEmbeddedAppRedirectUri(e.embeddedAppOrigin),r.extraQueryParameters={...r.extraQueryParameters,client_id:e.embeddedClientId,brk_client_id:this.getConfiguration().auth.clientId,brk_redirect_uri:this.getConfiguration().auth.redirectUri||Ii()},r.tokenBodyParameters={...r.tokenBodyParameters,client_id:e.embeddedClientId,brk_client_id:this.getConfiguration().auth.clientId,brk_redirect_uri:this.getConfiguration().auth.redirectUri||Ii()},r.storeInCache={idToken:!1,accessToken:!1};const i=t||this.getActiveAccount();return i&&(r.account=i),e.request.correlationId&&this.performanceClient.addFields({embeddedClientId:e.embeddedClientId,embeddedRedirectUri:e.embeddedAppOrigin},e.request.correlationId),r}async sendLogoutRequestToEmbeddedApps(e){this.logger.verbose("sendLogoutRequestToEmbeddedApps called"),await this.messageEmbeddedAppsToLogout(new Ab(zc,(e==null?void 0:e.correlationId)||si()))}async messageEmbeddedAppsToLogout(e){const t=[];this.embeddedAppConfigMap.forEach(r=>{t.push(new Promise((i,a)=>{var u;const c=window.setTimeout(()=>{i()},200);try{(u=r[1])==null||u.postMessage(e),r[1].addEventListener("message",d=>{d.data.messageType===Tt.EMBEDDED_LOGOUT_RESPONSE&&(this.logger.info(`Received logout response from embedded app: ${d.data.embeddedClientId}`),i(),clearTimeout(c))})}catch(d){this.logger.error(`Could not logout application ${r[0]}. Error in message channel: ${d}`),a(d)}}))}),await Promise.all(t)}endBrokerPerformanceEvent(e,t,r){this.telemetryAllowedEmbeddedClients.has(e)||(this.logger.verbosePii(`TelemetryReporter: Skipping brokered event as not allowed by the client ${e}`,t.event.correlationId),t.discard()),r?t.end({success:!1},r):t.end({success:!0})}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */class BJ extends Ji{constructor(e,t,r){super(Tt.EMBEDDED_LOGOUT_RESPONSE),this.version=e,this.correlationId=r,this.embeddedClientId=t}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const ff={Interaction:"brokerInteractionTimeoutMs",Message:"brokerMessageTimeoutMs",Iframe:"brokerIframeTimeoutMs"},pf={Interaction:"brokerInteractionTimedOut",Message:"brokerMessageTimedOut",Iframe:"brokerIframeTimedOut"};class KJ{get trustedBrokersProvided(){return!!this.pwbBrokeredAppConfiguration.trustedBrokerDomains&&this.pwbBrokeredAppConfiguration.trustedBrokerDomains.length>=1}get brokerConnectionEstablished(){return!!this.brokerMetadata}constructor(e,t,r,i,a,c,u,d){this.pwbBrokeredAppConfiguration=r,this.clientId=e,this.logger=i,this.brokerMetadata=null,this.performanceClient=a,this.hydrateCache=u,this.clearCache=d,this.messageChannelList=[],this.messageChannel=new MessageChannel,this.resolvers=new Map,this.temporaryBrokerStorage=c,this.onWindowMessageCb=this.onWindowMessage.bind(this),this.handshakeMetadata={correlationId:t}}getAncestors(){var r;const e=[];let t=window;for(;t&&t.parent&&t.parent.window!==t;)t=(r=t.parent)==null?void 0:r.window,e.push(t);return this.logger.verbose(`Attempting to send handshake request to ${e.length} ancestors`),e}async initiateHandshake(e){if(!this.trustedBrokersProvided)throw on.createNoTrustedBrokersProvidedError();return this.initMeasurement&&this.initMeasurement.discard(),this.initMeasurement=e,new Promise((t,r)=>{const i=setTimeout(()=>{this.logger.warning("Broker handshake timed out"),e==null||e.add({brokerHandshakeTimedOut:!0,brokerHandshakeTimeoutMs:this.pwbBrokeredAppConfiguration.brokerHandshakeTimeout}),r(on.createMessageBrokerHandshakeTimeoutError())},this.pwbBrokeredAppConfiguration.brokerHandshakeTimeout);this.handshakeMetadata.resolve=t,this.handshakeMetadata.reject=r,this.handshakeMetadata.timeoutId=i,window.addEventListener("message",this.onWindowMessageCb);const a=[];a.push(window),a.push(...this.getAncestors());for(let c=0;c<a.length;c++){const u=a[c],d=a.length-c-1;this.logger.verbose(`Sending handshake request to frame with depth = ${d}`),this.sendHandshakeRequest(u,d,void 0,e)}}).catch(t=>{const r=t;this.logger.error(r.message)})}async onWindowMessage(e){if(e.data&&e.origin&&this.pwbBrokeredAppConfiguration.trustedBrokerDomains.includes(e.origin))if(e.data.messageType===Tt.BROKER_READY){this.logger.verbose("Broker is available.");const t=this.performanceClient.startMeasurement(dt.PairwiseBrokerApplicationInitializeBrokering,this.handshakeMetadata.correlationId);return this.handshakeMetadata.performanceEvent&&this.handshakeMetadata.performanceEvent.discard(),this.handshakeMetadata.performanceEvent=t,t.add({isBackground:!0}),this.sendHandshakeRequest(e.source,this.getFrameDepth(e.source),e.origin,t)}else e.data.messageType===Tt.HANDSHAKE_RESPONSE&&(this.handshakeMetadata.performanceEvent=this.initMeasurement,this.onHandshakeResponse(e))}getFrameDepth(e){const t=[];t.push(window),t.push(...this.getAncestors());for(let r=0;r<t.length;r++)if(t[r]===e)return t.length-r-1;return 0}closeBrokerConnection(){this.logger.verbose("Closing broker connection."),this.brokerMetadata=null,vu(this.messageChannel),this.messageChannelList.forEach(e=>vu(e.channel)),window.removeEventListener("message",this.onWindowMessageCb)}async sendSsoSilentRequest(e){this.performanceEvent=this.performanceClient.startMeasurement(dt.EmbeddedClientApplicationSendSSOSilentRequest,e.correlationId),Oo(!0),this.performanceEvent.increment({visibilityChangeCount:0});const t=()=>{this.trackPageVisibility()};document.addEventListener("visibilitychange",t);try{const r=await this.sendRequest(e,se.Silent,{type:ff.Iframe,error:pf.Iframe,value:yg}),i=await this.handleResponse(r,e);if(i)this.performanceEvent.end({success:!0,fromCache:i.fromCache,accessTokenSize:i.accessToken.length,idTokenSize:i.idToken.length,isNativeBroker:i.fromNativeBroker,requestId:i.requestId},e.correlationId);else throw this.logger.errorPii(`Broker response is empty in brokered ssoSilent request: ${JSON.stringify(i)}`),on.createBrokerResponseInvalidError();return i}catch(r){throw this.performanceEvent.end({success:!1},r),r}finally{document.removeEventListener("visibilitychange",t)}}async sendPopupRequest(e){this.performanceEvent=this.performanceClient.startMeasurement(dt.EmbeddedClientApplicationSendPopupRequest,e.correlationId),Oo(!0);try{const t=await this.sendRequest(e,se.Popup,{type:ff.Interaction,error:pf.Interaction,value:this.pwbBrokeredAppConfiguration.brokerInteractionTimeout}),r=await this.handleResponse(t,e);if(r)this.performanceEvent.end({success:!0,fromCache:r.fromCache,accessTokenSize:r.accessToken.length,idTokenSize:r.idToken.length,isNativeBroker:r.fromNativeBroker,requestId:r.requestId});else throw Sb.validate(t)?(this.logger.verbose("popupRequest requires a redirect by the broker, this app will now redirect."),on.createBrokerPopupRequestRedirectingError()):(this.logger.errorPii(`Broker response is empty in brokered popup request: ${JSON.stringify(r)}`),on.createBrokerResponseInvalidError());return r}catch(t){throw this.performanceEvent.end({success:!1},t),t}}async sendHandleRedirectRequest(e){this.performanceEvent=this.performanceClient.startMeasurement(dt.EmbeddedClientApplicationHandleRedirectRequest);try{const t=new Tb(this.clientId,zc),r=await this.messageBroker(t,e.correlationId,{type:ff.Message,error:pf.Message,value:this.pwbBrokeredAppConfiguration.brokerMessageTimeout}),i=await this.handleResponse(r,e);return this.performanceEvent.end({success:!0,fromCache:i==null?void 0:i.fromCache,accessTokenSize:i==null?void 0:i.accessToken.length,idTokenSize:i==null?void 0:i.idToken.length,isNativeBroker:i==null?void 0:i.fromNativeBroker}),i}catch(t){throw this.performanceEvent.end({success:!1},t),t}}async sendSilentRefreshRequest(e){this.performanceEvent=this.performanceClient.startMeasurement(dt.EmbeddedClientApplicationSendSilentRefreshRequest,e.correlationId),Oo(!0),this.performanceEvent.increment({visibilityChangeCount:0});const t=()=>this.trackPageVisibility();document.addEventListener("visibilitychange",t);try{const r=await this.sendRequest(e,se.Silent,{type:ff.Message,error:pf.Message,value:this.pwbBrokeredAppConfiguration.brokerMessageTimeout}),i=await this.handleResponse(r,e);if(i)this.performanceEvent.end({success:!0,fromCache:i.fromCache,accessTokenSize:i.accessToken.length,idTokenSize:i.idToken.length,isNativeBroker:i.fromNativeBroker,requestId:i.requestId});else throw this.logger.errorPii(`Broker response is empty in brokered silent refresh request: ${JSON.stringify(i)}`),on.createBrokerResponseInvalidError();return i}catch(r){throw this.performanceEvent.end({success:!1},r),r}finally{document.removeEventListener("visibilitychange",t)}}async sendRequest(e,t,r){if(e.authenticationScheme===Et.POP){const a=new sw(e);e.popKid=await a.generatePublicKeyThumbprint();const c=cw(this.clientId);this.temporaryBrokerStorage.containsKey(c)&&this.temporaryBrokerStorage.setItem(c,JSON.stringify(e))}const i=new Cb(this.clientId,t,e,"");return this.messageBroker(i,e.correlationId,r)}getMessageChannelProperties(e){return e?this.messageChannelList.find(t=>t.nonce===e):this.getMessageChannelPropertiesByDepth(0)}getMessageChannelPropertiesByDepth(e){return this.messageChannelList.find(t=>t.depth===e)}onHandshakeResponse(e){const{resolve:t,reject:r,performanceEvent:i,timeoutId:a}=this.handshakeMetadata;try{const c=Eb.validate(e,this.pwbBrokeredAppConfiguration.trustedBrokerDomains);if(c){const u=this.getMessageChannelProperties(c.nonce);if(!u){this.logger.trace("No MessageChannel found, ignoring this response"),i==null||i.increment({handshakeIgnoredCount:1});return}if(c.nonce&&c.nonce!==u.nonce){this.logger.trace("Received handshake response but there is a newer handshake request in flight, ignoring this one"),i==null||i.increment({handshakeIgnoredCount:1});return}a&&clearTimeout(a),this.logger.verbose("Received handshake response");const d=Xz(c.version);this.brokerMetadata={origin:c.brokerOrigin,version:c.version,semver:d,frameDepth:u.depth},d.major<=3&&d.minor<15&&vu(u.channel),vu(this.messageChannel),this.messageChannel=u.channel,t&&t(),i==null||i.add({brokerFrameDepth:u.depth}),i==null||i.end({success:!0})}}catch(c){const u=c;r&&r(u),this.logger.error(u.message),i==null||i.end({success:!1},u)}}sendHandshakeRequest(e=window.top,t,r,i){if(this.logger.trace("Pairwise Broker - sendHandshakeRequest called."),!e)throw this.logger.error("Target frame is undefined."),on.createBrokerHandshakeFailedError();let a=new MessageChannel;const c=si();a.port1.onmessage=async f=>{f.data&&(f.data.messageType===Tt.HANDSHAKE_RESPONSE?(this.logger.warning("Received handshake response but the broker app is using a version of MSAL.js that does not report its origin, attempting direct communication with each trusted broker domain to resolve. This is a known issue with versions 3.15.0-3.19.1, consider asking the broker app to upgrade."),this.pwbBrokeredAppConfiguration.trustedBrokerDomains.forEach(p=>{const g=new MessageChannel;g.port1.onmessage=v=>{vu(a),a=g,this.onHandshakeResponse({...v,data:{...v.data},origin:p})},this.logger.verbose(`Sending handshake request to ${p}`),e==null||e.postMessage(u,p,[g.port2])})):await this.handleBrokerMessage(f))};const u=new bb(this.clientId,zc,!0,c),d=this.getMessageChannelPropertiesByDepth(t);d?(vu(d.channel),d.channel=a,d.nonce=c):this.messageChannelList.push({channel:a,nonce:c,depth:t}),this.logger.verbose("Sending handshake request"),i==null||i.increment({handshakeSentCount:1}),e==null||e.postMessage(u,r||"*",[a.port2])}async handleBrokerMessage(e){var c,u,d,f;const t=((u=(c=e.data)==null?void 0:c.result)==null?void 0:u.correlationId)||((f=(d=e.data)==null?void 0:d.errorPayload)==null?void 0:f.correlationId),r=e.data.messageType;if(this.logger.verbose(`Received message from broker of type: ${r} with correlationId: ${t}`),!r)return;let i;if(r===Tt.EMBEDDED_LOGOUT_REQUEST){this.logger.verbose("Received logout message from broker."),await this.handleLogoutMessageFromBroker(e),this.messageChannel.port1.postMessage(new BJ(zc,this.clientId,t));return}else if(r===Tt.AUTH_RESULT&&e.data.interactionType===se.Redirect)this.logger.verbose("Received redirect response from broker."),i=se.Redirect;else if(t)this.logger.verbose(`Resolving message for ${t}.`),i=t;else{this.logger.verbose(`No correlationId found in message: ${r}.`);return}const a=this.resolvers.get(i);a?(clearTimeout(a.timeoutId),a.resolve(e),this.resolvers.delete(i)):this.logger.warning(`Cannot resolve message for ${t}. Ignoring.`)}async messageBroker(e,t,r={type:ff.Message,error:pf.Message,value:this.pwbBrokeredAppConfiguration.brokerMessageTimeout}){return new Promise((i,a)=>{var p,g;if(!this.brokerMetadata){a(on.createBrokeringDisabledError());return}const c=setTimeout(()=>{var b;const v={},y=r.error.toString();v[y]=!0,(b=this.performanceEvent)==null||b.add(v),a(on.createMessageBrokerTimeoutError())},r.value),u={},d=r.type.toString();u[d]=r.value,(p=this.performanceEvent)==null||p.add(u);const f=e.messageType===Tt.HANDLE_REDIRECT_REQUEST?se.Redirect:t;if(this.resolvers.set(f,{resolve:i,reject:a,timeoutId:c}),this.brokerMetadata.semver.major>=3&&this.brokerMetadata.semver.minor>=15)this.messageChannel.port1.postMessage(e);else{const v=new MessageChannel;v.port1.onmessage=this.handleBrokerMessage.bind(this),(g=window.top)==null||g.postMessage(e,this.brokerMetadata.origin,[v.port2])}})}async handleResponse(e,t){const r=Ai.validate(e);if(!r)return null;if(r.errorPayload)throw Ai.detectError(r.errorPayload);if(!r.result)throw on.createBrokerResponseInvalidError();await this.hydrateCache(r.result,t);let i;if(t.authenticationScheme===Et.POP){if(!t.popKid)throw on.createShrGenerationError();i=await new sw(t).signRequest(r.result.accessToken,t.popKid)}return{...r.result,accessToken:i||r.result.accessToken}}async handleLogoutMessageFromBroker(e){Ab.validate(e)&&(this.logger.verbose("Logout request received from broker and validated. Logging out embedded app."),await this.clearCache())}trackPageVisibility(){this.performanceEvent&&(this.logger.info("Embedded client: Visibility change detected"),this.performanceEvent.increment({visibilityChangeCount:1}))}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */class qJ extends Fg{constructor(e,t,r){super(e,r),this.pwbBrokerAppConfig=Wz(t),this.temporaryBrokerStorage=cy(e),this.eventHandler=new yb(this.getLogger()),this.redirectResponse=new Map,this.initialized=!1}async initialize(e){await super.initialize(e),this.initialized=!0}async initializeBrokering(e,t){if(typeof window>"u")return;const r={...t,correlationId:(t==null?void 0:t.correlationId)||si()},i=this.performanceClient.startMeasurement(dt.PairwiseBrokerApplicationInitializeBrokering,r.correlationId);i.add({isBackground:!1});try{this.pwbBrokerAppConfig.actAsBroker?(this.pwbBrokerAppConfig.allowBrokering&&this.getLogger().verbose("Running in top frame and both actAsBroker, allowBrokering flags set to true. actAsBroker takes precedence."),this.broker=new FJ(this.getConfiguration(),this.pwbBrokerAppConfig,this.eventHandler),this.getLogger().verbose("Acting as Broker"),this.getLogger().verbose("Initialize the extension for the new broker instance"),i.add({isBroker:!0}),await this.broker.initialize(r),await this.broker.listenForBrokerMessage(e,i),i.end({success:!0})):this.pwbBrokerAppConfig.allowBrokering&&(this.embeddedApp=new KJ(this.getConfiguration().auth.clientId,r.correlationId,this.pwbBrokerAppConfig,this.getLogger(),this.performanceClient,this.temporaryBrokerStorage,this.hydrateCache.bind(this),this.clearCache.bind(this)),this.getLogger().verbose("Acting as child"),i.add({isBroker:!1}),await this.embeddedApp.initiateHandshake(i))}catch(a){throw i.end({success:!1},a),a}}async handleRedirectPromise(e){if(St(this.initialized),typeof window<"u"){const t=e||"";let r=this.redirectResponse.get(t);if(typeof r>"u"){this.eventHandler.emitEvent(re.HANDLE_REDIRECT_START,se.Redirect);const i=this.getAllAccounts();r=this.handleRedirectPromiseInternal(e).then(a=>{if(!a)return null;const c=i.length<this.getAllAccounts().length;return this.eventHandler.emitEvent(c?re.LOGIN_SUCCESS:re.ACQUIRE_TOKEN_SUCCESS,se.Redirect,a),a}).catch(a=>{throw this.eventHandler.emitEvent(i.length>0?re.ACQUIRE_TOKEN_FAILURE:re.LOGIN_FAILURE,se.Redirect,null,a),a}).finally(()=>{this.eventHandler.emitEvent(re.HANDLE_REDIRECT_END,se.Redirect)}),this.redirectResponse.set(t,r)}return r}return null}async handleRedirectPromiseInternal(e){var t;if((t=this.embeddedApp)!=null&&t.brokerConnectionEstablished){const r=cw(this.controller.getConfiguration().auth.clientId),i=this.temporaryBrokerStorage.getItem(r);if(i){const a=JSON.parse(i);return await this.embeddedApp.sendHandleRedirectRequest(a).catch(u=>{throw u instanceof ht&&u.setCorrelationId(a.correlationId),u}).finally(()=>{this.temporaryBrokerStorage.removeItem(r)})}else return null}else return this.broker?this.broker.handleRedirectPromise(e):super.handleRedirectPromise(e)}async loginRedirect(e){return this.acquireTokenRedirect(e||{scopes:Wi})}async acquireTokenRedirect(e){const t=this.getAllAccounts().length===0;return this.eventHandler.emitEvent(t?re.LOGIN_START:re.ACQUIRE_TOKEN_START,se.Redirect,e),super.acquireTokenRedirect(e).catch(r=>(this.eventHandler.emitEvent(t?re.LOGIN_FAILURE:re.ACQUIRE_TOKEN_FAILURE,se.Redirect,null,r),Promise.reject(r)))}async loginPopup(e){return this.acquireTokenPopup(e||{scopes:Wi})}async acquireTokenPopup(e){Oo(!0);const t={...e,correlationId:e.correlationId||si()},r=this.getAllAccounts();return this.eventHandler.emitEvent(r.length===0?re.LOGIN_START:re.ACQUIRE_TOKEN_START,se.Popup,t),this.acquireTokenPopupInternal(t).then(i=>{const a=r.length<this.getAllAccounts().length;return this.eventHandler.emitEvent(a?re.LOGIN_SUCCESS:re.ACQUIRE_TOKEN_SUCCESS,se.Popup,i),i}).catch(i=>{i instanceof ht&&i.setCorrelationId(t.correlationId);const a=r.length===0;return this.eventHandler.emitEvent(a?re.LOGIN_FAILURE:re.ACQUIRE_TOKEN_FAILURE,se.Popup,null,i),Promise.reject(i)})}async acquireTokenPopupInternal(e){var t;if((t=this.embeddedApp)!=null&&t.brokerConnectionEstablished){if(this.getLogger().verbose("pairwise broker (embedded app) acquireTokenPopup called",e.correlationId),!this.embeddedApp)throw on.createNoEmbeddedAppError();const r=cw(this.controller.getConfiguration().auth.clientId);return this.temporaryBrokerStorage.setItem(r,JSON.stringify(e)),this.embeddedApp.sendPopupRequest(e).then(i=>(this.temporaryBrokerStorage.removeItem(r),i))}return super.acquireTokenPopup(e)}async ssoSilent(e){Oo(!0);const t={...e,correlationId:e.correlationId||si()};return this.eventHandler.emitEvent(re.SSO_SILENT_START,se.Silent,t),this.ssoSilentInternal(t).then(r=>(this.eventHandler.emitEvent(re.SSO_SILENT_SUCCESS,se.Silent,r),r)).catch(r=>{throw r instanceof ht&&r.setCorrelationId(t.correlationId),this.eventHandler.emitEvent(re.SSO_SILENT_FAILURE,se.Silent,null,r),r})}async ssoSilentInternal(e){return this.embeddedApp&&this.embeddedApp.brokerConnectionEstablished?(this.getLogger().verbose("ssoSilent called",e.correlationId),this.embeddedApp.sendSsoSilentRequest(e)):super.ssoSilent(e)}async acquireTokenSilent(e){Oo(!0);const t={...e,correlationId:e.correlationId||si()};return this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_START,se.Silent,t),this.acquireTokenSilentInternal(t).then(r=>(this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_SUCCESS,se.Silent,r),r)).catch(r=>(r instanceof ht&&r.setCorrelationId(t.correlationId),this.eventHandler.emitEvent(re.ACQUIRE_TOKEN_FAILURE,se.Silent,null,r),Promise.reject(r)))}async acquireTokenSilentInternal(e){var i;if(!((i=this.embeddedApp)!=null&&i.brokerConnectionEstablished))return super.acquireTokenSilent(e);this.getLogger().verbose("acquireTokenSilent - attempting to acquire token from web flow");const t={...e,cacheLookupPolicy:pn.AccessToken};let r;return e.cacheLookupPolicy===pn.RefreshToken||e.cacheLookupPolicy===pn.RefreshTokenAndNetwork||e.cacheLookupPolicy===pn.Skip||e.forceRefresh?r=Promise.reject(new Ri(oi)):r=super.acquireTokenSilent(t),r.catch(async a=>{if(e.cacheLookupPolicy===pn.AccessToken)throw a;if(!this.embeddedApp)throw on.createNoEmbeddedAppError();return this.embeddedApp.sendSilentRefreshRequest(e)})}async logoutRedirect(e){if(this.embeddedApp&&this.embeddedApp.brokerConnectionEstablished)this.getLogger().error("Embedded app is not allowed to logout while the broker app is logged in.");else if(this.broker)return await this.broker.sendLogoutRequestToEmbeddedApps(),super.logoutRedirect(e)}async logoutPopup(e){if(this.embeddedApp&&this.embeddedApp.brokerConnectionEstablished)this.getLogger().error("Embedded app is not allowed to logout while the broker app is logged in.");else if(this.broker)return await this.broker.sendLogoutRequestToEmbeddedApps(),super.logoutPopup(e)}setActiveAccount(e){this.broker&&this.broker.setActiveAccount(e),super.setActiveAccount(e)}addEventCallback(e,t=Object.values(re)){const r=[re.ACQUIRE_TOKEN_START,re.ACQUIRE_TOKEN_SUCCESS,re.ACQUIRE_TOKEN_FAILURE,re.LOGIN_START,re.LOGIN_SUCCESS,re.LOGIN_FAILURE,re.SSO_SILENT_START,re.SSO_SILENT_SUCCESS,re.SSO_SILENT_FAILURE,re.HANDLE_REDIRECT_START,re.HANDLE_REDIRECT_END],i=[],a=[];t.forEach(u=>{r.includes(u)?i.push(u):a.push(u)});const c=super.addEventCallback(e,a);return c?(this.eventHandler.addEventCallback(e,i,c),c):null}removeEventCallback(e){super.removeEventCallback(e),this.eventHandler.removeEventCallback(e)}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const Kee=Object.freeze(Object.defineProperty({__proto__:null,AccountEntity:In,ApiId:nn,AuthError:ht,AuthErrorCodes:kW,AuthErrorMessage:IW,AuthenticationHeaderParser:nX,AuthenticationScheme:Et,AzureCloudInstance:Dd,BrowserAuthError:bl,BrowserAuthErrorCodes:hX,BrowserAuthErrorMessage:fX,BrowserCacheLocation:gn,BrowserConfigurationAuthError:Ug,BrowserConfigurationAuthErrorCodes:IX,BrowserConfigurationAuthErrorMessage:OX,BrowserPerformanceClient:Qz,BrowserPerformanceMeasurement:ni,BrowserStorage:bg,BrowserUtils:NX,CacheLookupPolicy:pn,ClientAuthError:Ri,ClientAuthErrorCodes:OW,ClientAuthErrorMessage:NW,ClientConfigurationError:Lg,ClientConfigurationErrorCodes:qW,ClientConfigurationErrorMessage:$W,DEFAULT_IFRAME_TIMEOUT_MS:yg,EventHandler:yb,EventMessageUtils:bJ,EventType:re,InteractionRequiredAuthError:wr,InteractionRequiredAuthErrorCodes:V7,InteractionRequiredAuthErrorMessage:Q7,InteractionStatus:_r,get InteractionType(){return se},JsonWebTokenTypes:tz,get LogLevel(){return rn},Logger:xi,MemoryStorage:_g,NavigationClient:vg,OIDC_DEFAULT_SCOPES:Wi,PairwiseBrokerApplication:qJ,PerformanceEvents:P,PromptValue:jn,ProtocolMode:Io,PublicClientApplication:Fg,PublicClientNext:N_,ServerError:Li,ServerResponseType:rh,SignedHttpRequest:sw,StringUtils:li,StubPerformanceClient:D0,UrlString:mt,WrapperSKU:pX,createNestablePublicClientApplication:yJ,createStandardPublicClientApplication:Yz,stubbedPublicClientApplication:_J,version:zc},Symbol.toStringTag,{value:"Module"}));export{K0 as $,HD as A,lw as B,m3 as C,jJ as D,Lj as E,gr as F,QJ as G,qj as H,kee as I,tee as J,$V as K,Rw as L,bee as M,Rg as N,ml as O,ZJ as P,Oee as Q,Hc as R,ga as S,Mee as T,Ree as U,Hj as V,dee as W,vU as X,MU as Y,JU as Z,bG as _,q_ as a,ks as a0,mee as a1,GO as a2,uee as a3,lee as a4,see as a5,eee as a6,JJ as a7,ree as a8,cee as a9,xee as aa,fr as ab,VJ as ac,Dee as ad,Fee as ae,Ts as af,Sy as ag,zee as ah,Hee as ai,Nee as aj,Tee as ak,Uee as al,su as am,uG as an,See as ao,Eee as ap,Lee as aq,q4 as ar,Aee as as,pee as at,wee as au,hee as av,Bee as aw,Kee as ax,Pee as b,ON as c,_ee as d,mr as e,oee as f,XJ as g,g3 as h,Rr as i,Fe as j,VO as k,aee as l,RN as m,WJ as n,nee as o,E3 as p,iee as q,be as r,YJ as s,Iee as t,$_ as u,K_ as v,GJ as w,Cee as x,yee as y,vee as z};

//# debugId=37ec0c08-9b64-5efe-ac39-5d279a06b825
